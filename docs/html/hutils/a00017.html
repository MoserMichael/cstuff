<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HTTP Parser and message builder / objects in plain C: http.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HTTP Parser and message builder / objects in plain C&#160;<span id="projectnumber">Snapshot</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">http.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;nutils/bf.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="a00022_source.html">hutils/uri.h</a>&gt;</code><br/>
<code>#include &lt;cutils/dlistunr.h&gt;</code><br/>
<code>#include &lt;cutils/bhash.h&gt;</code><br/>
</div>
<p><a href="a00017_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html">tagSTRINGPAIR</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00003.html">tagHTTP_MESSAGE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00005.html">tagHTTP_REQUEST</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http request.  <a href="a00005.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html">tagHTTP_RESPONSE</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http response.  <a href="a00007.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00004.html">tagHTTP_PARSER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of both http request and http response parsers  <a href="a00004.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00006.html">tagHTTP_REQUEST_PARSER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parser of http requests  <a href="a00006.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html">tagHTTP_RESPONSE_PARSER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parser of http responses  <a href="a00008.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00009.html">tagHTTP_RESPONSE_WRITER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">writer of http responses  <a href="a00009.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a0a66a9905aa743b7f731f1c5f1f9e981">HTTP_MESSAGE_FLAG_CONNECTION_CLOSE</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ac8a5bb01ca6fedc97a5a5377397f5a84">HTTP_MESSAGE_FLAG_TRANSFER_CHUNKED</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a091dd3c50642a1632d85fe2d552d4a69">HTTP_MESSAGE_FLAG_HAS_CONTENT_LENGTH</a>&#160;&#160;&#160;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ac75f76df3b41c35d459bbfc50cec3123">HTTP_MESSAGE_FLAG_KEEPALIVE</a>&#160;&#160;&#160;8</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00011.html">tagSTRINGPAIR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga8118b527e2c0aaba786f406681e80b65">STRINGPAIR</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00003.html">tagHTTP_MESSAGE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#gab956fd255b384bed00c5015cd1a6ee14">HTTP_MESSAGE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#aef3a97b256b09f6a4ef1527ead10d52f">HEADER_ACTION</a> )(struct <a class="el" href="a00003.html">tagHTTP_MESSAGE</a> *request, struct <a class="el" href="a00004.html">tagHTTP_PARSER</a> *parser)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">callback that is invoked in order to parse contents of a specific http header  <a href="#aef3a97b256b09f6a4ef1527ead10d52f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816">tagHttp_method_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ac5182036656d3198819f12ef9ec9d08b">Http_method_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1">tagHttp_version_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a06dc534889d1806e0448e56dd9757dae">Http_version_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a50bf360c3d97280b2666c1809a506e2a">HTTP_REQ_HEADER_PARSED</a> )(<a class="el" href="a00005.html">HTTP_REQUEST</a> *request, void *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#aa24d67ab42bb7b2da8c617b1b21b54a9">HTTP_REQ_MESSAGE_BODY_DATA</a> )(<a class="el" href="a00005.html">HTTP_REQUEST</a> *request, void *data, size_t data_size, void *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#aaad3a1f235bb76629fb76266f229a6bc">HTTP_REQ_FINISHED</a> )(<a class="el" href="a00005.html">HTTP_REQUEST</a> *request, void *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2">tagHTTP_STATE_PARSING</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a5112371ddec9917722b85465dc5b3062">HTTP_STATE_PARSING</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816">tagHttp_method_type</a> { <br/>
&#160;&#160;<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816a90754abc55dbb76862fa50abee5af659">HTTP_METHOD_GET</a>, 
<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816a1944682922ac79b2e682312d8f3f71e2">HTTP_METHOD_POST</a>, 
<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816af7557927b605c64f35f629b43823b1c9">HTTP_METHOD_PUT</a>, 
<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816a27e993d38ff6b43284014a10798b6223">HTTP_METHOD_HEAD</a>, 
<br/>
&#160;&#160;<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816af6b02f8ff0467dbdaebb24f0a996cdd4">HTTP_METHOD_OPTIONS</a>, 
<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816a761371f7807255b7912afbac2f665ffe">HTTP_METHOD_DELETE</a>, 
<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816a95b5b19305a14de1400aedfdec1c1eed">HTTP_METHOD_TRACE</a>, 
<a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816a3755246bea87120e8311dc914d573fbf">HTTP_METHOD_CONNECT</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1">tagHttp_version_type</a> { <a class="el" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1a3932308db22120ce049dd60f3430b814">HTTP_VERSION_1_0</a>, 
<a class="el" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6">HTTP_VERSION_1_1</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2">tagHTTP_STATE_PARSING</a> { <br/>
&#160;&#160;<a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>, 
<a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97">HTTP_STATE_PARSING_HEADERS</a>, 
<a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ade8a7e55f2fe126b0bddf7780bff40a0">HTTP_STATE_PARSING_BODY_CONTENT_LENGTH</a>, 
<a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989">HTTP_STATE_PARSING_BODY_CHUNK_HEADER</a>, 
<br/>
&#160;&#160;<a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a477106ecea88e2d9e496913739e9f3aa">HTTP_STATE_PARSING_BODY_CHUNK_DATA</a>, 
<a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4529c656e6bcf37dfb70ea237b08602a">HTTP_STATE_PARSING_BODY_CHUNK_EOF_AFTER_DATA</a>, 
<a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2aed4bf2d5e923949fa9b3697ae97020c3">HTTP_STATE_PARSING_BODY_CHUNK_TRAILER</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672">HTTP_RESPONSE_WR_STATE</a> { <br/>
&#160;&#160;<a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a5e5a98554127cc4161ac3e6f9a224fd9">HTTP_RESPONSE_WR_STATUS_LINE</a>, 
<a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a802496a2dfbfa20b8949c1f826ada553">HTTP_RESPONSE_WR_CONNECTION_CLOSE</a>, 
<a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a2046b96a1daddcaea11fedf47c9aef20">HTTP_RESPONSE_WR_CHUNKED</a>, 
<a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a048c496846785f0052808907603e5a6d">HTTP_RESPONSE_WR_CONTENT_LENGTH</a>, 
<br/>
&#160;&#160;<a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a9616a2518f4fdffcc45caf3458b2a7a9">HTTP_RESPONSE_WR_HEADERS</a>, 
<a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a42c49006e654df7b1449bbd96acb3b86">HTTP_RESPONSE_WR_EOF</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga14d478691c5f29cd966cb8abc4700a1f">HTTP_MESSAGE_init</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#gab01f22c91d577dfae9702308dbd0c518">HTTP_MESSAGE_free</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga1ca9f7fea4b5dfd0d084c546a489220e">HTTP_MESSAGE_add_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, const char *name, const char *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#gaa43fad45c09c9c1063dd42decc1e4b21">HTTP_MESSAGE_set_content_length</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, int content_length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga33eb4b3bf28432797029c90115dd80d7">HTTP_MESSAGE_find_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00011.html">STRINGPAIR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga225a9e18b90020b71906c943ef3bcde3">HTTP_MESSAGE_first_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, DLISTUNR_position *pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00011.html">STRINGPAIR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga405406f091c3d4236fc340910391cc87">HTTP_MESSAGE_next_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, DLISTUNR_position *pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00005.html">tagHTTP_REQUEST</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a7548b2c494ccf7acc059409a5d21ccaf">HTTP_REQUEST</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http request.  <a href="#a7548b2c494ccf7acc059409a5d21ccaf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#aa3893b9709b438c414da743d2e9ba285">HTTP_REQUEST_is_persistent</a> (<a class="el" href="a00005.html">HTTP_REQUEST</a> *message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http request.  <a href="#aa3893b9709b438c414da743d2e9ba285"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ab308a83fced871be3693cdb3fba3ec09">HTTP_REQUEST_init</a> (<a class="el" href="a00005.html">HTTP_REQUEST</a> *message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http request.  <a href="#ab308a83fced871be3693cdb3fba3ec09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a4ab326e8402a38ac166e2f90a50d91ec">HTTP_REQUEST_free</a> (<a class="el" href="a00005.html">HTTP_REQUEST</a> *message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http request.  <a href="#a4ab326e8402a38ac166e2f90a50d91ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00007.html">tagHTTP_RESPONSE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ac0d52817d9795fea81e6cfa5afa369e2">HTTP_RESPONSE</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http response.  <a href="#ac0d52817d9795fea81e6cfa5afa369e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ab50a0c614e6c5e0b1364121270be9076">HTTP_RESP_HEADER_PARSED</a> )(<a class="el" href="a00007.html">HTTP_RESPONSE</a> *request, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http response.  <a href="#ab50a0c614e6c5e0b1364121270be9076"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a3c216fb9f06ecedc1565d2479c20a51e">HTTP_RESP_MESSAGE_BODY_DATA</a> )(<a class="el" href="a00007.html">HTTP_RESPONSE</a> *request, void *data, size_t data_size, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http response.  <a href="#a3c216fb9f06ecedc1565d2479c20a51e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a27680b8dcf2740e6afd384f0f0b26003">HTTP_RESP_FINISHED</a> )(<a class="el" href="a00007.html">HTTP_RESPONSE</a> *request, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http response.  <a href="#a27680b8dcf2740e6afd384f0f0b26003"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#acc700a0e0c7ed34df458f567dad4c374">HTTP_RESPONSE_init</a> (<a class="el" href="a00007.html">HTTP_RESPONSE</a> *message, <a class="el" href="a00017.html#a06dc534889d1806e0448e56dd9757dae">Http_version_type</a> version, int status_code)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http response.  <a href="#acc700a0e0c7ed34df458f567dad4c374"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a7ca06985dfe2540a91cc74927115cde0">HTTP_RESPONSE_free</a> (<a class="el" href="a00007.html">HTTP_RESPONSE</a> *message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP_REQUEST - holds information of an http response.  <a href="#a7ca06985dfe2540a91cc74927115cde0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> { <a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a> =  -1, 
<a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a> =  0, 
<a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a> =  1
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of both http request and http response parsers  <a href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8a">HTTP_TK_TYPE</a> { <a class="el" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aad6d7754244a911a6b8cd06a72bae0a23">HTTP_TK_QUOTED_STRING</a>, 
<a class="el" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aa5a1d5470fadc11e11133c6cde6152a8a">HTTP_TK_TEXT</a>, 
<a class="el" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aae5c3c691300dabcc36e7c1bb99149f15">HTTP_TK_SEPARATOR</a>, 
<a class="el" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aad0b61dc2115021e1798bc23bd4fabf78">HTTP_TK_EOF</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of both http request and http response parsers  <a href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8a">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00004.html">tagHTTP_PARSER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a1a0ea2ba6e2fd94a692102126e5ac0f5">HTTP_PARSER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of both http request and http response parsers  <a href="#a1a0ea2ba6e2fd94a692102126e5ac0f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#accc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a> )(<a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg, void *data, size_t data_size, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of both http request and http response parsers  <a href="#accc79fd2431c99ecd68a090469da5d40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#aa5370897809bd47280b44b5fa679d2d3">HTTP_PARSER_init</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of both http request and http response parsers  <a href="#aa5370897809bd47280b44b5fa679d2d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#af7d9eeee759da719084291a7cd155c94">HTTP_PARSER_free</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of both http request and http response parsers  <a href="#af7d9eeee759da719084291a7cd155c94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ae0af51ac516c4e68c9d7ba843fbea541">HTTP_add_header_parser</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, const char *header_name, <a class="el" href="a00017.html#aef3a97b256b09f6a4ef1527ead10d52f">HEADER_ACTION</a> action)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">add a parser for a specific http header type  <a href="#ae0af51ac516c4e68c9d7ba843fbea541"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ac5e21a738d73d75ebec125c97038961a">HTTP_get_line</a> (BF *bf, char **start_line)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns next raw line from http header, adjoins line continuations.  <a href="#ac5e21a738d73d75ebec125c97038961a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a8d14d1a7cd91bbd477872efafe8e9962">HTTP_get_header_token</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return next token while parsing http header value.  <a href="#a8d14d1a7cd91bbd477872efafe8e9962"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#aa737a4c11979880764fb8031d5dfc488">HTTP_parse_header_line</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *request, BF *bf, int *eof_header)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">dispatch parsing of one http header  <a href="#aa737a4c11979880764fb8031d5dfc488"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a8b4ee246e968497579a9d9d194a92571">HTTP_PARSER_content_length_init</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">start parsing content length message body  <a href="#a8b4ee246e968497579a9d9d194a92571"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a34a73b6fe4c943ce1831c8b93c7fb426">HTTP_PARSER_content_length_process</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, BF *bf, <a class="el" href="a00017.html#accc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a> cb, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">consume content length message body.  <a href="#a34a73b6fe4c943ce1831c8b93c7fb426"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a0cfd781757cd6db4812087df78424fda">HTTP_PARSER_chunked_data_init</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">start parsing chunked data  <a href="#a0cfd781757cd6db4812087df78424fda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ac93ea444be8644a86692ae98ec0b86c6">HTTP_PARSER_chunked_data_process</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, BF *bf, <a class="el" href="a00017.html#accc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a> cb, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">finish parsind chunked content data.  <a href="#ac93ea444be8644a86692ae98ec0b86c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="a00006.html">tagHTTP_REQUEST_PARSER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a21137341221e8a3b92b3a73253d2fb08">HTTP_REQUEST_PARSER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parser of http requests  <a href="#a21137341221e8a3b92b3a73253d2fb08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#af0a986ea0582bfc4b011d2ac61aac9ca">HTTP_REQUEST_PARSER_init</a> (<a class="el" href="a00006.html">HTTP_REQUEST_PARSER</a> *parser, <a class="el" href="a00017.html#a50bf360c3d97280b2666c1809a506e2a">HTTP_REQ_HEADER_PARSED</a> header_parsed, <a class="el" href="a00017.html#aa24d67ab42bb7b2da8c617b1b21b54a9">HTTP_REQ_MESSAGE_BODY_DATA</a> on_message_body_data, <a class="el" href="a00017.html#aaad3a1f235bb76629fb76266f229a6bc">HTTP_REQ_FINISHED</a> on_request_finished, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initialise request parser object  <a href="#af0a986ea0582bfc4b011d2ac61aac9ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a84afcea80bc8b534b3eee27594d2afbd">HTTP_REQUEST_PARSER_process</a> (<a class="el" href="a00006.html">HTTP_REQUEST_PARSER</a> *parser, <a class="el" href="a00005.html">HTTP_REQUEST</a> *request, BF *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parse a http request  <a href="#a84afcea80bc8b534b3eee27594d2afbd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="a00008.html">tagHTTP_RESPONSE_PARSER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a9fd23307e5d20621c1ae6973172f3d6b">HTTP_RESPONSE_PARSER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parser of http responses  <a href="#a9fd23307e5d20621c1ae6973172f3d6b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a00451ddae893b0ea2fb035d9cd1b319a">HTTP_RESPONSE_PARSER_init</a> (<a class="el" href="a00008.html">HTTP_RESPONSE_PARSER</a> *parser, <a class="el" href="a00017.html#ab50a0c614e6c5e0b1364121270be9076">HTTP_RESP_HEADER_PARSED</a> header_parsed, <a class="el" href="a00017.html#a3c216fb9f06ecedc1565d2479c20a51e">HTTP_RESP_MESSAGE_BODY_DATA</a> on_message_body_data, <a class="el" href="a00017.html#a27680b8dcf2740e6afd384f0f0b26003">HTTP_RESP_FINISHED</a> on_request_finished, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initialise request parser object  <a href="#a00451ddae893b0ea2fb035d9cd1b319a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#ac69a62184875abe24177d14f0a9a0313">HTTP_RESPONSE_PARSER_process</a> (<a class="el" href="a00008.html">HTTP_RESPONSE_PARSER</a> *parser, <a class="el" href="a00007.html">HTTP_RESPONSE</a> *response, BF *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parse a http response  <a href="#ac69a62184875abe24177d14f0a9a0313"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="a00009.html">tagHTTP_RESPONSE_WRITER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a666a8001dbee4674469ba1124d4f0e2b">HTTP_RESPONSE_WRITER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">writer of http responses  <a href="#a666a8001dbee4674469ba1124d4f0e2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#abf2bcdffe3cecb7ca6484489009d8004">HTTP_RESPONSE_WRITER_init</a> (<a class="el" href="a00009.html">HTTP_RESPONSE_WRITER</a> *writer, <a class="el" href="a00007.html">HTTP_RESPONSE</a> *response)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">writer of http responses  <a href="#abf2bcdffe3cecb7ca6484489009d8004"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00017.html#a52fcf93eeb1c013427abde12a234adff">HTTP_RESPONSE_WRITER_write</a> (<a class="el" href="a00009.html">HTTP_RESPONSE_WRITER</a> *writer, BF *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">writer of http responses  <a href="#a52fcf93eeb1c013427abde12a234adff"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0a66a9905aa743b7f731f1c5f1f9e981"></a><!-- doxytag: member="http.h::HTTP_MESSAGE_FLAG_CONNECTION_CLOSE" ref="a0a66a9905aa743b7f731f1c5f1f9e981" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_MESSAGE_FLAG_CONNECTION_CLOSE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00013">13</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="a091dd3c50642a1632d85fe2d552d4a69"></a><!-- doxytag: member="http.h::HTTP_MESSAGE_FLAG_HAS_CONTENT_LENGTH" ref="a091dd3c50642a1632d85fe2d552d4a69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_MESSAGE_FLAG_HAS_CONTENT_LENGTH&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00015">15</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac75f76df3b41c35d459bbfc50cec3123"></a><!-- doxytag: member="http.h::HTTP_MESSAGE_FLAG_KEEPALIVE" ref="ac75f76df3b41c35d459bbfc50cec3123" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_MESSAGE_FLAG_KEEPALIVE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00016">16</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac8a5bb01ca6fedc97a5a5377397f5a84"></a><!-- doxytag: member="http.h::HTTP_MESSAGE_FLAG_TRANSFER_CHUNKED" ref="ac8a5bb01ca6fedc97a5a5377397f5a84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_MESSAGE_FLAG_TRANSFER_CHUNKED&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00014">14</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="aef3a97b256b09f6a4ef1527ead10d52f"></a><!-- doxytag: member="http.h::HEADER_ACTION" ref="aef3a97b256b09f6a4ef1527ead10d52f" args=")(struct tagHTTP_MESSAGE *request, struct tagHTTP_PARSER *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#aef3a97b256b09f6a4ef1527ead10d52f">HEADER_ACTION</a>)(struct <a class="el" href="a00003.html">tagHTTP_MESSAGE</a> *request, struct <a class="el" href="a00004.html">tagHTTP_PARSER</a> *parser)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>callback that is invoked in order to parse contents of a specific http header </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00071">71</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac5182036656d3198819f12ef9ec9d08b"></a><!-- doxytag: member="http.h::Http_method_type" ref="ac5182036656d3198819f12ef9ec9d08b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816">tagHttp_method_type</a>  <a class="el" href="a00017.html#ac5182036656d3198819f12ef9ec9d08b">Http_method_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a0ea2ba6e2fd94a692102126e5ac0f5"></a><!-- doxytag: member="http.h::HTTP_PARSER" ref="a1a0ea2ba6e2fd94a692102126e5ac0f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00004.html">tagHTTP_PARSER</a>  <a class="el" href="a00004.html">HTTP_PARSER</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>base class of both http request and http response parsers </p>

</div>
</div>
<a class="anchor" id="accc79fd2431c99ecd68a090469da5d40"></a><!-- doxytag: member="http.h::HTTP_PROCESS_MSG_DATA" ref="accc79fd2431c99ecd68a090469da5d40" args=")(HTTP_MESSAGE *msg, void *data, size_t data_size, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#accc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a>)(<a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg, void *data, size_t data_size, void *ctx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>base class of both http request and http response parsers </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00256">256</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaad3a1f235bb76629fb76266f229a6bc"></a><!-- doxytag: member="http.h::HTTP_REQ_FINISHED" ref="aaad3a1f235bb76629fb76266f229a6bc" args=")(HTTP_REQUEST *request, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#aaad3a1f235bb76629fb76266f229a6bc">HTTP_REQ_FINISHED</a>)(<a class="el" href="a00005.html">HTTP_REQUEST</a> *request, void *ctx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00163">163</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="a50bf360c3d97280b2666c1809a506e2a"></a><!-- doxytag: member="http.h::HTTP_REQ_HEADER_PARSED" ref="a50bf360c3d97280b2666c1809a506e2a" args=")(HTTP_REQUEST *request, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#a50bf360c3d97280b2666c1809a506e2a">HTTP_REQ_HEADER_PARSED</a>)(<a class="el" href="a00005.html">HTTP_REQUEST</a> *request, void *ctx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00161">161</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa24d67ab42bb7b2da8c617b1b21b54a9"></a><!-- doxytag: member="http.h::HTTP_REQ_MESSAGE_BODY_DATA" ref="aa24d67ab42bb7b2da8c617b1b21b54a9" args=")(HTTP_REQUEST *request, void *data, size_t data_size, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#aa24d67ab42bb7b2da8c617b1b21b54a9">HTTP_REQ_MESSAGE_BODY_DATA</a>)(<a class="el" href="a00005.html">HTTP_REQUEST</a> *request, void *data, size_t data_size, void *ctx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00162">162</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7548b2c494ccf7acc059409a5d21ccaf"></a><!-- doxytag: member="http.h::HTTP_REQUEST" ref="a7548b2c494ccf7acc059409a5d21ccaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00005.html">tagHTTP_REQUEST</a>  <a class="el" href="a00005.html">HTTP_REQUEST</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http request. </p>

</div>
</div>
<a class="anchor" id="a21137341221e8a3b92b3a73253d2fb08"></a><!-- doxytag: member="http.h::HTTP_REQUEST_PARSER" ref="a21137341221e8a3b92b3a73253d2fb08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00006.html">tagHTTP_REQUEST_PARSER</a>  <a class="el" href="a00006.html">HTTP_REQUEST_PARSER</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>parser of http requests </p>

</div>
</div>
<a class="anchor" id="a27680b8dcf2740e6afd384f0f0b26003"></a><!-- doxytag: member="http.h::HTTP_RESP_FINISHED" ref="a27680b8dcf2740e6afd384f0f0b26003" args=")(HTTP_RESPONSE *request, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#a27680b8dcf2740e6afd384f0f0b26003">HTTP_RESP_FINISHED</a>)(<a class="el" href="a00007.html">HTTP_RESPONSE</a> *request, void *ctx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http response. </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00201">201</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab50a0c614e6c5e0b1364121270be9076"></a><!-- doxytag: member="http.h::HTTP_RESP_HEADER_PARSED" ref="ab50a0c614e6c5e0b1364121270be9076" args=")(HTTP_RESPONSE *request, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#ab50a0c614e6c5e0b1364121270be9076">HTTP_RESP_HEADER_PARSED</a>)(<a class="el" href="a00007.html">HTTP_RESPONSE</a> *request, void *ctx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http response. </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00199">199</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3c216fb9f06ecedc1565d2479c20a51e"></a><!-- doxytag: member="http.h::HTTP_RESP_MESSAGE_BODY_DATA" ref="a3c216fb9f06ecedc1565d2479c20a51e" args=")(HTTP_RESPONSE *request, void *data, size_t data_size, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00017.html#a3c216fb9f06ecedc1565d2479c20a51e">HTTP_RESP_MESSAGE_BODY_DATA</a>)(<a class="el" href="a00007.html">HTTP_RESPONSE</a> *request, void *data, size_t data_size, void *ctx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http response. </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00200">200</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac0d52817d9795fea81e6cfa5afa369e2"></a><!-- doxytag: member="http.h::HTTP_RESPONSE" ref="ac0d52817d9795fea81e6cfa5afa369e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00007.html">tagHTTP_RESPONSE</a>  <a class="el" href="a00007.html">HTTP_RESPONSE</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http response. </p>

</div>
</div>
<a class="anchor" id="a9fd23307e5d20621c1ae6973172f3d6b"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_PARSER" ref="a9fd23307e5d20621c1ae6973172f3d6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00008.html">tagHTTP_RESPONSE_PARSER</a>  <a class="el" href="a00008.html">HTTP_RESPONSE_PARSER</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>parser of http responses </p>

</div>
</div>
<a class="anchor" id="a666a8001dbee4674469ba1124d4f0e2b"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_WRITER" ref="a666a8001dbee4674469ba1124d4f0e2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00009.html">tagHTTP_RESPONSE_WRITER</a>   <a class="el" href="a00009.html">HTTP_RESPONSE_WRITER</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>writer of http responses </p>

</div>
</div>
<a class="anchor" id="a5112371ddec9917722b85465dc5b3062"></a><!-- doxytag: member="http.h::HTTP_STATE_PARSING" ref="a5112371ddec9917722b85465dc5b3062" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2">tagHTTP_STATE_PARSING</a>  <a class="el" href="a00017.html#a5112371ddec9917722b85465dc5b3062">HTTP_STATE_PARSING</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a06dc534889d1806e0448e56dd9757dae"></a><!-- doxytag: member="http.h::Http_version_type" ref="a06dc534889d1806e0448e56dd9757dae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1">tagHttp_version_type</a>  <a class="el" href="a00017.html#a06dc534889d1806e0448e56dd9757dae">Http_version_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a9e080e7ca1d16b175996b2cda2576672"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_WR_STATE" ref="a9e080e7ca1d16b175996b2cda2576672" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672">HTTP_RESPONSE_WR_STATE</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a9e080e7ca1d16b175996b2cda2576672a5e5a98554127cc4161ac3e6f9a224fd9"></a><!-- doxytag: member="HTTP_RESPONSE_WR_STATUS_LINE" ref="a9e080e7ca1d16b175996b2cda2576672a5e5a98554127cc4161ac3e6f9a224fd9" args="" -->HTTP_RESPONSE_WR_STATUS_LINE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9e080e7ca1d16b175996b2cda2576672a802496a2dfbfa20b8949c1f826ada553"></a><!-- doxytag: member="HTTP_RESPONSE_WR_CONNECTION_CLOSE" ref="a9e080e7ca1d16b175996b2cda2576672a802496a2dfbfa20b8949c1f826ada553" args="" -->HTTP_RESPONSE_WR_CONNECTION_CLOSE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9e080e7ca1d16b175996b2cda2576672a2046b96a1daddcaea11fedf47c9aef20"></a><!-- doxytag: member="HTTP_RESPONSE_WR_CHUNKED" ref="a9e080e7ca1d16b175996b2cda2576672a2046b96a1daddcaea11fedf47c9aef20" args="" -->HTTP_RESPONSE_WR_CHUNKED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9e080e7ca1d16b175996b2cda2576672a048c496846785f0052808907603e5a6d"></a><!-- doxytag: member="HTTP_RESPONSE_WR_CONTENT_LENGTH" ref="a9e080e7ca1d16b175996b2cda2576672a048c496846785f0052808907603e5a6d" args="" -->HTTP_RESPONSE_WR_CONTENT_LENGTH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9e080e7ca1d16b175996b2cda2576672a9616a2518f4fdffcc45caf3458b2a7a9"></a><!-- doxytag: member="HTTP_RESPONSE_WR_HEADERS" ref="a9e080e7ca1d16b175996b2cda2576672a9616a2518f4fdffcc45caf3458b2a7a9" args="" -->HTTP_RESPONSE_WR_HEADERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9e080e7ca1d16b175996b2cda2576672a42c49006e654df7b1449bbd96acb3b86"></a><!-- doxytag: member="HTTP_RESPONSE_WR_EOF" ref="a9e080e7ca1d16b175996b2cda2576672a42c49006e654df7b1449bbd96acb3b86" args="" -->HTTP_RESPONSE_WR_EOF</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00400">400</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">             {
 <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a5e5a98554127cc4161ac3e6f9a224fd9">HTTP_RESPONSE_WR_STATUS_LINE</a>,
 <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a802496a2dfbfa20b8949c1f826ada553">HTTP_RESPONSE_WR_CONNECTION_CLOSE</a>,
 <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a2046b96a1daddcaea11fedf47c9aef20">HTTP_RESPONSE_WR_CHUNKED</a>,
 <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a048c496846785f0052808907603e5a6d">HTTP_RESPONSE_WR_CONTENT_LENGTH</a>,
 <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a9616a2518f4fdffcc45caf3458b2a7a9">HTTP_RESPONSE_WR_HEADERS</a>,
 <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a42c49006e654df7b1449bbd96acb3b86">HTTP_RESPONSE_WR_EOF</a>,

} <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672">HTTP_RESPONSE_WR_STATE</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a7c53c9c3c95f9f3ac02e3c9428639f8a"></a><!-- doxytag: member="http.h::HTTP_TK_TYPE" ref="a7c53c9c3c95f9f3ac02e3c9428639f8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8a">HTTP_TK_TYPE</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>base class of both http request and http response parsers </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a7c53c9c3c95f9f3ac02e3c9428639f8aad6d7754244a911a6b8cd06a72bae0a23"></a><!-- doxytag: member="HTTP_TK_QUOTED_STRING" ref="a7c53c9c3c95f9f3ac02e3c9428639f8aad6d7754244a911a6b8cd06a72bae0a23" args="" -->HTTP_TK_QUOTED_STRING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c53c9c3c95f9f3ac02e3c9428639f8aa5a1d5470fadc11e11133c6cde6152a8a"></a><!-- doxytag: member="HTTP_TK_TEXT" ref="a7c53c9c3c95f9f3ac02e3c9428639f8aa5a1d5470fadc11e11133c6cde6152a8a" args="" -->HTTP_TK_TEXT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c53c9c3c95f9f3ac02e3c9428639f8aae5c3c691300dabcc36e7c1bb99149f15"></a><!-- doxytag: member="HTTP_TK_SEPARATOR" ref="a7c53c9c3c95f9f3ac02e3c9428639f8aae5c3c691300dabcc36e7c1bb99149f15" args="" -->HTTP_TK_SEPARATOR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c53c9c3c95f9f3ac02e3c9428639f8aad0b61dc2115021e1798bc23bd4fabf78"></a><!-- doxytag: member="HTTP_TK_EOF" ref="a7c53c9c3c95f9f3ac02e3c9428639f8aad0b61dc2115021e1798bc23bd4fabf78" args="" -->HTTP_TK_EOF</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00249">249</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">             {
  <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aad6d7754244a911a6b8cd06a72bae0a23">HTTP_TK_QUOTED_STRING</a>,
  <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aa5a1d5470fadc11e11133c6cde6152a8a">HTTP_TK_TEXT</a>,
  <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aae5c3c691300dabcc36e7c1bb99149f15">HTTP_TK_SEPARATOR</a>,
  <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aad0b61dc2115021e1798bc23bd4fabf78">HTTP_TK_EOF</a>,
} <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8a" title="base class of both http request and http response parsers">HTTP_TK_TYPE</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="ace21a5a69d5e05c5c42d4861f37a49c4"></a><!-- doxytag: member="http.h::PARSER_STATUS" ref="ace21a5a69d5e05c5c42d4861f37a49c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>base class of both http request and http response parsers </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d"></a><!-- doxytag: member="PARSER_STATUS_ERROR" ref="ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d" args="" -->PARSER_STATUS_ERROR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6"></a><!-- doxytag: member="PARSER_STATUS_COMPLETED" ref="ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6" args="" -->PARSER_STATUS_COMPLETED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b"></a><!-- doxytag: member="PARSER_STATUS_NEED_MORE_DATA" ref="ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b" args="" -->PARSER_STATUS_NEED_MORE_DATA</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00242">242</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">             {
  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a> = -1,
  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a> = 0,
  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a> = 1,
}
</pre></div>
</div>
</div>
<a class="anchor" id="a254d7e697a3b26a246614dd867644816"></a><!-- doxytag: member="http.h::tagHttp_method_type" ref="a254d7e697a3b26a246614dd867644816" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00017.html#a254d7e697a3b26a246614dd867644816">tagHttp_method_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816a90754abc55dbb76862fa50abee5af659"></a><!-- doxytag: member="HTTP_METHOD_GET" ref="a254d7e697a3b26a246614dd867644816a90754abc55dbb76862fa50abee5af659" args="" -->HTTP_METHOD_GET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816a1944682922ac79b2e682312d8f3f71e2"></a><!-- doxytag: member="HTTP_METHOD_POST" ref="a254d7e697a3b26a246614dd867644816a1944682922ac79b2e682312d8f3f71e2" args="" -->HTTP_METHOD_POST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816af7557927b605c64f35f629b43823b1c9"></a><!-- doxytag: member="HTTP_METHOD_PUT" ref="a254d7e697a3b26a246614dd867644816af7557927b605c64f35f629b43823b1c9" args="" -->HTTP_METHOD_PUT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816a27e993d38ff6b43284014a10798b6223"></a><!-- doxytag: member="HTTP_METHOD_HEAD" ref="a254d7e697a3b26a246614dd867644816a27e993d38ff6b43284014a10798b6223" args="" -->HTTP_METHOD_HEAD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816af6b02f8ff0467dbdaebb24f0a996cdd4"></a><!-- doxytag: member="HTTP_METHOD_OPTIONS" ref="a254d7e697a3b26a246614dd867644816af6b02f8ff0467dbdaebb24f0a996cdd4" args="" -->HTTP_METHOD_OPTIONS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816a761371f7807255b7912afbac2f665ffe"></a><!-- doxytag: member="HTTP_METHOD_DELETE" ref="a254d7e697a3b26a246614dd867644816a761371f7807255b7912afbac2f665ffe" args="" -->HTTP_METHOD_DELETE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816a95b5b19305a14de1400aedfdec1c1eed"></a><!-- doxytag: member="HTTP_METHOD_TRACE" ref="a254d7e697a3b26a246614dd867644816a95b5b19305a14de1400aedfdec1c1eed" args="" -->HTTP_METHOD_TRACE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a254d7e697a3b26a246614dd867644816a3755246bea87120e8311dc914d573fbf"></a><!-- doxytag: member="HTTP_METHOD_CONNECT" ref="a254d7e697a3b26a246614dd867644816a3755246bea87120e8311dc914d573fbf" args="" -->HTTP_METHOD_CONNECT</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00075">75</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816a90754abc55dbb76862fa50abee5af659">HTTP_METHOD_GET</a>,           
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816a1944682922ac79b2e682312d8f3f71e2">HTTP_METHOD_POST</a>,   
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816af7557927b605c64f35f629b43823b1c9">HTTP_METHOD_PUT</a>,  
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816a27e993d38ff6b43284014a10798b6223">HTTP_METHOD_HEAD</a>,
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816af6b02f8ff0467dbdaebb24f0a996cdd4">HTTP_METHOD_OPTIONS</a>,
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816a761371f7807255b7912afbac2f665ffe">HTTP_METHOD_DELETE</a>,  
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816a95b5b19305a14de1400aedfdec1c1eed">HTTP_METHOD_TRACE</a>,                
  <a class="code" href="a00017.html#a254d7e697a3b26a246614dd867644816a3755246bea87120e8311dc914d573fbf">HTTP_METHOD_CONNECT</a>
 
} <a class="code" href="a00017.html#ac5182036656d3198819f12ef9ec9d08b">Http_method_type</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2"></a><!-- doxytag: member="http.h::tagHTTP_STATE_PARSING" ref="a8399cf0558ed67328d5221a21a155cd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2">tagHTTP_STATE_PARSING</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa"></a><!-- doxytag: member="HTTP_STATE_PARSING_REQUEST_LINE" ref="a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa" args="" -->HTTP_STATE_PARSING_REQUEST_LINE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97"></a><!-- doxytag: member="HTTP_STATE_PARSING_HEADERS" ref="a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97" args="" -->HTTP_STATE_PARSING_HEADERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2ade8a7e55f2fe126b0bddf7780bff40a0"></a><!-- doxytag: member="HTTP_STATE_PARSING_BODY_CONTENT_LENGTH" ref="a8399cf0558ed67328d5221a21a155cd2ade8a7e55f2fe126b0bddf7780bff40a0" args="" -->HTTP_STATE_PARSING_BODY_CONTENT_LENGTH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989"></a><!-- doxytag: member="HTTP_STATE_PARSING_BODY_CHUNK_HEADER" ref="a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989" args="" -->HTTP_STATE_PARSING_BODY_CHUNK_HEADER</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2a477106ecea88e2d9e496913739e9f3aa"></a><!-- doxytag: member="HTTP_STATE_PARSING_BODY_CHUNK_DATA" ref="a8399cf0558ed67328d5221a21a155cd2a477106ecea88e2d9e496913739e9f3aa" args="" -->HTTP_STATE_PARSING_BODY_CHUNK_DATA</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2a4529c656e6bcf37dfb70ea237b08602a"></a><!-- doxytag: member="HTTP_STATE_PARSING_BODY_CHUNK_EOF_AFTER_DATA" ref="a8399cf0558ed67328d5221a21a155cd2a4529c656e6bcf37dfb70ea237b08602a" args="" -->HTTP_STATE_PARSING_BODY_CHUNK_EOF_AFTER_DATA</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8399cf0558ed67328d5221a21a155cd2aed4bf2d5e923949fa9b3697ae97020c3"></a><!-- doxytag: member="HTTP_STATE_PARSING_BODY_CHUNK_TRAILER" ref="a8399cf0558ed67328d5221a21a155cd2aed4bf2d5e923949fa9b3697ae97020c3" args="" -->HTTP_STATE_PARSING_BODY_CHUNK_TRAILER</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00211">211</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">                                   {

  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>,
  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97">HTTP_STATE_PARSING_HEADERS</a>,
  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ade8a7e55f2fe126b0bddf7780bff40a0">HTTP_STATE_PARSING_BODY_CONTENT_LENGTH</a>,
  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989">HTTP_STATE_PARSING_BODY_CHUNK_HEADER</a>,
  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a477106ecea88e2d9e496913739e9f3aa">HTTP_STATE_PARSING_BODY_CHUNK_DATA</a>,
  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4529c656e6bcf37dfb70ea237b08602a">HTTP_STATE_PARSING_BODY_CHUNK_EOF_AFTER_DATA</a>,
  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2aed4bf2d5e923949fa9b3697ae97020c3">HTTP_STATE_PARSING_BODY_CHUNK_TRAILER</a>,


} <a class="code" href="a00017.html#a5112371ddec9917722b85465dc5b3062">HTTP_STATE_PARSING</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a92ff2f79ea14e92657972a36d58883a1"></a><!-- doxytag: member="http.h::tagHttp_version_type" ref="a92ff2f79ea14e92657972a36d58883a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1">tagHttp_version_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a92ff2f79ea14e92657972a36d58883a1a3932308db22120ce049dd60f3430b814"></a><!-- doxytag: member="HTTP_VERSION_1_0" ref="a92ff2f79ea14e92657972a36d58883a1a3932308db22120ce049dd60f3430b814" args="" -->HTTP_VERSION_1_0</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6"></a><!-- doxytag: member="HTTP_VERSION_1_1" ref="a92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6" args="" -->HTTP_VERSION_1_1</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00087">87</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
  <a class="code" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1a3932308db22120ce049dd60f3430b814">HTTP_VERSION_1_0</a>,          
  <a class="code" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6">HTTP_VERSION_1_1</a>,

} <a class="code" href="a00017.html#a06dc534889d1806e0448e56dd9757dae">Http_version_type</a>;
</pre></div>
</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae0af51ac516c4e68c9d7ba843fbea541"></a><!-- doxytag: member="http.h::HTTP_add_header_parser" ref="ae0af51ac516c4e68c9d7ba843fbea541" args="(HTTP_PARSER *parser, const char *header_name, HEADER_ACTION action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_add_header_parser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>header_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#aef3a97b256b09f6a4ef1527ead10d52f">HEADER_ACTION</a>&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>add a parser for a specific http header type </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00191">191</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00002.html">HEADER_HASH_ACTION</a> * action;
  
  action = ( <a class="code" href="a00002.html">HEADER_HASH_ACTION</a> *) malloc( <span class="keyword">sizeof</span>( <a class="code" href="a00002.html">HEADER_HASH_ACTION</a> ) ) ;
  <span class="keywordflow">if</span> (!action) {
    <span class="keywordflow">return</span> -1;
  }
  action-&gt;<a class="code" href="a00002.html#a41da7c59b49a7ca0bcc5345fc603c9a1">key</a> = strdup( header_name );
  action-&gt;<a class="code" href="a00002.html#afa5c2b37b34012114d61e1e9f730b854">key_size</a> = strlen( header_name );
  action-&gt;<a class="code" href="a00002.html#a85615c856f9538b55f4739674e034f21">action</a> = action_func;


  <span class="keywordflow">return</span> HASH_insert( &amp;parser-&gt;<a class="code" href="a00004.html#a3ec9458f4c7de0bc079b002d0b64441d">header_action</a>, &amp;action-&gt;<a class="code" href="a00002.html#a6b9b4472573fb86e787436c2582d901e">entry</a>, (<span class="keywordtype">void</span> *) header_name, strlen(header_name) );
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8d14d1a7cd91bbd477872efafe8e9962"></a><!-- doxytag: member="http.h::HTTP_get_header_token" ref="a8d14d1a7cd91bbd477872efafe8e9962" args="(HTTP_PARSER *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_get_header_token </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return next token while parsing http header value. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 on error, otherwise type of token returns (value out of HTTP_TK_TYPE) </dd></dl>

<p>Definition at line <a class="el" href="a00016_source.html#l00275">275</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">char</span> ch;
   <span class="keywordtype">size_t</span> token_pos;

   <span class="keywordflow">if</span> (*parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a> == <span class="charliteral">&#39;\0&#39;</span>) {
     <span class="keywordflow">return</span>  <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aad0b61dc2115021e1798bc23bd4fabf78">HTTP_TK_EOF</a>;
   }
    

     <span class="comment">// skip leading spaces</span>
   <span class="keywordflow">for</span>( ;<a class="code" href="a00016.html#a079ef1c165906ce8b5bced46a7746680">http_is_space</a>( *parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a> ); ++parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a> );

   ch = *parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a>;

   <span class="keywordflow">if</span> (<a class="code" href="a00016.html#ac42c9702c6a1547de4493f7f3ef21bc1">http_is_separator</a>(ch)) {
     parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a>[ 0 ] = ch;
     parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a>[ 1 ] = <span class="charliteral">&#39;\0&#39;</span>;
     ++ parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a>;
     <span class="keywordflow">return</span> <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aae5c3c691300dabcc36e7c1bb99149f15">HTTP_TK_SEPARATOR</a>;
   }

   
   <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;&quot;&#39;</span>) {
      token_pos = 0; 
      <span class="keywordflow">do</span> {
        ch = *parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a> ++ ;
chk:
        <span class="keywordflow">if</span> (<a class="code" href="a00016.html#a2ca5809163b8fa1bb3cb98e92087ba71">http_is_ctl</a>( ch )) {
           <span class="keywordflow">return</span> -1;
        }
        <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;&quot;&#39;</span>) {
          <span class="keywordflow">if</span> (token_pos &gt; parser-&gt;<a class="code" href="a00004.html#ab092d2eec30e89f56c762ce5123f2d84">token_length</a>) {
            <span class="keywordflow">return</span> -1;
          }
          parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a>[ token_pos++ ] = <span class="charliteral">&#39;\0&#39;</span>;
          <span class="keywordflow">return</span>  <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aad6d7754244a911a6b8cd06a72bae0a23">HTTP_TK_QUOTED_STRING</a>; 
        } <span class="keywordflow">else</span> {
          <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\\&#39;</span>) {
            <span class="keywordflow">goto</span> chk;
          }
        }

        <span class="comment">// add character.</span>
        <span class="keywordflow">if</span> (token_pos &gt; parser-&gt;<a class="code" href="a00004.html#ab092d2eec30e89f56c762ce5123f2d84">token_length</a>) {
           <span class="keywordflow">return</span> -1;
        }
        parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a>[ token_pos++ ] = ch;

      } <span class="keywordflow">while</span> (ch != <span class="charliteral">&#39;\0&#39;</span>);
      
   }

   <span class="keywordflow">if</span> ( !<a class="code" href="a00016.html#ac42c9702c6a1547de4493f7f3ef21bc1">http_is_separator</a>( ch ) ) {
     token_pos = 0; 
     <span class="keywordflow">do</span> {

        <span class="keywordflow">if</span> (token_pos &gt;= parser-&gt;<a class="code" href="a00004.html#ab092d2eec30e89f56c762ce5123f2d84">token_length</a>) {
           <span class="keywordflow">return</span> -1;
        }
        parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a>[ token_pos++ ] = ch;

       ch = *( ++ parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a> );
     } <span class="keywordflow">while</span>( ch != 0 &amp;&amp; ! <a class="code" href="a00016.html#a2ca5809163b8fa1bb3cb98e92087ba71">http_is_ctl</a>( ch ) &amp;&amp;  ! <a class="code" href="a00016.html#ac42c9702c6a1547de4493f7f3ef21bc1">http_is_separator</a>( ch ) );

     parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a>[ token_pos ] = <span class="charliteral">&#39;\0&#39;</span>;
     <span class="keywordflow">return</span> <a class="code" href="a00017.html#a7c53c9c3c95f9f3ac02e3c9428639f8aa5a1d5470fadc11e11133c6cde6152a8a">HTTP_TK_TEXT</a>; 
   }

   <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac5e21a738d73d75ebec125c97038961a"></a><!-- doxytag: member="http.h::HTTP_get_line" ref="ac5e21a738d73d75ebec125c97038961a" args="(BF *bf, char **start_line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> HTTP_get_line </td>
          <td>(</td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>start_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns next raw line from http header, adjoins line continuations. </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00208">208</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   uint8_t *pos;
<span class="preprocessor">#if 0   </span>
<span class="preprocessor"></span>   uint8_t *prev;
<span class="preprocessor">#endif   </span>
<span class="preprocessor"></span>   <span class="keywordtype">char</span> *line;

   pos = bf-&gt;get_pos;
   line = BF_get_line_ext( bf, <a class="code" href="a00016.html#aa14dc30ffe09bc9349ddf289170c3c15">HTTP_EOF_LINE</a>, <a class="code" href="a00016.html#a0bcec4a44eab88ca0b2e278aeeb94397">HTTP_EOF_LINE_LEN</a> );
   <span class="keywordflow">if</span> (!line) {
      <span class="keywordflow">if</span> (BF_is_full( bf ) ) {
        <span class="comment">// whole buffer does not even contain a line. untennable.</span>
        <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
      }
      BF_compact(bf);
      <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
   }


<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>   <span class="comment">// check if this line is continued.</span>
   <span class="keywordflow">while</span> ( 1 ) {
     prev = bf-&gt;get_pos;
     line = BF_get_line_ext( bf, <a class="code" href="a00016.html#aa14dc30ffe09bc9349ddf289170c3c15">HTTP_EOF_LINE</a>, <a class="code" href="a00016.html#a0bcec4a44eab88ca0b2e278aeeb94397">HTTP_EOF_LINE_LEN</a> );
     <span class="keywordflow">if</span> (!line) {
       <span class="comment">// restore the line marker.</span>
       *(bf-&gt;get_pos - 2)  = <span class="charliteral">&#39;\r&#39;</span>;

        <span class="keywordflow">if</span> (BF_is_full( bf ) ) {
          <span class="comment">// a continuation line spans the whole input buffer,</span>
          <span class="comment">// That&#39;s very bad, unfortunately we can&#39;t support this.</span>
          <span class="keywordflow">return</span>  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
        }
        bf-&gt;get_pos = pos;
        <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
     }

     <span class="keywordflow">if</span> (!<a class="code" href="a00020.html#abed2077fd9ffa7b7c62e7b9d6e72d54a">is_space</a>( *line )) {
       *(bf-&gt;get_pos - 2)  = <span class="charliteral">&#39;\r&#39;</span>;
       bf-&gt;get_pos = prev;
       <span class="keywordflow">break</span>;
     }
     <span class="comment">// adjoin the previous line to this line.</span>
     *(bf-&gt;get_pos - 2)  = <span class="charliteral">&#39; &#39;</span>;
     *(bf-&gt;get_pos - 1)  = <span class="charliteral">&#39; &#39;</span>;
   }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>   
   *start_line = (<span class="keywordtype">char</span> *) pos;
   <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa737a4c11979880764fb8031d5dfc488"></a><!-- doxytag: member="http.h::HTTP_parse_header_line" ref="aa737a4c11979880764fb8031d5dfc488" args="(HTTP_PARSER *parser, HTTP_MESSAGE *request, BF *bf, int *eof_header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> HTTP_parse_header_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00003.html">HTTP_MESSAGE</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>eof_header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>dispatch parsing of one http header </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 error, 0 - http header finished, 1 - need more data, 2 - header line parsed ok. </dd></dl>

<p>Definition at line <a class="el" href="a00016_source.html#l00347">347</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4" title="base class of both http request and http response parsers">PARSER_STATUS</a> rt;
  <a class="code" href="a00002.html">HEADER_HASH_ACTION</a> *action;
  <span class="keywordtype">char</span> *line, *pos;
  
  *eof_header = 0;

  rt = <a class="code" href="a00016.html#ac5e21a738d73d75ebec125c97038961a" title="returns next raw line from http header, adjoins line continuations.">HTTP_get_line</a>( bf, &amp;line );
  <span class="keywordflow">if</span> (rt != <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>) {
    <span class="keywordflow">return</span> rt;
  }

  <span class="keywordflow">if</span> (! *line ) {
    *eof_header = 1;
     <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
  }

  <span class="keywordflow">if</span> (<a class="code" href="a00020.html#abed2077fd9ffa7b7c62e7b9d6e72d54a">is_space</a>(*line)) {
    <span class="keywordflow">return</span> -1;
  }
  <span class="comment">// good enough, do not test for all separators though.</span>
  <span class="keywordflow">for</span>( pos = line  ;!<a class="code" href="a00016.html#a4c076db9ce25ed33a2ce16be3dc277aa">http_is_ctl_or_space</a>( *pos ) &amp;&amp; *pos != <span class="charliteral">&#39;:&#39;</span>; ++pos ) {
     <a class="code" href="a00016.html#a407d07021aeaf63da6145057e7fd7d93">to_lower</a>( pos );
  } 
  <span class="keywordflow">if</span> (*pos != <span class="charliteral">&#39;:&#39;</span>) {
    <span class="keywordflow">return</span> -1;
  }
  *pos = <span class="charliteral">&#39;\0&#39;</span>;

  <span class="keywordflow">if</span> (<a class="code" href="a00023.html#ga1ca9f7fea4b5dfd0d084c546a489220e">HTTP_MESSAGE_add_header</a>( request, line, pos+1 )) {
     <span class="keywordflow">return</span> -1;
  }


  <span class="comment">// got the header line. find header processor.</span>
  action = (<a class="code" href="a00002.html">HEADER_HASH_ACTION</a> *) HASH_find( &amp;parser-&gt;<a class="code" href="a00004.html#a3ec9458f4c7de0bc079b002d0b64441d">header_action</a>, line, pos - line );
  <span class="keywordflow">if</span> (action) {

    parser-&gt;<a class="code" href="a00004.html#a6d0367b48bfcd2d8b670930d0a6a5e12">tokpos</a> = pos + 1;
    action-&gt;<a class="code" href="a00002.html#a85615c856f9538b55f4739674e034f21">action</a>( request, parser );
  }

  <span class="comment">// recored header value in http request (optional)</span>

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0cfd781757cd6db4812087df78424fda"></a><!-- doxytag: member="http.h::HTTP_PARSER_chunked_data_init" ref="a0cfd781757cd6db4812087df78424fda" args="(HTTP_PARSER *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_PARSER_chunked_data_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>start parsing chunked data </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00437">437</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989">HTTP_STATE_PARSING_BODY_CHUNK_HEADER</a>;
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac93ea444be8644a86692ae98ec0b86c6"></a><!-- doxytag: member="http.h::HTTP_PARSER_chunked_data_process" ref="ac93ea444be8644a86692ae98ec0b86c6" args="(HTTP_PARSER *parser, BF *bf, HTTP_PROCESS_MSG_DATA cb, HTTP_MESSAGE *msg, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> HTTP_PARSER_chunked_data_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#accc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00003.html">HTTP_MESSAGE</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>finish parsind chunked content data. </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00459">459</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *line,*pos,*cur, *endptr;
    <span class="keywordtype">int</span> rt, eof_header;
    <span class="keywordtype">long</span> val;

    <span class="keywordflow">switch</span>( parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> ) {
      <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989">HTTP_STATE_PARSING_BODY_CHUNK_HEADER</a>:
chunk_header:      
         line = BF_get_line_ext( bf, <a class="code" href="a00016.html#aa14dc30ffe09bc9349ddf289170c3c15">HTTP_EOF_LINE</a>, <a class="code" href="a00016.html#a0bcec4a44eab88ca0b2e278aeeb94397">HTTP_EOF_LINE_LEN</a> );
         <span class="keywordflow">if</span> (!line) {
           BF_compact(bf);
           <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
         }
         <span class="keywordflow">for</span>(pos = line; <a class="code" href="a00020.html#abed2077fd9ffa7b7c62e7b9d6e72d54a">is_space</a>(*pos); ++pos);
         <span class="keywordflow">for</span>(cur = pos; <a class="code" href="a00014.html#a5f8d72d8577cc7ff464bcc2a322890f4">is_hex</a>(*cur); ++cur);
         *cur = <span class="charliteral">&#39;\0&#39;</span>;

         val = strtol( pos, &amp;endptr, 16 );
         <span class="keywordflow">if</span> (val != 0) {
           parser-&gt;<a class="code" href="a00004.html#a390ab241d634a4041103ba39096f090f">content_left</a> = (size_t) val;
           parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a477106ecea88e2d9e496913739e9f3aa">HTTP_STATE_PARSING_BODY_CHUNK_DATA</a>;
           <span class="keywordflow">goto</span> chunk_data; 
         } <span class="keywordflow">else</span> {
           parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2aed4bf2d5e923949fa9b3697ae97020c3">HTTP_STATE_PARSING_BODY_CHUNK_TRAILER</a>;
           <span class="keywordflow">goto</span> chunk_trailer;
         }      
         

      <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a477106ecea88e2d9e496913739e9f3aa">HTTP_STATE_PARSING_BODY_CHUNK_DATA</a>:
chunk_data:      
        rt = <a class="code" href="a00016.html#ab30ee3c576a69e486a1ca2497a23c8bd" title="consume content length message body.">HTTP_PARSER_content_length_process</a>( parser, bf, cb, msg, ctx );
        <span class="keywordflow">if</span> (rt != 0) {
          <span class="keywordflow">return</span> rt;
        }

        parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4529c656e6bcf37dfb70ea237b08602a">HTTP_STATE_PARSING_BODY_CHUNK_EOF_AFTER_DATA</a>;
        <span class="keywordflow">goto</span> chunk_eof_data;

     <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4529c656e6bcf37dfb70ea237b08602a">HTTP_STATE_PARSING_BODY_CHUNK_EOF_AFTER_DATA</a>:
chunk_eof_data:
        line = BF_get_line_ext( bf, <a class="code" href="a00016.html#aa14dc30ffe09bc9349ddf289170c3c15">HTTP_EOF_LINE</a>, <a class="code" href="a00016.html#a0bcec4a44eab88ca0b2e278aeeb94397">HTTP_EOF_LINE_LEN</a> );
        <span class="keywordflow">if</span> (!line) {
          BF_compact(bf);
          <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
        }
        parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989">HTTP_STATE_PARSING_BODY_CHUNK_HEADER</a>;
        <span class="keywordflow">goto</span> chunk_header;

      <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2aed4bf2d5e923949fa9b3697ae97020c3">HTTP_STATE_PARSING_BODY_CHUNK_TRAILER</a>:
chunk_trailer:      
        rt = <a class="code" href="a00016.html#aa737a4c11979880764fb8031d5dfc488" title="dispatch parsing of one http header">HTTP_parse_header_line</a>( parser, msg , bf, &amp;eof_header );
        <span class="keywordflow">if</span> (rt != <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>) {
          <span class="keywordflow">return</span> rt;
        }
        <span class="keywordflow">if</span> (eof_header) {
          BF_compact(bf);
          <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
        }   
        <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
      
      <span class="keywordflow">default</span>:
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b4ee246e968497579a9d9d194a92571"></a><!-- doxytag: member="http.h::HTTP_PARSER_content_length_init" ref="a8b4ee246e968497579a9d9d194a92571" args="(HTTP_PARSER *parser, HTTP_MESSAGE *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_PARSER_content_length_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00003.html">HTTP_MESSAGE</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>start parsing content length message body </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00395">395</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ade8a7e55f2fe126b0bddf7780bff40a0">HTTP_STATE_PARSING_BODY_CONTENT_LENGTH</a>;
    parser-&gt;<a class="code" href="a00004.html#a390ab241d634a4041103ba39096f090f">content_left</a> = msg-&gt; content_length;
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a34a73b6fe4c943ce1831c8b93c7fb426"></a><!-- doxytag: member="http.h::HTTP_PARSER_content_length_process" ref="a34a73b6fe4c943ce1831c8b93c7fb426" args="(HTTP_PARSER *parser, BF *bf, HTTP_PROCESS_MSG_DATA cb, HTTP_MESSAGE *msg, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> HTTP_PARSER_content_length_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#accc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00003.html">HTTP_MESSAGE</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>consume content length message body. </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00402">402</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">size_t</span> bytes_to_take;
   <span class="keywordtype">size_t</span> bytes_available; 

   bytes_available = BF_get_size( bf );
   <span class="keywordflow">if</span> (bytes_available == 0) {
       <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
   }

   bytes_to_take =  parser-&gt;<a class="code" href="a00004.html#a390ab241d634a4041103ba39096f090f">content_left</a>; 
   <span class="keywordflow">if</span> (bytes_to_take == 0) {
     <span class="keywordflow">return</span>  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
   }

   <span class="keywordflow">if</span> (bytes_available &lt; bytes_to_take) {
     bytes_to_take = bytes_available;
   } 

   <span class="keywordflow">if</span> (cb( msg, bf-&gt;get_pos, bytes_to_take, ctx )) {
     <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>; 
   }

   parser-&gt;<a class="code" href="a00004.html#a390ab241d634a4041103ba39096f090f">content_left</a> -= bytes_to_take;
   bf-&gt;get_pos += bytes_to_take;

   <span class="keywordflow">if</span> (parser-&gt;<a class="code" href="a00004.html#a390ab241d634a4041103ba39096f090f">content_left</a> == 0) {
     parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> =  <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>;
     <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
   }

   BF_compact(bf);
   <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af7d9eeee759da719084291a7cd155c94"></a><!-- doxytag: member="http.h::HTTP_PARSER_free" ref="af7d9eeee759da719084291a7cd155c94" args="(HTTP_PARSER *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_PARSER_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>base class of both http request and http response parsers </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00181">181</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a>) {
    free( parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a> );
    parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a> = 0;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa5370897809bd47280b44b5fa679d2d3"></a><!-- doxytag: member="http.h::HTTP_PARSER_init" ref="aa5370897809bd47280b44b5fa679d2d3" args="(HTTP_PARSER *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_PARSER_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>base class of both http request and http response parsers </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00165">165</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  parser-&gt;<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>;
  parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a> = malloc( <a class="code" href="a00016.html#ab1dd5ca9a62c5ae382e84d2993da6498">MAX_HTTP_TOKEN_SIZE</a> );
  <span class="keywordflow">if</span> (! parser-&gt;<a class="code" href="a00004.html#abb7efefca85ab0dd6f7058d3ba4b14e3">token</a> ) {
    <span class="keywordflow">return</span> -1;
  }
  parser-&gt;<a class="code" href="a00004.html#ab092d2eec30e89f56c762ce5123f2d84">token_length</a> = <a class="code" href="a00016.html#ab1dd5ca9a62c5ae382e84d2993da6498">MAX_HTTP_TOKEN_SIZE</a>;
  
  <span class="keywordflow">if</span> (HASH_init( &amp;parser-&gt;<a class="code" href="a00004.html#a3ec9458f4c7de0bc079b002d0b64441d">header_action</a>, 32, 0, <a class="code" href="a00016.html#a3fcdd47ea95ee4ef2da80d5e1f4c250f">hash_compare</a>, 0 ) ) {
    <span class="keywordflow">return</span> -1;
  }
 
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4ab326e8402a38ac166e2f90a50d91ec"></a><!-- doxytag: member="http.h::HTTP_REQUEST_free" ref="a4ab326e8402a38ac166e2f90a50d91ec" args="(HTTP_REQUEST *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE void HTTP_REQUEST_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">HTTP_REQUEST</a> *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http request. </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00136">136</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00022.html#ab82397c63ee9a3456c6bdb8e109a007a">URI_free</a>( &amp;message-&gt;<a class="code" href="a00005.html#aa43cab316cd65661dc36cf8f5d0b78c5">url</a> );
  
  <span class="keywordflow">if</span> (message-&gt;<a class="code" href="a00005.html#a2a389a3f86e4c557499801b8b9999000">host_header</a>) {
    free( message-&gt;<a class="code" href="a00005.html#a2a389a3f86e4c557499801b8b9999000">host_header</a>);
  }
  <span class="keywordflow">if</span> (message-&gt;<a class="code" href="a00005.html#a429a80b15eec069ce2f6ddf3751ccbb5">raw_url</a>) {
    free( message-&gt;<a class="code" href="a00005.html#a429a80b15eec069ce2f6ddf3751ccbb5">raw_url</a> );
  }

  message-&gt;<a class="code" href="a00005.html#a1a7c838fee849231ffe764fd004dadab">expect_100_continue</a> = message-&gt;<a class="code" href="a00005.html#a013e5373d35354986ff53b318452edf5">has_host_header</a> = 0;
  message-&gt;<a class="code" href="a00005.html#a429a80b15eec069ce2f6ddf3751ccbb5">raw_url</a> = message-&gt;<a class="code" href="a00005.html#a2a389a3f86e4c557499801b8b9999000">host_header</a> = 0;
  message-&gt;<a class="code" href="a00005.html#a013e5373d35354986ff53b318452edf5">has_host_header</a> = 0;
  message-&gt;<a class="code" href="a00005.html#a53fed18a89d849dadd1d59b353c48553">host_header_port</a> = -1;

  <a class="code" href="a00023.html#gab01f22c91d577dfae9702308dbd0c518">HTTP_MESSAGE_free</a>( &amp;message-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a> );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab308a83fced871be3693cdb3fba3ec09"></a><!-- doxytag: member="http.h::HTTP_REQUEST_init" ref="ab308a83fced871be3693cdb3fba3ec09" args="(HTTP_REQUEST *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int HTTP_REQUEST_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">HTTP_REQUEST</a> *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http request. </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00120">120</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="a00023.html#ga14d478691c5f29cd966cb8abc4700a1f">HTTP_MESSAGE_init</a>( &amp;message-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a> )) {
    <span class="keywordflow">return</span> -1;
  }

  <a class="code" href="a00022.html#a8ff72430ab547d0151fc8c58c8039825">URI_init</a>( &amp; message-&gt;<a class="code" href="a00005.html#aa43cab316cd65661dc36cf8f5d0b78c5">url</a> );

  message-&gt;<a class="code" href="a00005.html#a1a7c838fee849231ffe764fd004dadab">expect_100_continue</a> = message-&gt;<a class="code" href="a00005.html#a013e5373d35354986ff53b318452edf5">has_host_header</a> = 0;
  message-&gt;<a class="code" href="a00005.html#a429a80b15eec069ce2f6ddf3751ccbb5">raw_url</a> = message-&gt;<a class="code" href="a00005.html#a2a389a3f86e4c557499801b8b9999000">host_header</a> = 0;
  message-&gt;<a class="code" href="a00005.html#a013e5373d35354986ff53b318452edf5">has_host_header</a> = 0;
  message-&gt;<a class="code" href="a00005.html#a53fed18a89d849dadd1d59b353c48553">host_header_port</a> = -1;

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa3893b9709b438c414da743d2e9ba285"></a><!-- doxytag: member="http.h::HTTP_REQUEST_is_persistent" ref="aa3893b9709b438c414da743d2e9ba285" args="(HTTP_REQUEST *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_REQUEST_is_persistent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">HTTP_REQUEST</a> *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http request. </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00761">761</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (message-&gt;<a class="code" href="a00005.html#a6225f594931f6ff84063b1affca2f582">version</a> == <a class="code" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6">HTTP_VERSION_1_1</a>) {
     <span class="keywordflow">if</span> (message-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#a0a66a9905aa743b7f731f1c5f1f9e981">HTTP_MESSAGE_FLAG_CONNECTION_CLOSE</a>) {
       <span class="keywordflow">return</span> 0;
     }
     <span class="keywordflow">return</span> 1;
  }

  <span class="keywordflow">if</span> (message-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#ac75f76df3b41c35d459bbfc50cec3123">HTTP_MESSAGE_FLAG_KEEPALIVE</a>) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af0a986ea0582bfc4b011d2ac61aac9ca"></a><!-- doxytag: member="http.h::HTTP_REQUEST_PARSER_init" ref="af0a986ea0582bfc4b011d2ac61aac9ca" args="(HTTP_REQUEST_PARSER *parser, HTTP_REQ_HEADER_PARSED header_parsed, HTTP_REQ_MESSAGE_BODY_DATA on_message_body_data, HTTP_REQ_FINISHED on_request_finished, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_REQUEST_PARSER_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00006.html">HTTP_REQUEST_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#a50bf360c3d97280b2666c1809a506e2a">HTTP_REQ_HEADER_PARSED</a>&#160;</td>
          <td class="paramname"><em>header_parsed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#aa24d67ab42bb7b2da8c617b1b21b54a9">HTTP_REQ_MESSAGE_BODY_DATA</a>&#160;</td>
          <td class="paramname"><em>on_message_body_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#aaad3a1f235bb76629fb76266f229a6bc">HTTP_REQ_FINISHED</a>&#160;</td>
          <td class="paramname"><em>on_request_finished</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initialise request parser object </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00646">646</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  parser-&gt;<a class="code" href="a00006.html#ae225e688d56dd152ac4ffa8c36d38770">ctx</a> = ctx;
  parser-&gt;<a class="code" href="a00006.html#add769d72f649da147653730b07d10865">ev_header</a>  = header_parsed;
  parser-&gt;<a class="code" href="a00006.html#a23d5b42db28063c39c624b2ffcb51d0d">ev_body</a> = on_message_body_data;
  parser-&gt;<a class="code" href="a00006.html#ae45a5d00172db9563679af5fb3f6f808">ev_finish</a> = on_request_finished;
     
  <span class="keywordflow">if</span> (<a class="code" href="a00016.html#aa5370897809bd47280b44b5fa679d2d3">HTTP_PARSER_init</a>( &amp;parser-&gt;<a class="code" href="a00006.html#aabce9198ce8df4a2bdda071cc49d2f98">base</a> )) {
    <span class="keywordflow">return</span> -1;
  }
 
  <span class="keywordflow">if</span> (<a class="code" href="a00015.html#a8839eee7a29fdaecb57faddfea66620d">init_parsers_request_header</a>( &amp;parser-&gt;<a class="code" href="a00006.html#aabce9198ce8df4a2bdda071cc49d2f98">base</a> ) ||
      <a class="code" href="a00015.html#aed9d9e4b3924953f553c81d8767b9670">init_parsers_general_header</a>( &amp;parser-&gt;<a class="code" href="a00006.html#aabce9198ce8df4a2bdda071cc49d2f98">base</a> ) ) {
    <span class="keywordflow">return</span> -1;
  }
 
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a84afcea80bc8b534b3eee27594d2afbd"></a><!-- doxytag: member="http.h::HTTP_REQUEST_PARSER_process" ref="a84afcea80bc8b534b3eee27594d2afbd" args="(HTTP_REQUEST_PARSER *parser, HTTP_REQUEST *request, BF *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> HTTP_REQUEST_PARSER_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00006.html">HTTP_REQUEST_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00005.html">HTTP_REQUEST</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>parse a http request </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 - done parsing, 1 need more data, -1 error occured. </dd></dl>

<p>Definition at line <a class="el" href="a00016_source.html#l00671">671</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> rt, eof_header;


  <span class="keywordflow">while</span>(1) {
   <span class="keywordflow">switch</span>( parser-&gt;<a class="code" href="a00006.html#aabce9198ce8df4a2bdda071cc49d2f98">base</a>.<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> ) {
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>:
      rt = <a class="code" href="a00016.html#a6dbb89ef5afb7d9640fad8c33c6cda21">parse_request_line</a>( request, bf );
      <span class="keywordflow">if</span> (rt != 0) {
       <span class="keywordflow">goto</span> req_do_return;
      }
      parser-&gt;<a class="code" href="a00006.html#aabce9198ce8df4a2bdda071cc49d2f98">base</a>.<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97">HTTP_STATE_PARSING_HEADERS</a>; <span class="comment">// </span>
   <span class="comment">//break; - fall through</span>


    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97">HTTP_STATE_PARSING_HEADERS</a>:
      rt = <a class="code" href="a00016.html#aa737a4c11979880764fb8031d5dfc488" title="dispatch parsing of one http header">HTTP_parse_header_line</a>( (<a class="code" href="a00004.html" title="base class of both http request and http response parsers">HTTP_PARSER</a> *) parser, (<a class="code" href="a00003.html">HTTP_MESSAGE</a> *) request, bf, &amp;eof_header );
      <span class="keywordflow">if</span> (rt != 0) {
        <span class="keywordflow">goto</span> req_do_return;
      }

      <span class="keywordflow">if</span> (eof_header) {
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>          <span class="comment">// this check will we done by web server; if no host header then send back HTTP status 400.</span>

          <span class="comment">// if http 1.1 then host header is a must. no host header is an error.</span>
          <span class="keywordflow">if</span> (request-&gt;<a class="code" href="a00005.html#a6225f594931f6ff84063b1affca2f582">version</a> ==  <a class="code" href="a00017.html#a92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6">HTTP_VERSION_1_1</a> &amp;&amp;
              !request-&gt;<a class="code" href="a00005.html#a013e5373d35354986ff53b318452edf5">has_host_header</a>) {
            <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;  
          }
<span class="preprocessor">#endif    </span>
<span class="preprocessor"></span>
          <span class="comment">// eof parsing http header.</span>
          <span class="keywordflow">if</span> (parser-&gt;ev_header( request, parser-&gt;ctx )) {
            <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>; 
          }
          BF_compact(bf);

          <span class="keywordflow">if</span> (request-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#ac8a5bb01ca6fedc97a5a5377397f5a84">HTTP_MESSAGE_FLAG_TRANSFER_CHUNKED</a>) {
             <a class="code" href="a00016.html#a0cfd781757cd6db4812087df78424fda" title="start parsing chunked data">HTTP_PARSER_chunked_data_init</a>( &amp;parser-&gt;base );
             <span class="keywordflow">continue</span>;  
          }

 
          <span class="keywordflow">if</span> (request-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#a091dd3c50642a1632d85fe2d552d4a69">HTTP_MESSAGE_FLAG_HAS_CONTENT_LENGTH</a>) {
             <a class="code" href="a00016.html#a8b4ee246e968497579a9d9d194a92571" title="start parsing content length message body">HTTP_PARSER_content_length_init</a>( &amp;parser-&gt;base, &amp;request-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a> );
             <span class="keywordflow">continue</span>;  
          }

next_request:
          <span class="keywordflow">if</span> (parser-&gt;ev_finish( request, parser-&gt;ctx )) {
            <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
          }
          parser-&gt;base.<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>; 
          <a class="code" href="a00017.html#a4ab326e8402a38ac166e2f90a50d91ec" title="HTTP_REQUEST - holds information of an http request.">HTTP_REQUEST_free</a>(request);  
          <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
      }
      <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ade8a7e55f2fe126b0bddf7780bff40a0">HTTP_STATE_PARSING_BODY_CONTENT_LENGTH</a>:
      rt = <a class="code" href="a00016.html#ab30ee3c576a69e486a1ca2497a23c8bd" title="consume content length message body.">HTTP_PARSER_content_length_process</a>( 
                &amp;parser-&gt;base, bf, 
                (<a class="code" href="a00017.html#accc79fd2431c99ecd68a090469da5d40" title="base class of both http request and http response parsers">HTTP_PROCESS_MSG_DATA</a>) parser-&gt;ev_body, 
                &amp;request-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a>, parser-&gt;ctx);
      <span class="keywordflow">if</span> (rt != 0) {
        <span class="keywordflow">goto</span> req_do_return;
      }
      <span class="keywordflow">goto</span> next_request;

    <span class="keywordflow">default</span>: <span class="comment">// remaining states deal with chunks</span>
      rt =  <a class="code" href="a00016.html#ac93ea444be8644a86692ae98ec0b86c6" title="finish parsind chunked content data.">HTTP_PARSER_chunked_data_process</a>( 
                &amp;parser-&gt;base, bf, 
                (<a class="code" href="a00017.html#accc79fd2431c99ecd68a090469da5d40" title="base class of both http request and http response parsers">HTTP_PROCESS_MSG_DATA</a>) parser-&gt;ev_body, 
                &amp;request-&gt;<a class="code" href="a00005.html#a66fc31b502c5ab5699c8f8263991f69b">base</a>, parser-&gt;ctx);

      <span class="keywordflow">if</span> (rt != 0) {
        <span class="keywordflow">goto</span> req_do_return;
      }
      <span class="keywordflow">goto</span> next_request;
    }
  }

req_do_return:
  <span class="keywordflow">if</span> (rt ==  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>) {
    BF_compact( bf );
  }
  <span class="keywordflow">return</span> rt;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7ca06985dfe2540a91cc74927115cde0"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_free" ref="a7ca06985dfe2540a91cc74927115cde0" args="(HTTP_RESPONSE *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE void HTTP_RESPONSE_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00007.html">HTTP_RESPONSE</a> *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http response. </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00194">194</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00023.html#gab01f22c91d577dfae9702308dbd0c518">HTTP_MESSAGE_free</a>( &amp;message-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a> );
}
</pre></div>
</div>
</div>
<a class="anchor" id="acc700a0e0c7ed34df458f567dad4c374"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_init" ref="acc700a0e0c7ed34df458f567dad4c374" args="(HTTP_RESPONSE *message, Http_version_type version, int status_code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int HTTP_RESPONSE_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00007.html">HTTP_RESPONSE</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#a06dc534889d1806e0448e56dd9757dae">Http_version_type</a>&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HTTP_REQUEST - holds information of an http response. </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00183">183</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="a00023.html#ga14d478691c5f29cd966cb8abc4700a1f">HTTP_MESSAGE_init</a>( &amp;message-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a> ) ) {
    <span class="keywordflow">return</span> -1;
  }
  message-&gt;<a class="code" href="a00007.html#abc01517233416f0822c535a25876ef2c">status_code</a> = status_code;
  message-&gt;<a class="code" href="a00007.html#a648d45911f049bab758356e9dc4713b4">version</a> = version;
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a00451ddae893b0ea2fb035d9cd1b319a"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_PARSER_init" ref="a00451ddae893b0ea2fb035d9cd1b319a" args="(HTTP_RESPONSE_PARSER *parser, HTTP_RESP_HEADER_PARSED header_parsed, HTTP_RESP_MESSAGE_BODY_DATA on_message_body_data, HTTP_RESP_FINISHED on_request_finished, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HTTP_RESPONSE_PARSER_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00008.html">HTTP_RESPONSE_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#ab50a0c614e6c5e0b1364121270be9076">HTTP_RESP_HEADER_PARSED</a>&#160;</td>
          <td class="paramname"><em>header_parsed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#a3c216fb9f06ecedc1565d2479c20a51e">HTTP_RESP_MESSAGE_BODY_DATA</a>&#160;</td>
          <td class="paramname"><em>on_message_body_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00017.html#a27680b8dcf2740e6afd384f0f0b26003">HTTP_RESP_FINISHED</a>&#160;</td>
          <td class="paramname"><em>on_request_finished</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initialise request parser object </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00822">822</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  parser-&gt;<a class="code" href="a00008.html#ae0027fa6c255faf0cc9ae2a1858c3186">ctx</a> = ctx;
  parser-&gt;<a class="code" href="a00008.html#a1c4042cbfe80f87e256d02899c4988f6">ev_header</a> = header_parsed; 
  parser-&gt;<a class="code" href="a00008.html#aa4022d67b56504039b6351c6cdbd1ffb">ev_body</a>   = on_message_body_data;
  parser-&gt;<a class="code" href="a00008.html#aa6a6117b92ad2641df0cc4d5c491e9e4">ev_finish</a> = on_request_finished;
 
  <span class="keywordflow">if</span> (! <a class="code" href="a00016.html#aa5370897809bd47280b44b5fa679d2d3">HTTP_PARSER_init</a>( &amp;parser-&gt;<a class="code" href="a00008.html#aed394eb19316db4cf7a4269649489937">base</a> )) {
    <span class="keywordflow">return</span> -1;
  }

  <span class="keywordflow">if</span> (<a class="code" href="a00015.html#aed9d9e4b3924953f553c81d8767b9670">init_parsers_general_header</a>( &amp;parser-&gt;<a class="code" href="a00008.html#aed394eb19316db4cf7a4269649489937">base</a> ) ) {
    <span class="keywordflow">return</span> -1;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac69a62184875abe24177d14f0a9a0313"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_PARSER_process" ref="ac69a62184875abe24177d14f0a9a0313" args="(HTTP_RESPONSE_PARSER *parser, HTTP_RESPONSE *response, BF *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> HTTP_RESPONSE_PARSER_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00008.html">HTTP_RESPONSE_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00007.html">HTTP_RESPONSE</a> *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>parse a http response </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 - done parsing, 1 need more data, -1 error occured. </dd></dl>

<p>Definition at line <a class="el" href="a00016_source.html#l00845">845</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> rt, eof_header;

  <span class="keywordflow">while</span>(1) {
   <span class="keywordflow">switch</span>( parser-&gt;<a class="code" href="a00008.html#aed394eb19316db4cf7a4269649489937">base</a>.<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> ) {
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>:
      rt = <a class="code" href="a00016.html#af2d54b915c5c209b05dfeb84b4dd640d">parse_response_line</a>( response, bf );
      <span class="keywordflow">if</span> (rt != 0) {
        <span class="keywordflow">goto</span> resp_do_return; 
      }
      parser-&gt;<a class="code" href="a00008.html#aed394eb19316db4cf7a4269649489937">base</a>.<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97">HTTP_STATE_PARSING_HEADERS</a>; <span class="comment">// </span>
   <span class="comment">//break; - fall through</span>


    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ab6734bc6ccbc93928357db1f17dd9e97">HTTP_STATE_PARSING_HEADERS</a>:
      rt = <a class="code" href="a00016.html#aa737a4c11979880764fb8031d5dfc488" title="dispatch parsing of one http header">HTTP_parse_header_line</a>( (<a class="code" href="a00004.html" title="base class of both http request and http response parsers">HTTP_PARSER</a> *) parser, (<a class="code" href="a00003.html">HTTP_MESSAGE</a> *) response, bf, &amp;eof_header );
      <span class="keywordflow">if</span> (rt != 0) {
       <span class="keywordflow">goto</span> resp_do_return; 
      }

      <span class="keywordflow">if</span> (eof_header) {
          <span class="comment">// eof parsing http header.</span>
          parser-&gt;ev_header( response, parser-&gt;ctx ); 
        
          <span class="keywordflow">if</span> (response-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#ac8a5bb01ca6fedc97a5a5377397f5a84">HTTP_MESSAGE_FLAG_TRANSFER_CHUNKED</a>) {
             parser-&gt;base.<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a0a070153481a16d24111499b85b08989">HTTP_STATE_PARSING_BODY_CHUNK_HEADER</a>;
             <span class="keywordflow">continue</span>;  
          }

 
          <span class="keywordflow">if</span> (response-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#a091dd3c50642a1632d85fe2d552d4a69">HTTP_MESSAGE_FLAG_HAS_CONTENT_LENGTH</a>) {
             <a class="code" href="a00016.html#a8b4ee246e968497579a9d9d194a92571" title="start parsing content length message body">HTTP_PARSER_content_length_init</a>( &amp;parser-&gt;base, &amp;response-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a> );
             <span class="keywordflow">continue</span>;  
          }

next_response:
          <a class="code" href="a00017.html#a7ca06985dfe2540a91cc74927115cde0" title="HTTP_REQUEST - holds information of an http response.">HTTP_RESPONSE_free</a>( response );
          parser-&gt;ev_finish( response, parser-&gt;ctx ); 
          parser-&gt;base.<a class="code" href="a00004.html#ac18acb9d3ec3879248cee7e1f448a81a">state</a> = <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2a4b3e4ef1a704d0e1c16ad482d0bb38aa">HTTP_STATE_PARSING_REQUEST_LINE</a>; 
          BF_compact(bf);
          <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
      }
      <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a8399cf0558ed67328d5221a21a155cd2ade8a7e55f2fe126b0bddf7780bff40a0">HTTP_STATE_PARSING_BODY_CONTENT_LENGTH</a>:
      rt = <a class="code" href="a00016.html#ab30ee3c576a69e486a1ca2497a23c8bd" title="consume content length message body.">HTTP_PARSER_content_length_process</a>( 
                &amp;parser-&gt;base, bf, 
                (<a class="code" href="a00017.html#accc79fd2431c99ecd68a090469da5d40" title="base class of both http request and http response parsers">HTTP_PROCESS_MSG_DATA</a>) parser-&gt;ev_body, 
                &amp;response-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>, parser-&gt;ctx);
      <span class="keywordflow">if</span> (rt != 0) {
        <span class="keywordflow">goto</span> resp_do_return; 
      }
      <span class="keywordflow">goto</span> next_response;

    <span class="keywordflow">default</span>: <span class="comment">// remaining states deal with chunks</span>
      rt =  <a class="code" href="a00016.html#ac93ea444be8644a86692ae98ec0b86c6" title="finish parsind chunked content data.">HTTP_PARSER_chunked_data_process</a>( 
                &amp;parser-&gt;base, bf, 
                (<a class="code" href="a00017.html#accc79fd2431c99ecd68a090469da5d40" title="base class of both http request and http response parsers">HTTP_PROCESS_MSG_DATA</a>) parser-&gt;ev_body, 
                &amp;response-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>, parser-&gt;ctx);

      <span class="keywordflow">if</span> (rt != 0) {
        <span class="keywordflow">goto</span> resp_do_return; 
      }
      <span class="keywordflow">goto</span> next_response;
    }
  }
resp_do_return:
  <span class="keywordflow">if</span> (rt ==  <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>) {
    BF_compact( bf );
  }
  <span class="keywordflow">return</span> rt;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf2bcdffe3cecb7ca6484489009d8004"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_WRITER_init" ref="abf2bcdffe3cecb7ca6484489009d8004" args="(HTTP_RESPONSE_WRITER *writer, HTTP_RESPONSE *response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE void HTTP_RESPONSE_WRITER_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00009.html">HTTP_RESPONSE_WRITER</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00007.html">HTTP_RESPONSE</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>writer of http responses </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00427">427</a> of file <a class="el" href="a00017_source.html">http.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  writer-&gt;<a class="code" href="a00009.html#aa2d61ec9418183f40814fe75a576441d">response</a> = response;
  writer-&gt;<a class="code" href="a00009.html#a5cdc7b37263211895aea5b90e695b774">state</a> = <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a5e5a98554127cc4161ac3e6f9a224fd9">HTTP_RESPONSE_WR_STATUS_LINE</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a52fcf93eeb1c013427abde12a234adff"></a><!-- doxytag: member="http.h::HTTP_RESPONSE_WRITER_write" ref="a52fcf93eeb1c013427abde12a234adff" args="(HTTP_RESPONSE_WRITER *writer, BF *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> HTTP_RESPONSE_WRITER_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00009.html">HTTP_RESPONSE_WRITER</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>writer of http responses </p>

<p>Definition at line <a class="el" href="a00016_source.html#l00992">992</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{ 
  <a class="code" href="a00007.html" title="HTTP_REQUEST - holds information of an http response.">HTTP_RESPONSE</a> *resp = writer-&gt;<a class="code" href="a00009.html#aa2d61ec9418183f40814fe75a576441d">response</a>;
  <span class="keywordtype">char</span> line_buf[40];
  <span class="keywordtype">int</span> nlen;

  <span class="keywordflow">while</span>(1) {
  <span class="keywordflow">switch</span>( writer-&gt;<a class="code" href="a00009.html#a5cdc7b37263211895aea5b90e695b774">state</a> ) {
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a5e5a98554127cc4161ac3e6f9a224fd9">HTTP_RESPONSE_WR_STATUS_LINE</a>:
      nlen = sprintf(line_buf,<span class="stringliteral">&quot;HTTP/%s %d %s\r\n&quot;</span>, <a class="code" href="a00016.html#a21309e0c6192fd4b8a34e3aabf7ccad7">http_version_to_str</a>( resp-&gt;<a class="code" href="a00007.html#a648d45911f049bab758356e9dc4713b4">version</a> ), resp-&gt;<a class="code" href="a00007.html#abc01517233416f0822c535a25876ef2c">status_code</a>, <a class="code" href="a00016.html#ae3f621842d3c96a248f1a1d6a7b21d9e">get_reason_phrase</a>( resp-&gt;<a class="code" href="a00007.html#abc01517233416f0822c535a25876ef2c">status_code</a> ) );
      <span class="keywordflow">if</span> (BF_putn( bf, line_buf, nlen) ) {
         <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
      }
      writer-&gt;<a class="code" href="a00009.html#a5cdc7b37263211895aea5b90e695b774">state</a> = <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a802496a2dfbfa20b8949c1f826ada553">HTTP_RESPONSE_WR_CONNECTION_CLOSE</a>; 
    <span class="comment">//break;</span>
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a802496a2dfbfa20b8949c1f826ada553">HTTP_RESPONSE_WR_CONNECTION_CLOSE</a>:
      <span class="keywordflow">if</span> (resp-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#a0a66a9905aa743b7f731f1c5f1f9e981">HTTP_MESSAGE_FLAG_CONNECTION_CLOSE</a> ) {
        <span class="keywordflow">if</span> (BF_putn( bf, <a class="code" href="a00016.html#a3c2b0d5e4dae1a3b6b38e47275dac583">S_CONNECTION_CLOSE</a>, <a class="code" href="a00016.html#a36802223fbb5d545dcbb6e4e684ba519">S_CONNECTION_CLOSE_LEN</a> ) ) {
          <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
        } 
      }
      writer-&gt;<a class="code" href="a00009.html#a5cdc7b37263211895aea5b90e695b774">state</a> = <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a2046b96a1daddcaea11fedf47c9aef20">HTTP_RESPONSE_WR_CHUNKED</a>; 
    <span class="comment">//break;</span>
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a2046b96a1daddcaea11fedf47c9aef20">HTTP_RESPONSE_WR_CHUNKED</a>:
      <span class="keywordflow">if</span> (resp-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#ac8a5bb01ca6fedc97a5a5377397f5a84">HTTP_MESSAGE_FLAG_TRANSFER_CHUNKED</a> ) {
        <span class="keywordflow">if</span> (BF_putn( bf, <a class="code" href="a00016.html#aa6f01c37e720b04b0f7271e8077c104f">S_TRANSFER_CHUNKED</a>, <a class="code" href="a00016.html#ae639266697246d81f6b3a89a700d6071">S_TRANSFER_CHUNKED_LEN</a> ) ) {
          <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
        }
      }
      writer-&gt;<a class="code" href="a00009.html#a5cdc7b37263211895aea5b90e695b774">state</a> = <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a048c496846785f0052808907603e5a6d">HTTP_RESPONSE_WR_CONTENT_LENGTH</a>; 
     <span class="comment">//break;</span>
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a048c496846785f0052808907603e5a6d">HTTP_RESPONSE_WR_CONTENT_LENGTH</a>:
      <span class="keywordflow">if</span> (resp-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a7aa368f6b6bd57c4503b088bd60f6168">flags</a> &amp; <a class="code" href="a00017.html#a091dd3c50642a1632d85fe2d552d4a69">HTTP_MESSAGE_FLAG_HAS_CONTENT_LENGTH</a> ) {
        nlen = sprintf(line_buf,<span class="stringliteral">&quot;Content-Length: %d\r\n&quot;</span>, resp-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a8db203330e6b1c3fb859697a1d81494c">content_length</a> );
        <span class="keywordflow">if</span> (BF_putn( bf, line_buf, nlen) ) {
          <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
        }
      }
      writer-&gt;<a class="code" href="a00009.html#a5cdc7b37263211895aea5b90e695b774">state</a> = <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a9616a2518f4fdffcc45caf3458b2a7a9">HTTP_RESPONSE_WR_HEADERS</a>; 
      writer-&gt;<a class="code" href="a00009.html#acdfd9571982ff46434b3d95001148d38">header_position</a> = DLISTUNR_get_first( &amp;resp-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a15b288a53fc55ce8d89c1fdef6aab26e">header_values</a> );
      writer-&gt;<a class="code" href="a00009.html#af272831a354b83a6ef0f011e9673cf53">state_header</a> = 0;
     <span class="comment">//break;</span>
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a9616a2518f4fdffcc45caf3458b2a7a9">HTTP_RESPONSE_WR_HEADERS</a>:
      <span class="keywordflow">if</span> ( ! DLISTUNR_is_eof( &amp;resp-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a15b288a53fc55ce8d89c1fdef6aab26e">header_values</a>, writer-&gt;<a class="code" href="a00009.html#acdfd9571982ff46434b3d95001148d38">header_position</a>)) {
        <a class="code" href="a00011.html">STRINGPAIR</a> *header = (<a class="code" href="a00011.html">STRINGPAIR</a> *) DLISTUNR_at(&amp;resp-&gt;<a class="code" href="a00007.html#af1abce2e9b1a425200c02c4c9fa8b710">base</a>.<a class="code" href="a00003.html#a15b288a53fc55ce8d89c1fdef6aab26e">header_values</a>, writer-&gt;<a class="code" href="a00009.html#acdfd9571982ff46434b3d95001148d38">header_position</a>);
        <span class="keywordflow">switch</span>(writer-&gt;<a class="code" href="a00009.html#af272831a354b83a6ef0f011e9673cf53">state_header</a>) {
            <span class="keywordflow">case</span> 0:
                <span class="keywordflow">if</span> (BF_putn( bf, header-&gt;<a class="code" href="a00011.html#ac2ecc9b0399e0309fbba83739f1c4c40">key</a>, strlen(header-&gt;<a class="code" href="a00011.html#ac2ecc9b0399e0309fbba83739f1c4c40">key</a>))) {
                  <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
                }
                writer-&gt;<a class="code" href="a00009.html#af272831a354b83a6ef0f011e9673cf53">state_header</a> = 1;
              <span class="comment">//break;</span>
                
            <span class="keywordflow">case</span> 1:
                <span class="keywordflow">if</span> (BF_putn( bf, <span class="stringliteral">&quot;: &quot;</span>, 2)) {
                  <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
                }
                writer-&gt;<a class="code" href="a00009.html#af272831a354b83a6ef0f011e9673cf53">state_header</a> = 2;
              <span class="comment">//break;</span>

            <span class="keywordflow">case</span> 2:
                <span class="keywordflow">if</span> (BF_putn( bf, header-&gt;<a class="code" href="a00011.html#a396c2de767eded3dc6ec524ea1a714a8">value</a>, strlen(header-&gt;<a class="code" href="a00011.html#a396c2de767eded3dc6ec524ea1a714a8">value</a>))) {
                  <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
                }
                writer-&gt;<a class="code" href="a00009.html#af272831a354b83a6ef0f011e9673cf53">state_header</a> = 3;
              <span class="comment">//break;</span>

            <span class="keywordflow">case</span> 3:
                <span class="keywordflow">if</span> (BF_putn( bf, <span class="stringliteral">&quot;\r\n&quot;</span>, 2)) {
                  <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
                }
                writer-&gt;<a class="code" href="a00009.html#acdfd9571982ff46434b3d95001148d38">header_position</a> = DLISTUNR_next(writer-&gt;<a class="code" href="a00009.html#acdfd9571982ff46434b3d95001148d38">header_position</a>);
                writer-&gt;<a class="code" href="a00009.html#af272831a354b83a6ef0f011e9673cf53">state_header</a> = 0;
                <span class="keywordflow">break</span>;
           }
      } <span class="keywordflow">else</span> {
         writer-&gt;<a class="code" href="a00009.html#a5cdc7b37263211895aea5b90e695b774">state</a> = <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a42c49006e654df7b1449bbd96acb3b86">HTTP_RESPONSE_WR_EOF</a>;
         <span class="keywordflow">goto</span> wr_eof;
        
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="a00017.html#a9e080e7ca1d16b175996b2cda2576672a42c49006e654df7b1449bbd96acb3b86">HTTP_RESPONSE_WR_EOF</a>:
wr_eof:    
      <span class="keywordflow">if</span> (BF_putn( bf, <span class="stringliteral">&quot;\r\n&quot;</span>, 2)) {
          <a class="code" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a>;
      }
      <span class="keywordflow">return</span> <a class="code" href="a00017.html#ace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>; 
    }
  }

}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 25 2011 00:52:51 for HTTP Parser and message builder / objects in plain C by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
