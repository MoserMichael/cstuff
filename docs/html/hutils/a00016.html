<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HTTP Parser and message builder / objects in plain C: http.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HTTP Parser and message builder / objects in plain C&#160;<span id="projectnumber">Snapshot</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">http.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="a00017_source.html">http.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="a00020_source.html">sutils.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="a00014_source.html">charclass.h</a>&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
</div>
<p><a href="a00016_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html">tagHEADER_HASH_ACTION</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a5b1419b28ee900c497c9d12a3d55a086">S_METHOD_GET</a>&#160;&#160;&#160;&quot;GET&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a6039dc3a681b3e19368e2697573956be">S_METHOD_GET_LEN</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#af7305bcf03b5d811dc79b837253b1392">S_METHOD_POST</a>&#160;&#160;&#160;&quot;POST&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a8b08b8d70a27b1c157ac42b39b839522">S_METHOD_POST_LEN</a>&#160;&#160;&#160;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a0b471f186758a2e5ae3d3ae5ca9e9172">S_METHOD_PUT</a>&#160;&#160;&#160;&quot;PUT&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a9dcd450da87c90b4cfc3455721ad51d6">S_METHOD_PUT_LEN</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a0577b387a60434ff4178b0d5a8a75f73">S_METHOD_DELETE</a>&#160;&#160;&#160;&quot;DELETE&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#adca36b9ed5af9ed93bd488c3c8df3728">S_METHOD_DELETE_LEN</a>&#160;&#160;&#160;6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a51339cf7ae257dd055af3f07507660ec">S_METHOD_HEAD</a>&#160;&#160;&#160;&quot;HEAD&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#abf39a335866cfd4ae3898f699bb53a2f">S_METHOD_HEAD_LEN</a>&#160;&#160;&#160;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#adca7a73be3c2f076707f0dfee53d2ee3">S_METHOD_OPTIONS</a>&#160;&#160;&#160;&quot;OPTIONS&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#aca7b51eb47872d3b0742042951826365">S_METHOD_OPTIONS_LEN</a>&#160;&#160;&#160;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a01fd12e9de2f85def75e0370e212c3a4">S_METHOD_TRACE</a>&#160;&#160;&#160;&quot;TRACE&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a419bfe90e9a5a493e1c39d96d0ca4b38">S_METHOD_TRACE_LEN</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a55bf7b1c612fef715d52dc12dc90b940">S_METHOD_CONNECT</a>&#160;&#160;&#160;&quot;CONNECT&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a51d6c342d92ab5bc91de12d16270ca0e">S_METHOD_CONNECT_LEN</a>&#160;&#160;&#160;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a00b0ac1e809bca4fb7929dbd137c5a8a">HTTP_START_S</a>&#160;&#160;&#160;&quot;HTTP/1.&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a788ad423247009c8ed8797848d27f30b">HTTP_START_S_LEN</a>&#160;&#160;&#160;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#aa14dc30ffe09bc9349ddf289170c3c15">HTTP_EOF_LINE</a>&#160;&#160;&#160;&quot;\r\n&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a0bcec4a44eab88ca0b2e278aeeb94397">HTTP_EOF_LINE_LEN</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a407d07021aeaf63da6145057e7fd7d93">to_lower</a>(pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#ab1dd5ca9a62c5ae382e84d2993da6498">MAX_HTTP_TOKEN_SIZE</a>&#160;&#160;&#160;120</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a3c2b0d5e4dae1a3b6b38e47275dac583">S_CONNECTION_CLOSE</a>&#160;&#160;&#160;&quot;Connection: close\r\n&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a36802223fbb5d545dcbb6e4e684ba519">S_CONNECTION_CLOSE_LEN</a>&#160;&#160;&#160;19</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#aa6f01c37e720b04b0f7271e8077c104f">S_TRANSFER_CHUNKED</a>&#160;&#160;&#160;&quot;Transfer-encoding: chunked\r\n&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#ae639266697246d81f6b3a89a700d6071">S_TRANSFER_CHUNKED_LEN</a>&#160;&#160;&#160;28</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a3ee4cd5eec968a38b7280244c5d72bc4">RETURN_WRITER_MORE_DATA</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="a00002.html">tagHEADER_HASH_ACTION</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#aaf0e1bc8c0745e8435c3f478537603ca">HEADER_HASH_ACTION</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a8839eee7a29fdaecb57faddfea66620d">init_parsers_request_header</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#aed9d9e4b3924953f553c81d8767b9670">init_parsers_general_header</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a2ca5809163b8fa1bb3cb98e92087ba71">http_is_ctl</a> (char ch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a4c076db9ce25ed33a2ce16be3dc277aa">http_is_ctl_or_space</a> (char ch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a079ef1c165906ce8b5bced46a7746680">http_is_space</a> (char ch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#ac42c9702c6a1547de4493f7f3ef21bc1">http_is_separator</a> (char ch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#ae15795ec6bb30bef27be04ac28000dbf">free_stringpair</a> (DLISTUNR *list, void *entry, void *context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga14d478691c5f29cd966cb8abc4700a1f">HTTP_MESSAGE_init</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#gab01f22c91d577dfae9702308dbd0c518">HTTP_MESSAGE_free</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga1ca9f7fea4b5dfd0d084c546a489220e">HTTP_MESSAGE_add_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, const char *name, const char *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga33eb4b3bf28432797029c90115dd80d7">HTTP_MESSAGE_find_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00011.html">STRINGPAIR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga225a9e18b90020b71906c943ef3bcde3">HTTP_MESSAGE_first_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, DLISTUNR_position *pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00011.html">STRINGPAIR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#ga405406f091c3d4236fc340910391cc87">HTTP_MESSAGE_next_header</a> (<a class="el" href="a00003.html">HTTP_MESSAGE</a> *message, DLISTUNR_position *pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a3fcdd47ea95ee4ef2da80d5e1f4c250f">hash_compare</a> (HASH_Entry *entry, void *key, ssize_t key_length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#gaa5370897809bd47280b44b5fa679d2d3">HTTP_PARSER_init</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#gaf7d9eeee759da719084291a7cd155c94">HTTP_PARSER_free</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#gae0af51ac516c4e68c9d7ba843fbea541">HTTP_add_header_parser</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, const char *header_name, <a class="el" href="a00024.html#gaef3a97b256b09f6a4ef1527ead10d52f">HEADER_ACTION</a> action_func)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">add a parser for a specific http header type  <a href="a00026.html#gae0af51ac516c4e68c9d7ba843fbea541"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#gac5e21a738d73d75ebec125c97038961a">HTTP_get_line</a> (BF *bf, char **start_line)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns next raw line from http header, adjoins line continuations.  <a href="a00026.html#gac5e21a738d73d75ebec125c97038961a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#ga8d14d1a7cd91bbd477872efafe8e9962">HTTP_get_header_token</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return next token while parsing http header value.  <a href="a00026.html#ga8d14d1a7cd91bbd477872efafe8e9962"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#gaa737a4c11979880764fb8031d5dfc488">HTTP_parse_header_line</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *request, BF *bf, int *eof_header)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">dispatch parsing of one http header  <a href="a00026.html#gaa737a4c11979880764fb8031d5dfc488"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#ga8b4ee246e968497579a9d9d194a92571">HTTP_PARSER_content_length_init</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">start parsing content length message body  <a href="a00026.html#ga8b4ee246e968497579a9d9d194a92571"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#ga34a73b6fe4c943ce1831c8b93c7fb426">HTTP_PARSER_content_length_process</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, BF *bf, <a class="el" href="a00026.html#gaccc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a> cb, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">consume content length message body.  <a href="a00026.html#ga34a73b6fe4c943ce1831c8b93c7fb426"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#ga0cfd781757cd6db4812087df78424fda">HTTP_PARSER_chunked_data_init</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">start parsing chunked data  <a href="a00026.html#ga0cfd781757cd6db4812087df78424fda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00026.html#gac93ea444be8644a86692ae98ec0b86c6">HTTP_PARSER_chunked_data_process</a> (<a class="el" href="a00004.html">HTTP_PARSER</a> *parser, BF *bf, <a class="el" href="a00026.html#gaccc79fd2431c99ecd68a090469da5d40">HTTP_PROCESS_MSG_DATA</a> cb, <a class="el" href="a00003.html">HTTP_MESSAGE</a> *msg, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">finish parsind chunked content data.  <a href="a00026.html#gac93ea444be8644a86692ae98ec0b86c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a6dbb89ef5afb7d9640fad8c33c6cda21">parse_request_line</a> (<a class="el" href="a00005.html">HTTP_REQUEST</a> *request, BF *bf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00027.html#gaf0a986ea0582bfc4b011d2ac61aac9ca">HTTP_REQUEST_PARSER_init</a> (<a class="el" href="a00006.html">HTTP_REQUEST_PARSER</a> *parser, <a class="el" href="a00026.html#ga50bf360c3d97280b2666c1809a506e2a">HTTP_REQ_HEADER_PARSED</a> header_parsed, <a class="el" href="a00026.html#gaa24d67ab42bb7b2da8c617b1b21b54a9">HTTP_REQ_MESSAGE_BODY_DATA</a> on_message_body_data, <a class="el" href="a00026.html#gaaad3a1f235bb76629fb76266f229a6bc">HTTP_REQ_FINISHED</a> on_request_finished, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initialise request parser object  <a href="a00027.html#gaf0a986ea0582bfc4b011d2ac61aac9ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00027.html#ga84afcea80bc8b534b3eee27594d2afbd">HTTP_REQUEST_PARSER_process</a> (<a class="el" href="a00006.html">HTTP_REQUEST_PARSER</a> *parser, <a class="el" href="a00005.html">HTTP_REQUEST</a> *request, BF *bf)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parse a http request  <a href="a00027.html#ga84afcea80bc8b534b3eee27594d2afbd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#gaa3893b9709b438c414da743d2e9ba285">HTTP_REQUEST_is_persistent</a> (<a class="el" href="a00005.html">HTTP_REQUEST</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#af2d54b915c5c209b05dfeb84b4dd640d">parse_response_line</a> (<a class="el" href="a00007.html">HTTP_RESPONSE</a> *response, BF *bf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00028.html#ga00451ddae893b0ea2fb035d9cd1b319a">HTTP_RESPONSE_PARSER_init</a> (<a class="el" href="a00008.html">HTTP_RESPONSE_PARSER</a> *parser, <a class="el" href="a00025.html#gab50a0c614e6c5e0b1364121270be9076">HTTP_RESP_HEADER_PARSED</a> header_parsed, <a class="el" href="a00025.html#ga3c216fb9f06ecedc1565d2479c20a51e">HTTP_RESP_MESSAGE_BODY_DATA</a> on_message_body_data, <a class="el" href="a00025.html#ga27680b8dcf2740e6afd384f0f0b26003">HTTP_RESP_FINISHED</a> on_request_finished, void *ctx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initialise request parser object  <a href="a00028.html#ga00451ddae893b0ea2fb035d9cd1b319a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00028.html#gac69a62184875abe24177d14f0a9a0313">HTTP_RESPONSE_PARSER_process</a> (<a class="el" href="a00008.html">HTTP_RESPONSE_PARSER</a> *parser, <a class="el" href="a00007.html">HTTP_RESPONSE</a> *response, BF *bf)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">parse a http response  <a href="a00028.html#gac69a62184875abe24177d14f0a9a0313"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#a21309e0c6192fd4b8a34e3aabf7ccad7">http_version_to_str</a> (<a class="el" href="a00024.html#ga06dc534889d1806e0448e56dd9757dae">Http_version_type</a> ver)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00016.html#ae3f621842d3c96a248f1a1d6a7b21d9e">get_reason_phrase</a> (int code)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga52fcf93eeb1c013427abde12a234adff">HTTP_RESPONSE_WRITER_write</a> (<a class="el" href="a00009.html">HTTP_RESPONSE_WRITER</a> *writer, BF *bf)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa14dc30ffe09bc9349ddf289170c3c15"></a><!-- doxytag: member="http.c::HTTP_EOF_LINE" ref="aa14dc30ffe09bc9349ddf289170c3c15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_EOF_LINE&#160;&#160;&#160;&quot;\r\n&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00031">31</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0bcec4a44eab88ca0b2e278aeeb94397"></a><!-- doxytag: member="http.c::HTTP_EOF_LINE_LEN" ref="a0bcec4a44eab88ca0b2e278aeeb94397" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_EOF_LINE_LEN&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00032">32</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a00b0ac1e809bca4fb7929dbd137c5a8a"></a><!-- doxytag: member="http.c::HTTP_START_S" ref="a00b0ac1e809bca4fb7929dbd137c5a8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_START_S&#160;&#160;&#160;&quot;HTTP/1.&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00026">26</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a788ad423247009c8ed8797848d27f30b"></a><!-- doxytag: member="http.c::HTTP_START_S_LEN" ref="a788ad423247009c8ed8797848d27f30b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_START_S_LEN&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00027">27</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab1dd5ca9a62c5ae382e84d2993da6498"></a><!-- doxytag: member="http.c::MAX_HTTP_TOKEN_SIZE" ref="ab1dd5ca9a62c5ae382e84d2993da6498" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_HTTP_TOKEN_SIZE&#160;&#160;&#160;120</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00154">154</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3ee4cd5eec968a38b7280244c5d72bc4"></a><!-- doxytag: member="http.c::RETURN_WRITER_MORE_DATA" ref="a3ee4cd5eec968a38b7280244c5d72bc4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETURN_WRITER_MORE_DATA</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (bf-&gt;start == bf-&gt;put_pos) { \
    <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;  <span class="comment">/* the buffer can&#39;t hold a single value */</span> \
  } \
  <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4af41f996b5530777e9711a51a4050bb9b">PARSER_STATUS_NEED_MORE_DATA</a>;
</pre></div>
<p>Definition at line <a class="el" href="a00016_source.html#l00939">939</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3c2b0d5e4dae1a3b6b38e47275dac583"></a><!-- doxytag: member="http.c::S_CONNECTION_CLOSE" ref="a3c2b0d5e4dae1a3b6b38e47275dac583" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_CONNECTION_CLOSE&#160;&#160;&#160;&quot;Connection: close\r\n&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00932">932</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a36802223fbb5d545dcbb6e4e684ba519"></a><!-- doxytag: member="http.c::S_CONNECTION_CLOSE_LEN" ref="a36802223fbb5d545dcbb6e4e684ba519" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_CONNECTION_CLOSE_LEN&#160;&#160;&#160;19</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00933">933</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a55bf7b1c612fef715d52dc12dc90b940"></a><!-- doxytag: member="http.c::S_METHOD_CONNECT" ref="a55bf7b1c612fef715d52dc12dc90b940" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_CONNECT&#160;&#160;&#160;&quot;CONNECT&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00023">23</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a51d6c342d92ab5bc91de12d16270ca0e"></a><!-- doxytag: member="http.c::S_METHOD_CONNECT_LEN" ref="a51d6c342d92ab5bc91de12d16270ca0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_CONNECT_LEN&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00024">24</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0577b387a60434ff4178b0d5a8a75f73"></a><!-- doxytag: member="http.c::S_METHOD_DELETE" ref="a0577b387a60434ff4178b0d5a8a75f73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_DELETE&#160;&#160;&#160;&quot;DELETE&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00015">15</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="adca36b9ed5af9ed93bd488c3c8df3728"></a><!-- doxytag: member="http.c::S_METHOD_DELETE_LEN" ref="adca36b9ed5af9ed93bd488c3c8df3728" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_DELETE_LEN&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00016">16</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5b1419b28ee900c497c9d12a3d55a086"></a><!-- doxytag: member="http.c::S_METHOD_GET" ref="a5b1419b28ee900c497c9d12a3d55a086" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_GET&#160;&#160;&#160;&quot;GET&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00009">9</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6039dc3a681b3e19368e2697573956be"></a><!-- doxytag: member="http.c::S_METHOD_GET_LEN" ref="a6039dc3a681b3e19368e2697573956be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_GET_LEN&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00010">10</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a51339cf7ae257dd055af3f07507660ec"></a><!-- doxytag: member="http.c::S_METHOD_HEAD" ref="a51339cf7ae257dd055af3f07507660ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_HEAD&#160;&#160;&#160;&quot;HEAD&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00017">17</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="abf39a335866cfd4ae3898f699bb53a2f"></a><!-- doxytag: member="http.c::S_METHOD_HEAD_LEN" ref="abf39a335866cfd4ae3898f699bb53a2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_HEAD_LEN&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00018">18</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="adca7a73be3c2f076707f0dfee53d2ee3"></a><!-- doxytag: member="http.c::S_METHOD_OPTIONS" ref="adca7a73be3c2f076707f0dfee53d2ee3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_OPTIONS&#160;&#160;&#160;&quot;OPTIONS&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00019">19</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="aca7b51eb47872d3b0742042951826365"></a><!-- doxytag: member="http.c::S_METHOD_OPTIONS_LEN" ref="aca7b51eb47872d3b0742042951826365" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_OPTIONS_LEN&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00020">20</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="af7305bcf03b5d811dc79b837253b1392"></a><!-- doxytag: member="http.c::S_METHOD_POST" ref="af7305bcf03b5d811dc79b837253b1392" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_POST&#160;&#160;&#160;&quot;POST&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00011">11</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8b08b8d70a27b1c157ac42b39b839522"></a><!-- doxytag: member="http.c::S_METHOD_POST_LEN" ref="a8b08b8d70a27b1c157ac42b39b839522" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_POST_LEN&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00012">12</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0b471f186758a2e5ae3d3ae5ca9e9172"></a><!-- doxytag: member="http.c::S_METHOD_PUT" ref="a0b471f186758a2e5ae3d3ae5ca9e9172" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_PUT&#160;&#160;&#160;&quot;PUT&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00013">13</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9dcd450da87c90b4cfc3455721ad51d6"></a><!-- doxytag: member="http.c::S_METHOD_PUT_LEN" ref="a9dcd450da87c90b4cfc3455721ad51d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_PUT_LEN&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00014">14</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a01fd12e9de2f85def75e0370e212c3a4"></a><!-- doxytag: member="http.c::S_METHOD_TRACE" ref="a01fd12e9de2f85def75e0370e212c3a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_TRACE&#160;&#160;&#160;&quot;TRACE&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00021">21</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a419bfe90e9a5a493e1c39d96d0ca4b38"></a><!-- doxytag: member="http.c::S_METHOD_TRACE_LEN" ref="a419bfe90e9a5a493e1c39d96d0ca4b38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_METHOD_TRACE_LEN&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00022">22</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa6f01c37e720b04b0f7271e8077c104f"></a><!-- doxytag: member="http.c::S_TRANSFER_CHUNKED" ref="aa6f01c37e720b04b0f7271e8077c104f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_TRANSFER_CHUNKED&#160;&#160;&#160;&quot;Transfer-encoding: chunked\r\n&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00935">935</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae639266697246d81f6b3a89a700d6071"></a><!-- doxytag: member="http.c::S_TRANSFER_CHUNKED_LEN" ref="ae639266697246d81f6b3a89a700d6071" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_TRANSFER_CHUNKED_LEN&#160;&#160;&#160;28</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00936">936</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<a class="anchor" id="a407d07021aeaf63da6145057e7fd7d93"></a><!-- doxytag: member="http.c::to_lower" ref="a407d07021aeaf63da6145057e7fd7d93" args="(pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define to_lower</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pos</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (<a class="code" href="a00014.html#a0c3332312d428ba39cd5728493062454">is_upper_case</a>( *pos )) { \
    *pos = *pos - <span class="charliteral">&#39;A&#39;</span> + <span class="charliteral">&#39;a&#39;</span>; \
  }
</pre></div>
<p>Definition at line <a class="el" href="a00016_source.html#l00038">38</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="aaf0e1bc8c0745e8435c3f478537603ca"></a><!-- doxytag: member="http.c::HEADER_HASH_ACTION" ref="aaf0e1bc8c0745e8435c3f478537603ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00002.html">tagHEADER_HASH_ACTION</a>  <a class="el" href="a00002.html">HEADER_HASH_ACTION</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae15795ec6bb30bef27be04ac28000dbf"></a><!-- doxytag: member="http.c::free_stringpair" ref="ae15795ec6bb30bef27be04ac28000dbf" args="(DLISTUNR *list, void *entry, void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void free_stringpair </td>
          <td>(</td>
          <td class="paramtype">DLISTUNR *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00073">73</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00011.html">STRINGPAIR</a> *pair = (<a class="code" href="a00011.html">STRINGPAIR</a> *) entry;
 
  M_UNUSED(list);
  M_UNUSED(context);
 
  free( pair-&gt;<a class="code" href="a00011.html#ac2ecc9b0399e0309fbba83739f1c4c40">key</a> );
  free( pair-&gt;<a class="code" href="a00011.html#a396c2de767eded3dc6ec524ea1a714a8">value</a> );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae3f621842d3c96a248f1a1d6a7b21d9e"></a><!-- doxytag: member="http.c::get_reason_phrase" ref="ae3f621842d3c96a248f1a1d6a7b21d9e" args="(int code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_reason_phrase </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00945">945</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">switch</span>( code ) {
          <span class="keywordflow">case</span> 100:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Continue&quot;</span>;
          <span class="keywordflow">case</span> 101:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Switching Protocols&quot;</span>;
          <span class="keywordflow">case</span> 200:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;OK&quot;</span>;
          <span class="keywordflow">case</span> 201:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Created&quot;</span>;
          <span class="keywordflow">case</span> 202:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Accepted&quot;</span>;
          <span class="keywordflow">case</span> 203:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Non-Authoritative Information&quot;</span>;
          <span class="keywordflow">case</span> 204:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;No Content&quot;</span>;
          <span class="keywordflow">case</span> 205:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Reset Content&quot;</span>;
          <span class="keywordflow">case</span> 206:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Partial Content&quot;</span>;
          <span class="keywordflow">case</span> 300:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Multiple Choices&quot;</span>;
          <span class="keywordflow">case</span> 301:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Moved Permanently&quot;</span>;
          <span class="keywordflow">case</span> 302:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Found&quot;</span>;
          <span class="keywordflow">case</span> 303:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;See Other&quot;</span>;
          <span class="keywordflow">case</span> 304:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Modified&quot;</span>;
          <span class="keywordflow">case</span> 305:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Use Proxy&quot;</span>;
          <span class="keywordflow">case</span> 307:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Temporary Redirect&quot;</span>;
          <span class="keywordflow">case</span> 400:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bad Request&quot;</span>;
          <span class="keywordflow">case</span> 401:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unauthorized&quot;</span>;
          <span class="keywordflow">case</span> 402:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Payment Required&quot;</span>;
          <span class="keywordflow">case</span> 403:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Forbidden&quot;</span>;
          <span class="keywordflow">case</span> 404:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Found&quot;</span>;
          <span class="keywordflow">case</span> 405:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Method Not Allowed&quot;</span>;
          <span class="keywordflow">case</span> 406:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Acceptable&quot;</span>;
          <span class="keywordflow">case</span> 407:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Proxy Authentication Required&quot;</span>;
          <span class="keywordflow">case</span> 408:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request Time-out&quot;</span>;
          <span class="keywordflow">case</span> 409:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Conflict&quot;</span>;
          <span class="keywordflow">case</span> 410:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gone&quot;</span>;
          <span class="keywordflow">case</span> 411:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Length Required&quot;</span>;
          <span class="keywordflow">case</span> 412:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Precondition Failed&quot;</span>;
          <span class="keywordflow">case</span> 413:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request Entity Too Large&quot;</span>;
          <span class="keywordflow">case</span> 414:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request-URI Too Large&quot;</span>;
          <span class="keywordflow">case</span> 415:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unsupported Media Type&quot;</span>;
          <span class="keywordflow">case</span> 416:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Requested range not satisfiable&quot;</span>;
          <span class="keywordflow">case</span> 417:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Expectation Failed&quot;</span>;
          <span class="keywordflow">case</span> 500:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Internal Server Error&quot;</span>;
          <span class="keywordflow">case</span> 501:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Implemented&quot;</span>;
          <span class="keywordflow">case</span> 502:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bad Gateway&quot;</span>;
          <span class="keywordflow">case</span> 503:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Service Unavailable&quot;</span>;
          <span class="keywordflow">case</span> 504:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gateway Time-out&quot;</span>;
          <span class="keywordflow">case</span> 505:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;HTTP Version not supported&quot;</span>;
   }
   <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3fcdd47ea95ee4ef2da80d5e1f4c250f"></a><!-- doxytag: member="http.c::hash_compare" ref="a3fcdd47ea95ee4ef2da80d5e1f4c250f" args="(HASH_Entry *entry, void *key, ssize_t key_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int hash_compare </td>
          <td>(</td>
          <td class="paramtype">HASH_Entry *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00156">156</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00002.html">HEADER_HASH_ACTION</a> *lhs;

  lhs = (<a class="code" href="a00002.html">HEADER_HASH_ACTION</a> *) entry;

  <span class="keywordflow">return</span> strncmp(lhs-&gt;<a class="code" href="a00002.html#a41da7c59b49a7ca0bcc5345fc603c9a1">key</a>, key, key_length); 
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2ca5809163b8fa1bb3cb98e92087ba71"></a><!-- doxytag: member="http.c::http_is_ctl" ref="a2ca5809163b8fa1bb3cb98e92087ba71" args="(char ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int http_is_ctl </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00045">45</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (ch &gt;=0 &amp;&amp; ch &lt;= 31) || ch == 127;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4c076db9ce25ed33a2ce16be3dc277aa"></a><!-- doxytag: member="http.c::http_is_ctl_or_space" ref="a4c076db9ce25ed33a2ce16be3dc277aa" args="(char ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int http_is_ctl_or_space </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00050">50</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (ch &gt;=0 &amp;&amp; ch &lt;= 32) || ch == 127;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac42c9702c6a1547de4493f7f3ef21bc1"></a><!-- doxytag: member="http.c::http_is_separator" ref="ac42c9702c6a1547de4493f7f3ef21bc1" args="(char ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int http_is_separator </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00064">64</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> ch == <span class="charliteral">&#39;(&#39;</span>  || ch ==  <span class="charliteral">&#39;)&#39;</span> || ch ==  <span class="charliteral">&#39;&lt;&#39;</span> || ch ==  <span class="charliteral">&#39;&gt;&#39;</span>  || ch ==  <span class="charliteral">&#39;@&#39;</span>
      || ch ==  <span class="charliteral">&#39;,&#39;</span> || ch ==  <span class="charliteral">&#39;;&#39;</span> || ch ==  <span class="charliteral">&#39;:&#39;</span> || ch ==  <span class="charliteral">&#39;\\&#39;</span> || ch ==  <span class="charliteral">&#39;&quot;&#39;</span>
      || ch ==  <span class="charliteral">&#39;/&#39;</span> || ch ==  <span class="charliteral">&#39;[&#39;</span> || ch ==  <span class="charliteral">&#39;]&#39;</span> || ch ==  <span class="charliteral">&#39;?&#39;</span>  || ch ==  <span class="charliteral">&#39;=&#39;</span>
      || ch ==  <span class="charliteral">&#39;{&#39;</span> || ch ==  <span class="charliteral">&#39;}&#39;</span> || ch ==  <span class="charliteral">&#39; &#39;</span> || ch ==  <span class="charliteral">&#39;\t&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a079ef1c165906ce8b5bced46a7746680"></a><!-- doxytag: member="http.c::http_is_space" ref="a079ef1c165906ce8b5bced46a7746680" args="(char ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int http_is_space </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00055">55</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> ch == <span class="charliteral">&#39; &#39;</span> || ch == <span class="charliteral">&#39;\t&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a21309e0c6192fd4b8a34e3aabf7ccad7"></a><!-- doxytag: member="http.c::http_version_to_str" ref="a21309e0c6192fd4b8a34e3aabf7ccad7" args="(Http_version_type ver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* http_version_to_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00024.html#ga06dc534889d1806e0448e56dd9757dae">Http_version_type</a>&#160;</td>
          <td class="paramname"><em>ver</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00921">921</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">switch</span>(ver) {
    <span class="keywordflow">case</span> <a class="code" href="a00024.html#gga92ff2f79ea14e92657972a36d58883a1a3932308db22120ce049dd60f3430b814">HTTP_VERSION_1_0</a>:
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;1.0&quot;</span>;
    <span class="keywordflow">case</span> <a class="code" href="a00024.html#gga92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6">HTTP_VERSION_1_1</a>:
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;1.1&quot;</span>;
  }
  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aed9d9e4b3924953f553c81d8767b9670"></a><!-- doxytag: member="http.c::init_parsers_general_header" ref="aed9d9e4b3924953f553c81d8767b9670" args="(HTTP_PARSER *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_parsers_general_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00015_source.html#l00113">113</a> of file <a class="el" href="a00015_source.html">hparse.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="a00026.html#gae0af51ac516c4e68c9d7ba843fbea541" title="add a parser for a specific http header type">HTTP_add_header_parser</a>( parser, <span class="stringliteral">&quot;content-length&quot;</span>,  <a class="code" href="a00015.html#a94ed21024788a6468bef1254fbcc601a">parser_content_length_header</a>) ||
      <a class="code" href="a00026.html#gae0af51ac516c4e68c9d7ba843fbea541" title="add a parser for a specific http header type">HTTP_add_header_parser</a>( parser, <span class="stringliteral">&quot;connection&quot;</span>,  <a class="code" href="a00015.html#a40d967c801e7387bf035ca0180cf65c5">parser_connection_header</a>) || 
       <a class="code" href="a00026.html#gae0af51ac516c4e68c9d7ba843fbea541" title="add a parser for a specific http header type">HTTP_add_header_parser</a>( parser, <span class="stringliteral">&quot;transfer-encoding&quot;</span>,  <a class="code" href="a00015.html#a60ca36cce17075b298907e33a65e8074">parser_transfer_encoding_header</a>) ) {
    <span class="keywordflow">return</span> -1;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8839eee7a29fdaecb57faddfea66620d"></a><!-- doxytag: member="http.c::init_parsers_request_header" ref="a8839eee7a29fdaecb57faddfea66620d" args="(HTTP_PARSER *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_parsers_request_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">HTTP_PARSER</a> *&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00015_source.html#l00123">123</a> of file <a class="el" href="a00015_source.html">hparse.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="a00026.html#gae0af51ac516c4e68c9d7ba843fbea541" title="add a parser for a specific http header type">HTTP_add_header_parser</a>( parser, <span class="stringliteral">&quot;expect&quot;</span>,  <a class="code" href="a00015.html#aacd9120df894136a7ee383efcb4698c3">parser_expect_header</a>) || 
      <a class="code" href="a00026.html#gae0af51ac516c4e68c9d7ba843fbea541" title="add a parser for a specific http header type">HTTP_add_header_parser</a>( parser, <span class="stringliteral">&quot;host&quot;</span>,  <a class="code" href="a00015.html#a1afdaf777be1d5dfaab44388faf46531">parser_host_header</a>) ) {
    <span class="keywordflow">return</span> -1;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6dbb89ef5afb7d9640fad8c33c6cda21"></a><!-- doxytag: member="http.c::parse_request_line" ref="a6dbb89ef5afb7d9640fad8c33c6cda21" args="(HTTP_REQUEST *request, BF *bf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> parse_request_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">HTTP_REQUEST</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>bf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00544">544</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00024.html#gac5182036656d3198819f12ef9ec9d08b">Http_method_type</a> method;
  <span class="keywordtype">char</span> *eof,*tok, *line;
  <a class="code" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> rt;  

  rt = <a class="code" href="a00026.html#gac5e21a738d73d75ebec125c97038961a" title="returns next raw line from http header, adjoins line continuations.">HTTP_get_line</a>( bf, &amp;line );
  <span class="keywordflow">if</span> (rt != <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>) {
    <span class="keywordflow">return</span> rt;
  }

  <span class="keywordflow">switch</span>( *line ) {
    <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>:
      <span class="keywordflow">if</span> (strncmp( line, <a class="code" href="a00016.html#a5b1419b28ee900c497c9d12a3d55a086">S_METHOD_GET</a>, <a class="code" href="a00016.html#a6039dc3a681b3e19368e2697573956be">S_METHOD_GET_LEN</a> ) != 0) {
        <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
      }
      method = <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816a90754abc55dbb76862fa50abee5af659">HTTP_METHOD_GET</a>; 
      line += <a class="code" href="a00016.html#a6039dc3a681b3e19368e2697573956be">S_METHOD_GET_LEN</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:
      <span class="keywordflow">if</span> (strncmp( line, <a class="code" href="a00016.html#af7305bcf03b5d811dc79b837253b1392">S_METHOD_POST</a>, <a class="code" href="a00016.html#a8b08b8d70a27b1c157ac42b39b839522">S_METHOD_POST_LEN</a> ) == 0) {
        method = <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816a1944682922ac79b2e682312d8f3f71e2">HTTP_METHOD_POST</a>;
        line += <a class="code" href="a00016.html#a8b08b8d70a27b1c157ac42b39b839522">S_METHOD_POST_LEN</a>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp( line, <a class="code" href="a00016.html#a0b471f186758a2e5ae3d3ae5ca9e9172">S_METHOD_PUT</a>, <a class="code" href="a00016.html#a9dcd450da87c90b4cfc3455721ad51d6">S_METHOD_PUT_LEN</a> ) == 0) {
        method = <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816af7557927b605c64f35f629b43823b1c9">HTTP_METHOD_PUT</a>; 
        line += <a class="code" href="a00016.html#a9dcd450da87c90b4cfc3455721ad51d6">S_METHOD_PUT_LEN</a>;
      } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:
      <span class="keywordflow">if</span> (strncmp( line, <a class="code" href="a00016.html#a51339cf7ae257dd055af3f07507660ec">S_METHOD_HEAD</a>, <a class="code" href="a00016.html#abf39a335866cfd4ae3898f699bb53a2f">S_METHOD_HEAD_LEN</a> ) != 0) {
        <span class="keywordflow">return</span>  <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
      }
      method = <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816a27e993d38ff6b43284014a10798b6223">HTTP_METHOD_HEAD</a>;
      line += <a class="code" href="a00016.html#abf39a335866cfd4ae3898f699bb53a2f">S_METHOD_HEAD_LEN</a> ;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:
      <span class="keywordflow">if</span> (strncmp( line, <a class="code" href="a00016.html#a0577b387a60434ff4178b0d5a8a75f73">S_METHOD_DELETE</a>, <a class="code" href="a00016.html#adca36b9ed5af9ed93bd488c3c8df3728">S_METHOD_DELETE_LEN</a> ) != 0) {
        <span class="keywordflow">return</span>  <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
      }
      method = <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816a761371f7807255b7912afbac2f665ffe">HTTP_METHOD_DELETE</a>;
      line += <a class="code" href="a00016.html#adca36b9ed5af9ed93bd488c3c8df3728">S_METHOD_DELETE_LEN</a> ;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:
      <span class="keywordflow">if</span> (strncmp( line, <a class="code" href="a00016.html#a01fd12e9de2f85def75e0370e212c3a4">S_METHOD_TRACE</a>, <a class="code" href="a00016.html#a419bfe90e9a5a493e1c39d96d0ca4b38">S_METHOD_TRACE_LEN</a> ) != 0) {
        <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
      }
      method = <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816a95b5b19305a14de1400aedfdec1c1eed">HTTP_METHOD_TRACE</a>;
      line += <a class="code" href="a00016.html#a419bfe90e9a5a493e1c39d96d0ca4b38">S_METHOD_TRACE_LEN</a> ;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:
      <span class="keywordflow">if</span> (strncmp( line, <a class="code" href="a00016.html#a55bf7b1c612fef715d52dc12dc90b940">S_METHOD_CONNECT</a>, <a class="code" href="a00016.html#a51d6c342d92ab5bc91de12d16270ca0e">S_METHOD_CONNECT_LEN</a> ) != 0) {
        <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
      }
      method = <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816a3755246bea87120e8311dc914d573fbf">HTTP_METHOD_CONNECT</a>; 
      line += <a class="code" href="a00016.html#a51d6c342d92ab5bc91de12d16270ca0e">S_METHOD_CONNECT_LEN</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">default</span>:
      <span class="keywordflow">return</span> -1;
  }
  request-&gt;<a class="code" href="a00005.html#a002f168e0c3b2a616f3626867e09dd3c">method</a> = method;

  tok =  <a class="code" href="a00020.html#add28c967c71026785db6e89be7d006b2">get_token</a>( line, &amp;eof );
  <span class="keywordflow">if</span> (!tok) {
   <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
  }

  *eof = 0;
  request-&gt;<a class="code" href="a00005.html#a429a80b15eec069ce2f6ddf3751ccbb5">raw_url</a> = strdup( tok );

  <span class="keywordflow">if</span> (method != <a class="code" href="a00024.html#gga254d7e697a3b26a246614dd867644816a3755246bea87120e8311dc914d573fbf">HTTP_METHOD_CONNECT</a>) {
    <span class="keywordflow">if</span> (<a class="code" href="a00030.html#gab9acb8adb11be6e657892d858f40e917">URI_parse</a>( &amp;request-&gt;<a class="code" href="a00005.html#aa43cab316cd65661dc36cf8f5d0b78c5">url</a>, tok )) {
      <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
    }
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">if</span> (strcmp(tok, <span class="stringliteral">&quot;*&quot;</span>) != 0) {
      <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
    }
    <a class="code" href="a00030.html#ga8ff72430ab547d0151fc8c58c8039825">URI_init</a>( &amp;request-&gt;<a class="code" href="a00005.html#aa43cab316cd65661dc36cf8f5d0b78c5">url</a> );
  }

  tok =  <a class="code" href="a00020.html#add28c967c71026785db6e89be7d006b2">get_token</a>( eof+1, &amp;eof );
  <span class="keywordflow">if</span> (strncmp( tok, <a class="code" href="a00016.html#a00b0ac1e809bca4fb7929dbd137c5a8a">HTTP_START_S</a>, <a class="code" href="a00016.html#a788ad423247009c8ed8797848d27f30b">HTTP_START_S_LEN</a> ) != 0) {
    <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
  }
  tok += <a class="code" href="a00016.html#a788ad423247009c8ed8797848d27f30b">HTTP_START_S_LEN</a>;

  <span class="keywordflow">switch</span>(tok[0]) {
     <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:
        request-&gt;<a class="code" href="a00005.html#a6225f594931f6ff84063b1affca2f582">version</a> = <a class="code" href="a00024.html#gga92ff2f79ea14e92657972a36d58883a1a3932308db22120ce049dd60f3430b814">HTTP_VERSION_1_0</a>;
        <span class="keywordflow">break</span>;
     <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:
        request-&gt;<a class="code" href="a00005.html#a6225f594931f6ff84063b1affca2f582">version</a> =  <a class="code" href="a00024.html#gga92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6">HTTP_VERSION_1_1</a>; 
        <span class="keywordflow">break</span>;
     <span class="keywordflow">default</span>:
        <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
  }
  <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af2d54b915c5c209b05dfeb84b4dd640d"></a><!-- doxytag: member="http.c::parse_response_line" ref="af2d54b915c5c209b05dfeb84b4dd640d" args="(HTTP_RESPONSE *response, BF *bf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> parse_response_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00007.html">HTTP_RESPONSE</a> *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BF *&#160;</td>
          <td class="paramname"><em>bf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00016_source.html#l00779">779</a> of file <a class="el" href="a00016_source.html">http.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00026.html#gace21a5a69d5e05c5c42d4861f37a49c4">PARSER_STATUS</a> rt;  
  <span class="keywordtype">char</span> *line, *tok, *eof;
  <span class="keywordtype">int</span> st;

  rt = <a class="code" href="a00026.html#gac5e21a738d73d75ebec125c97038961a" title="returns next raw line from http header, adjoins line continuations.">HTTP_get_line</a>( bf, &amp;line );
  <span class="keywordflow">if</span> (rt != <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>) {
    <span class="keywordflow">return</span> rt;
  }

  tok = line;
  <span class="keywordflow">if</span> (strncmp( tok, <a class="code" href="a00016.html#a00b0ac1e809bca4fb7929dbd137c5a8a">HTTP_START_S</a>, <a class="code" href="a00016.html#a788ad423247009c8ed8797848d27f30b">HTTP_START_S_LEN</a> ) != 0) {
    <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
  }
  tok += <a class="code" href="a00016.html#a788ad423247009c8ed8797848d27f30b">HTTP_START_S_LEN</a>;

  <span class="keywordflow">switch</span>(tok[0]) {
     <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:
        response-&gt;<a class="code" href="a00007.html#a648d45911f049bab758356e9dc4713b4">version</a> = <a class="code" href="a00024.html#gga92ff2f79ea14e92657972a36d58883a1a3932308db22120ce049dd60f3430b814">HTTP_VERSION_1_0</a>;
        <span class="keywordflow">break</span>;
     <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:
        response-&gt;<a class="code" href="a00007.html#a648d45911f049bab758356e9dc4713b4">version</a> =  <a class="code" href="a00024.html#gga92ff2f79ea14e92657972a36d58883a1af1a34119b438038bc609a273f9bc08c6">HTTP_VERSION_1_1</a>; 
        <span class="keywordflow">break</span>;
     <span class="keywordflow">default</span>:
        <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
  }
 
  tok =  <a class="code" href="a00020.html#add28c967c71026785db6e89be7d006b2">get_token</a>( line, &amp;eof );
  <span class="keywordflow">if</span> (!tok) {
   <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
  }

  st = atoi( tok );
  <span class="keywordflow">if</span> (st &lt; 100 || st &gt;= 600) {
    <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a4bd96b2bfcb709eb5caf0ef934cc921d">PARSER_STATUS_ERROR</a>;
  }
 
  response-&gt;<a class="code" href="a00007.html#abc01517233416f0822c535a25876ef2c">status_code</a> = st;

  <span class="keywordflow">return</span> <a class="code" href="a00026.html#ggace21a5a69d5e05c5c42d4861f37a49c4a25ead330805092a1babdf67ca0f018c6">PARSER_STATUS_COMPLETED</a>;
}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 25 2011 01:17:12 for HTTP Parser and message builder / objects in plain C by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
