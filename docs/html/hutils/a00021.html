<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HTTP Parser and message builder / objects in plain C: uri.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HTTP Parser and message builder / objects in plain C&#160;<span id="projectnumber">Snapshot</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">uri.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="a00022_source.html">uri.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00014_source.html">charclass.h</a>&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="a00020_source.html">sutils.h</a>&quot;</code><br/>
</div>
<p><a href="a00021_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00013.html">tagURIPARSECTX</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00013.html">tagURIPARSECTX</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#ae8eefa49928eead588c27e25064dc764">URIPARSECTX</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a7f600c7e017e6798df185314bf06c79e">is_mark</a> (int8_t ch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#acce9ea7662290b5b285addb415153760">is_unreserved</a> (int8_t ch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a4be1d64a304771921bfb433f56da9b8e">is_reserved</a> (int8_t ch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *start, char *end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char ch, int char_encoded)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a0ad56df073d2ba27ea027e41469b3f9c">ctx_finish_escaped_string</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a80e6ead0b8e5e18540ac5e23d60575b4">ctx_undo_escaped_string</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a0b56a1f8c34732e7d34f6a26071196ff">parse_escaped</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#aa28908824686b0d40be21534a60ed2b9">parse_uric</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#adfb50d1059700bd12272e3a5fba61461">parse_uric_sequence</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a98de74d7af924a1394abb989b52dfe6f">parse_pchar</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#aa42297e323b57f1d41ecc6ab66d15228">parse_pchar_sequence</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a09d4853f4d37fd26d138645da055bafc">parse_segment</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a55e2a69ac69cfed87ca6c2dc94b41e07">parse_path_segments</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a631c7bb7fc4481fd87c0ba388854ca04">parse_ipv4_address</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#aab2f681a85eb14cf468100ce68ed20ab">parse_userinfo</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#ae0824c26d405c6e026b81e5863a7ee3e">parse_domainlabel</a> (char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#af8279a3b2cdc184e6a3e320792259b19">parse_hostname</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a3454d9f952367c406bc9232cd3dd45a2">parse_ipv6_address</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a66ff71abf545fe5b8177bd642e16653c">parse_hostport</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#af5c64e23533d55310336a6616922852b">parse_server</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a54749645383feb12ffbe62e168c7d5fa">parse_authority</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a39e605f0073f009c55127a0e9bd21707">parse_scheme</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *line, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#ad882bddea7e87fc45d69b807bb53d5ab">parse_abs_path</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#af005921411390c1a063713542cc5e662">parse_net_path</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#ae6afcc5b19c364ba41ef076cde2f1467">parse_uric_no_slash</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a9d3fa2060cba0d40131cac8691492bbf">parse_opaque_part</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00021.html#a329ed8214b110b4c294f413f49cb9635">parse_hier_part</a> (<a class="el" href="a00013.html">URIPARSECTX</a> *ctx, char *ptr, char **next, int parse_opaque)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gab9acb8adb11be6e657892d858f40e917">URI_parse</a> (<a class="el" href="a00012.html">URI</a> *url, char *line)</td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ae8eefa49928eead588c27e25064dc764"></a><!-- doxytag: member="uri.c::URIPARSECTX" ref="ae8eefa49928eead588c27e25064dc764" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00013.html">tagURIPARSECTX</a>  <a class="el" href="a00013.html">URIPARSECTX</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4b4396f507fe125c822b3ca4042a41da"></a><!-- doxytag: member="uri.c::ctx_add_escaped_char" ref="a4b4396f507fe125c822b3ca4042a41da" args="(URIPARSECTX *ctx, char ch, int char_encoded)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctx_add_escaped_char </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>char_encoded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00046">46</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  M_UNUSED( char_encoded );
  * ctx-&gt;<a class="code" href="a00013.html#adb85398bbc31177e903ba48a431aabbd">cdata_pos</a> = ch;

  * ( ctx-&gt;<a class="code" href="a00013.html#ab6c0fad059718b37ab69741ae5761f73">cdata_is_escaped_start</a> + ( ctx-&gt;<a class="code" href="a00013.html#adb85398bbc31177e903ba48a431aabbd">cdata_pos</a> - ctx-&gt;<a class="code" href="a00013.html#ab5eec79fbd87a3faddbe6c6e37da4e33">cdata_pos_off</a> ) ) =  (char) char_encoded;

  ++ ctx-&gt;<a class="code" href="a00013.html#adb85398bbc31177e903ba48a431aabbd">cdata_pos</a>;
 
<span class="comment">//ctx-&gt;cdata_pos - ctx-&gt;cdata_pos_start</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="abde5e24e4ee019b871ebe2a5575e270d"></a><!-- doxytag: member="uri.c::ctx_copy_string_raw" ref="abde5e24e4ee019b871ebe2a5575e270d" args="(URIPARSECTX *ctx, char *start, char *end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ctx_copy_string_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00035">35</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *ret = ctx-&gt;<a class="code" href="a00013.html#aed0cfa54ff781d5f68562a02acbf3fba">cdata_raw_pos</a>;

  strncpy( ctx-&gt;<a class="code" href="a00013.html#aed0cfa54ff781d5f68562a02acbf3fba">cdata_raw_pos</a>, start, end - start );
  ctx-&gt;<a class="code" href="a00013.html#aed0cfa54ff781d5f68562a02acbf3fba">cdata_raw_pos</a> += end - start;
  * ctx-&gt;<a class="code" href="a00013.html#aed0cfa54ff781d5f68562a02acbf3fba">cdata_raw_pos</a> ++ =<span class="charliteral">&#39;\0&#39;</span>;

  <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0ad56df073d2ba27ea027e41469b3f9c"></a><!-- doxytag: member="uri.c::ctx_finish_escaped_string" ref="a0ad56df073d2ba27ea027e41469b3f9c" args="(URIPARSECTX *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ctx_finish_escaped_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00058">58</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *ret = ctx-&gt;<a class="code" href="a00013.html#ab0bbce6c84fdc9b47d66720287845852">cdata_pos_start</a>;
 
  * ctx-&gt;<a class="code" href="a00013.html#adb85398bbc31177e903ba48a431aabbd">cdata_pos</a> ++ = <span class="charliteral">&#39;\0&#39;</span>;
  ctx-&gt;<a class="code" href="a00013.html#ab0bbce6c84fdc9b47d66720287845852">cdata_pos_start</a> = ctx-&gt;<a class="code" href="a00013.html#adb85398bbc31177e903ba48a431aabbd">cdata_pos</a>;
 
 <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a80e6ead0b8e5e18540ac5e23d60575b4"></a><!-- doxytag: member="uri.c::ctx_undo_escaped_string" ref="a80e6ead0b8e5e18540ac5e23d60575b4" args="(URIPARSECTX *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ctx_undo_escaped_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00068">68</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  ctx-&gt;<a class="code" href="a00013.html#adb85398bbc31177e903ba48a431aabbd">cdata_pos</a> = ctx-&gt;<a class="code" href="a00013.html#ab0bbce6c84fdc9b47d66720287845852">cdata_pos_start</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7f600c7e017e6798df185314bf06c79e"></a><!-- doxytag: member="uri.c::is_mark" ref="a7f600c7e017e6798df185314bf06c79e" args="(int8_t ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int is_mark </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00010">10</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">                                {
   <span class="keywordflow">return</span> ch == <span class="charliteral">&#39;-&#39;</span> || ch == <span class="charliteral">&#39;_&#39;</span> || ch == <span class="charliteral">&#39;.&#39;</span> || ch == <span class="charliteral">&#39;!&#39;</span> || ch == <span class="charliteral">&#39;~&#39;</span> || ch == <span class="charliteral">&#39;*&#39;</span> || ch == <span class="charliteral">&#39;\&#39;&#39;</span> || ch == <span class="charliteral">&#39;(&#39;</span> || ch == <span class="charliteral">&#39;)&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4be1d64a304771921bfb433f56da9b8e"></a><!-- doxytag: member="uri.c::is_reserved" ref="a4be1d64a304771921bfb433f56da9b8e" args="(int8_t ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int is_reserved </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00020">20</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
    <span class="keywordflow">return</span> ch == <span class="charliteral">&#39;;&#39;</span> || ch == <span class="charliteral">&#39;/&#39;</span> || ch == <span class="charliteral">&#39;?&#39;</span> || ch == <span class="charliteral">&#39;:&#39;</span> || ch == <span class="charliteral">&#39;@&#39;</span> || ch == <span class="charliteral">&#39;&amp;&#39;</span> || ch == <span class="charliteral">&#39;=&#39;</span> || ch == <span class="charliteral">&#39;+&#39;</span> || ch == <span class="charliteral">&#39;$&#39;</span> || ch == <span class="charliteral">&#39;,&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acce9ea7662290b5b285addb415153760"></a><!-- doxytag: member="uri.c::is_unreserved" ref="acce9ea7662290b5b285addb415153760" args="(int8_t ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int is_unreserved </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00015">15</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
    <span class="keywordflow">return</span> <a class="code" href="a00014.html#a283b46097df7193a0f62701ef8b65ebb">is_alphanum</a>(ch) || <a class="code" href="a00021.html#a7f600c7e017e6798df185314bf06c79e">is_mark</a>(ch);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad882bddea7e87fc45d69b807bb53d5ab"></a><!-- doxytag: member="uri.c::parse_abs_path" ref="ad882bddea7e87fc45d69b807bb53d5ab" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_abs_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00407">407</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *start;

    start = ptr;

    <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;/&#39;</span>) {
      <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, <span class="charliteral">&#39;/&#39;</span>, 0 );
      *next = ++ptr;
    }
    <span class="keywordflow">if</span> (<a class="code" href="a00021.html#a55e2a69ac69cfed87ca6c2dc94b41e07">parse_path_segments</a>( ctx, ptr, next ) &lt; 0) {
      <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">if</span> (*next != ptr) {
           ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a928a5e3c37023a0a884a703077924eeb">path_raw</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, *next );
           ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a8fb5ba5e6bb70ec1b3599bdcaf813093">path</a> =  <a class="code" href="a00021.html#a0ad56df073d2ba27ea027e41469b3f9c">ctx_finish_escaped_string</a>(ctx); 
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a54749645383feb12ffbe62e168c7d5fa"></a><!-- doxytag: member="uri.c::parse_authority" ref="a54749645383feb12ffbe62e168c7d5fa" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_authority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00377">377</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (!<a class="code" href="a00021.html#af5c64e23533d55310336a6616922852b">parse_server</a>( ctx, ptr, next)) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae0824c26d405c6e026b81e5863a7ee3e"></a><!-- doxytag: member="uri.c::parse_domainlabel" ref="ae0824c26d405c6e026b81e5863a7ee3e" args="(char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_domainlabel </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00241">241</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordflow">if</span> (!<a class="code" href="a00014.html#a283b46097df7193a0f62701ef8b65ebb">is_alphanum</a>( *ptr) ) {
     <span class="keywordflow">return</span> -1;
   }
   <span class="keywordflow">for</span>(ptr += 1; <a class="code" href="a00014.html#a283b46097df7193a0f62701ef8b65ebb">is_alphanum</a>( *ptr ) || *ptr == <span class="charliteral">&#39;-&#39;</span>; ++ptr);
   
   <span class="keywordflow">if</span> (!<a class="code" href="a00014.html#a283b46097df7193a0f62701ef8b65ebb">is_alphanum</a>( *(ptr-1) ) ) {
     <span class="keywordflow">return</span> -1;
   }
   *next = ptr;

   <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0b56a1f8c34732e7d34f6a26071196ff"></a><!-- doxytag: member="uri.c::parse_escaped" ref="a0b56a1f8c34732e7d34f6a26071196ff" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_escaped </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00075">75</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{  
  <span class="keywordtype">int</span> high,low;
  <span class="keywordtype">int</span> unescaped_char;

  <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;%&#39;</span>) {
    <span class="keywordflow">return</span> 1;
  }

  high = <a class="code" href="a00014.html#ae41c2dfdb3827d25ed2cd83a85c90343">is_hex_ext</a>( *(ptr + 1) );
  <span class="keywordflow">if</span> (! high ) {
    <span class="keywordflow">return</span> -1;
  }

  low = <a class="code" href="a00014.html#ae41c2dfdb3827d25ed2cd83a85c90343">is_hex_ext</a>( *(ptr + 2) );  
  <span class="keywordflow">if</span> (! low ) {
    <span class="keywordflow">return</span> -1;
  }
  
  unescaped_char = (high &lt;&lt; 4) | low;
  <span class="keywordflow">if</span> (! (unescaped_char &gt;=0 &amp;&amp; unescaped_char &lt;= 0x1F) ) {
    <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, unescaped_char, 1 );
  }

  *next = ptr + 3;
  <span class="keywordflow">return</span> 0;
} 
</pre></div>
</div>
</div>
<a class="anchor" id="a329ed8214b110b4c294f413f49cb9635"></a><!-- doxytag: member="uri.c::parse_hier_part" ref="a329ed8214b110b4c294f413f49cb9635" args="(URIPARSECTX *ctx, char *ptr, char **next, int parse_opaque)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_hier_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parse_opaque</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00472">472</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *start;

  <span class="keywordflow">if</span> (ptr[0] == <span class="charliteral">&#39;/&#39;</span>) {
    <span class="keywordflow">if</span> (ptr[1] == <span class="charliteral">&#39;/&#39;</span>) {
      <span class="keywordflow">if</span> (<a class="code" href="a00021.html#af005921411390c1a063713542cc5e662">parse_net_path</a>( ctx, ptr + 2, next )) {
        <span class="keywordflow">return</span> -1;
      }
    } <span class="keywordflow">else</span> {
    <span class="comment">//ctx_add_escaped_char( ctx, &#39;/&#39;, 0 );</span>
      <span class="keywordflow">if</span> (<a class="code" href="a00021.html#ad882bddea7e87fc45d69b807bb53d5ab">parse_abs_path</a>( ctx, ptr, next )) {
        <span class="keywordflow">return</span> -1;
      }
    } 
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">if</span> (parse_opaque) {
       <span class="keywordflow">return</span> <a class="code" href="a00021.html#a9d3fa2060cba0d40131cac8691492bbf">parse_opaque_part</a>( ctx, ptr, next );
    }
    <span class="keywordflow">return</span> -1;
  }

  ptr = *next;
  <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;?&#39;</span>) {
 
    ptr ++;
    start = ptr;
    <span class="keywordflow">if</span> ( <a class="code" href="a00021.html#adfb50d1059700bd12272e3a5fba61461">parse_uric_sequence</a>( ctx, ptr, next ) == -1 ) {
      <span class="keywordflow">return</span> -1;
    }
    ptr = *next;
    ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a93e6702c354c94b3157df02701827a2c">query_raw</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, ptr );
    ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a398a57e4184218f02fc33b04da7819fa">query</a> =  <a class="code" href="a00021.html#a0ad56df073d2ba27ea027e41469b3f9c">ctx_finish_escaped_string</a>(ctx); 
  }

  <span class="keywordflow">if</span> ( *ptr != <span class="charliteral">&#39;#&#39;</span> ) {
    <span class="keywordflow">return</span> 0;
  }

  ++ ptr;
  start = ptr;
  <span class="keywordflow">if</span> (<a class="code" href="a00021.html#adfb50d1059700bd12272e3a5fba61461">parse_uric_sequence</a>( ctx, ptr, next ) == -1) {
    <span class="keywordflow">return</span> -1;
  }
  ptr = *next;
  ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a474ccc0167a309bffaa8339f55ba51ef">fragment_raw</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, ptr );
  ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#afb4b0def9276bead2a348bab74e1034e">fragment</a> =  <a class="code" href="a00021.html#a0ad56df073d2ba27ea027e41469b3f9c">ctx_finish_escaped_string</a>(ctx); 
  
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af8279a3b2cdc184e6a3e320792259b19"></a><!-- doxytag: member="uri.c::parse_hostname" ref="af8279a3b2cdc184e6a3e320792259b19" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_hostname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00259">259</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">char</span> *last_component;
   <span class="keywordtype">char</span> *start = ptr;

   <span class="keywordflow">for</span> ( ; ; ) {
       last_component = ptr;
       <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;/&#39;</span>) {
         <span class="keywordflow">goto</span> ok;
       }
       <span class="keywordflow">if</span> (<a class="code" href="a00021.html#ae0824c26d405c6e026b81e5863a7ee3e">parse_domainlabel</a>( ptr, next) &lt; 0) {
         <span class="keywordflow">return</span> -1;
       }
       ptr = *next;
 
       <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;.&#39;</span>) { 
         <span class="keywordflow">break</span>;
       }
       ++ptr;
    }
    <span class="comment">// check that last component is top label</span>
    <span class="keywordflow">if</span> (<a class="code" href="a00014.html#a0e785ba5f60fda38d1abd5af67581f04">is_digit</a>( * last_component ) ) {
       <span class="keywordflow">return</span> -1;
    }

ok:
    *next = ptr;
 
    ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a51cab48f1903d47847abd4fd2faa16dd">flags</a> |= <a class="code" href="a00029.html#gaa8b74e1e32f1bfcbdc1c35bc351d0c37">URI_FLAGS_HOST_HOSTNAME</a>;   
    ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a7ec586c2aee51d79c245ffce344a6c18">host</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, ptr );
    
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a66ff71abf545fe5b8177bd642e16653c"></a><!-- doxytag: member="uri.c::parse_hostport" ref="a66ff71abf545fe5b8177bd642e16653c" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_hostport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00331">331</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">char</span> *start;

   <span class="keywordflow">if</span> ( ! <a class="code" href="a00021.html#a631c7bb7fc4481fd87c0ba388854ca04">parse_ipv4_address</a>( ctx, ptr, next ) ) {
     <span class="keywordflow">goto</span> pport;
   }

   <span class="keywordflow">if</span> ( ! <a class="code" href="a00021.html#af8279a3b2cdc184e6a3e320792259b19">parse_hostname</a>( ctx, ptr, next) ) {
     <span class="keywordflow">goto</span> pport;
   }

   <span class="keywordflow">if</span> ( ! <a class="code" href="a00021.html#a3454d9f952367c406bc9232cd3dd45a2">parse_ipv6_address</a>( ctx, ptr, next ) ) {
     <span class="keywordflow">goto</span> pport;
   }

   <span class="keywordflow">return</span> -1;

pport:

   ptr = *next;

   <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;:&#39;</span> ) {
      <span class="keywordflow">return</span> 0;
   }
   
   <span class="keywordflow">for</span>( start = ptr = ptr + 1; <a class="code" href="a00014.html#a0e785ba5f60fda38d1abd5af67581f04">is_digit</a>( *ptr ); ++ ptr );
   *next = ptr;

   ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a90106354cb3a73f8035dd377eed540d8">port</a> = atoi( start );
   <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a631c7bb7fc4481fd87c0ba388854ca04"></a><!-- doxytag: member="uri.c::parse_ipv4_address" ref="a631c7bb7fc4481fd87c0ba388854ca04" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_ipv4_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00184">184</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">                                                                             {
  <span class="keywordtype">int</span> i;

  <span class="keywordtype">char</span> *start = ptr;

  <span class="keywordflow">for</span> (i=0; i &lt; 4; i++) {
    <span class="keywordflow">if</span> (! <a class="code" href="a00014.html#a0e785ba5f60fda38d1abd5af67581f04">is_digit</a>(*ptr)) {
      <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">for</span>( ++ ptr; <a class="code" href="a00014.html#a0e785ba5f60fda38d1abd5af67581f04">is_digit</a>( *ptr ); ++ptr );
    <span class="keywordflow">if</span> ( i == 3) {
      <span class="keywordflow">break</span>;
    }
    <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;.&#39;</span>) {
      <span class="keywordflow">return</span> -1;
    } 
    ++ ptr;
  }

  *next = ptr;
  ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a51cab48f1903d47847abd4fd2faa16dd">flags</a> |= <a class="code" href="a00029.html#ga88117f2de53ca60461fdbfc19195c5e6">URI_FLAGS_HOST_IPv4</a>;  
  ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a7ec586c2aee51d79c245ffce344a6c18">host</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, ptr );

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3454d9f952367c406bc9232cd3dd45a2"></a><!-- doxytag: member="uri.c::parse_ipv6_address" ref="a3454d9f952367c406bc9232cd3dd45a2" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_ipv6_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00294">294</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{ 
   <span class="keyword">struct </span>in6_addr addr;
   <span class="keywordtype">char</span> *dup, *start;
   <span class="keywordtype">int</span> rt;


   <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;[&#39;</span>) {
     <span class="keywordflow">return</span> 1;
   }

   start = ptr;
   <span class="keywordflow">for</span>(;*ptr != <span class="charliteral">&#39;]&#39;</span> &amp;&amp; *ptr != <span class="charliteral">&#39;\0&#39;</span>; ++ ptr);
   <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;]&#39;</span>) {
     <span class="keywordflow">return</span> -1;
   }

   dup = <a class="code" href="a00020.html#ac3b6bc5a3df3720ec7dd261c75ce20ac">strdup_range</a>( start+1, ptr );
   <span class="keywordflow">if</span> (!dup) {
     <span class="keywordflow">return</span> -1;
   }
   rt = inet_pton( AF_INET6, dup, &amp;addr); 
   free(dup);
   <span class="keywordflow">if</span> (rt == 1) {
     ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a51cab48f1903d47847abd4fd2faa16dd">flags</a> |= <a class="code" href="a00029.html#gabdb6298e0841c217c1799c247fd27e60">URI_FLAGS_HOST_IPv6</a>;   
     ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a7ec586c2aee51d79c245ffce344a6c18">host</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, ptr );
     
     *next = ptr + 1;
     <span class="keywordflow">return</span> 0;
   }
   <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af005921411390c1a063713542cc5e662"></a><!-- doxytag: member="uri.c::parse_net_path" ref="af005921411390c1a063713542cc5e662" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_net_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00428">428</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordflow">if</span> (! <a class="code" href="a00021.html#a54749645383feb12ffbe62e168c7d5fa">parse_authority</a>( ctx, ptr, next )) {
      ptr = *next;
      <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;/&#39;</span>) {
         <span class="keywordflow">return</span> <a class="code" href="a00021.html#ad882bddea7e87fc45d69b807bb53d5ab">parse_abs_path</a>( ctx, ptr, next );
      }
   }

   <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9d3fa2060cba0d40131cac8691492bbf"></a><!-- doxytag: member="uri.c::parse_opaque_part" ref="a9d3fa2060cba0d40131cac8691492bbf" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_opaque_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00453">453</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">char</span> *start = ptr;
   <span class="keywordtype">int</span> rt;
   <span class="keywordflow">if</span> ( (rt = <a class="code" href="a00021.html#ae6afcc5b19c364ba41ef076cde2f1467">parse_uric_no_slash</a>( ctx, ptr, next )) != 0 ) {
     <span class="keywordflow">return</span> rt;
   }
   <span class="keywordflow">if</span> (<a class="code" href="a00021.html#adfb50d1059700bd12272e3a5fba61461">parse_uric_sequence</a>( ctx, ptr, next ) &lt; 0) {
     <span class="keywordflow">return</span> -1;
   }
   ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a51cab48f1903d47847abd4fd2faa16dd">flags</a> |= <a class="code" href="a00029.html#gab18d910ab6fe32e5e2bd49e138f1f1e5">URI_FLAGS_IS_OPAQUE</a>;  
   ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a7dc74378d1a475a10d1528d7ad4dd968">opaque_raw</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, ptr );
   ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a591b8403463e8028851a7a84068672cf">opaque</a> =  <a class="code" href="a00021.html#a0ad56df073d2ba27ea027e41469b3f9c">ctx_finish_escaped_string</a>(ctx); 


   <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a55e2a69ac69cfed87ca6c2dc94b41e07"></a><!-- doxytag: member="uri.c::parse_path_segments" ref="a55e2a69ac69cfed87ca6c2dc94b41e07" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_path_segments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00168">168</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">                                                                             {
  <span class="keywordflow">if</span> (<a class="code" href="a00021.html#a09d4853f4d37fd26d138645da055bafc">parse_segment</a>( ctx, ptr, next ) &lt; 0) {
    <span class="keywordflow">return</span> -1;
  }
  ptr = *next;
  <span class="keywordflow">while</span> (*ptr == <span class="charliteral">&#39;/&#39;</span>) {
    <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, <span class="charliteral">&#39;/&#39;</span>, 0 );
    ptr = *next = ptr + 1;
    <span class="keywordflow">if</span> (<a class="code" href="a00021.html#a09d4853f4d37fd26d138645da055bafc">parse_segment</a>( ctx, ptr, next ) &lt; 0) {
      <span class="keywordflow">return</span> -1;
    }
    ptr = *next;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98de74d7af924a1394abb989b52dfe6f"></a><!-- doxytag: member="uri.c::parse_pchar" ref="a98de74d7af924a1394abb989b52dfe6f" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_pchar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00127">127</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> ch = *ptr;

  <span class="keywordflow">if</span> (<a class="code" href="a00021.html#acce9ea7662290b5b285addb415153760">is_unreserved</a>( ch ) || ch == <span class="charliteral">&#39;:&#39;</span> || ch == <span class="charliteral">&#39;@&#39;</span> || ch == <span class="charliteral">&#39;&amp;&#39;</span> || ch == <span class="charliteral">&#39;=&#39;</span> || ch == <span class="charliteral">&#39;+&#39;</span> || ch == <span class="charliteral">&#39;$&#39;</span> || ch == <span class="charliteral">&#39;,&#39;</span>) {
    <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, ch, 0 );
    *next = ptr + 1;
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> <a class="code" href="a00021.html#a0b56a1f8c34732e7d34f6a26071196ff">parse_escaped</a>(  ctx, ptr, next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa42297e323b57f1d41ecc6ab66d15228"></a><!-- doxytag: member="uri.c::parse_pchar_sequence" ref="aa42297e323b57f1d41ecc6ab66d15228" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_pchar_sequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00139">139</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> rt;

  <span class="keywordflow">while</span>( (rt = <a class="code" href="a00021.html#a98de74d7af924a1394abb989b52dfe6f">parse_pchar</a>( ctx, ptr, next )) == 0 ) {
    ptr = *next;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a39e605f0073f009c55127a0e9bd21707"></a><!-- doxytag: member="uri.c::parse_scheme" ref="a39e605f0073f009c55127a0e9bd21707" args="(URIPARSECTX *ctx, char *line, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_scheme </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00387">387</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *start = line;

    <span class="keywordflow">if</span> (<a class="code" href="a00014.html#a3d3ebd9ca48c4ae7abae10d7b9f54763">is_alpha</a>( *line )) {
       ++line;
       <span class="keywordflow">while</span>( <a class="code" href="a00014.html#a283b46097df7193a0f62701ef8b65ebb">is_alphanum</a>( *line ) || *line == <span class="charliteral">&#39;+&#39;</span> || *line == <span class="charliteral">&#39;-&#39;</span> || *line == <span class="charliteral">&#39;.&#39;</span>) {
         ++line;
       }
       <span class="keywordflow">if</span> ( *line == <span class="charliteral">&#39;:&#39;</span>) {
           ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#a51cab48f1903d47847abd4fd2faa16dd">flags</a> |=  <a class="code" href="a00029.html#gae3a98cd8c957552df89bce7b42ad9692">URI_FLAGS_HAS_SCHEME</a>; 
           ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#ac943b7c7bd534ddc1a84db68fdb9dbed">scheme</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, line );
           * next = line + 1;
           <span class="keywordflow">return</span> 0;
       }
    } 

    <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a09d4853f4d37fd26d138645da055bafc"></a><!-- doxytag: member="uri.c::parse_segment" ref="a09d4853f4d37fd26d138645da055bafc" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_segment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00150">150</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="a00021.html#aa42297e323b57f1d41ecc6ab66d15228">parse_pchar_sequence</a>( ctx, ptr, next ) &lt; 0) {
    <span class="keywordflow">return</span> -1;
  }
  
  ptr = *next;
  <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;;&#39;</span>) {
    <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, <span class="charliteral">&#39;;&#39;</span>, 0 );
    ptr = *next = ptr + 1;
    <span class="keywordflow">if</span> (<a class="code" href="a00021.html#aa42297e323b57f1d41ecc6ab66d15228">parse_pchar_sequence</a>( ctx, ptr, next ) &lt; 0) {
      <span class="keywordflow">return</span> -1;
    }
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af5c64e23533d55310336a6616922852b"></a><!-- doxytag: member="uri.c::parse_server" ref="af5c64e23533d55310336a6616922852b" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_server </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00364">364</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> rt ;

  rt = <a class="code" href="a00021.html#aab2f681a85eb14cf468100ce68ed20ab">parse_userinfo</a>(ctx, ptr, next);
  <span class="keywordflow">if</span> (rt &lt; 0) {
    <span class="keywordflow">return</span> -1;
  }
  ptr = *next;
  <span class="keywordflow">return</span> <a class="code" href="a00021.html#a66ff71abf545fe5b8177bd642e16653c">parse_hostport</a>( ctx, ptr, next);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa28908824686b0d40be21534a60ed2b9"></a><!-- doxytag: member="uri.c::parse_uric" ref="aa28908824686b0d40be21534a60ed2b9" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_uric </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00104">104</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordflow">if</span> (<a class="code" href="a00021.html#a4be1d64a304771921bfb433f56da9b8e">is_reserved</a>( *ptr ) || <a class="code" href="a00021.html#acce9ea7662290b5b285addb415153760">is_unreserved</a>( *ptr ) ) {
     <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, *ptr, 0 );
     *next = ptr +1;
     <span class="keywordflow">return</span> 0;
   }    
   <span class="keywordflow">return</span> <a class="code" href="a00021.html#a0b56a1f8c34732e7d34f6a26071196ff">parse_escaped</a>( ctx, ptr, next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae6afcc5b19c364ba41ef076cde2f1467"></a><!-- doxytag: member="uri.c::parse_uric_no_slash" ref="ae6afcc5b19c364ba41ef076cde2f1467" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_uric_no_slash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00440">440</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordflow">if</span> (<a class="code" href="a00021.html#acce9ea7662290b5b285addb415153760">is_unreserved</a>( *ptr ) || *ptr == <span class="charliteral">&#39;;&#39;</span> || *ptr == <span class="charliteral">&#39;?&#39;</span> || *ptr == <span class="charliteral">&#39;:&#39;</span> || *ptr == <span class="charliteral">&#39;@&#39;</span> || *ptr == <span class="charliteral">&#39;&amp;&#39;</span>
            || *ptr == <span class="charliteral">&#39;=&#39;</span> || *ptr == <span class="charliteral">&#39;+&#39;</span> || *ptr == <span class="charliteral">&#39;$&#39;</span> || *ptr == <span class="charliteral">&#39;,&#39;</span>) {
     <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, *ptr, 0);
     *next = ptr +1;
     <span class="keywordflow">return</span> 0;
   }    
   <span class="keywordflow">return</span> <a class="code" href="a00021.html#a0b56a1f8c34732e7d34f6a26071196ff">parse_escaped</a>( ctx, ptr, next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="adfb50d1059700bd12272e3a5fba61461"></a><!-- doxytag: member="uri.c::parse_uric_sequence" ref="adfb50d1059700bd12272e3a5fba61461" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_uric_sequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00115">115</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> rt;

  <span class="keywordflow">while</span>( (rt = <a class="code" href="a00021.html#aa28908824686b0d40be21534a60ed2b9">parse_uric</a>(  ctx, ptr, next )) == 0 ) {
    ptr = *next;
  }
  <span class="keywordflow">return</span> rt;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aab2f681a85eb14cf468100ce68ed20ab"></a><!-- doxytag: member="uri.c::parse_userinfo" ref="aab2f681a85eb14cf468100ce68ed20ab" args="(URIPARSECTX *ctx, char *ptr, char **next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int parse_userinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00013.html">URIPARSECTX</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00213">213</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *start = ptr;
    <span class="keywordtype">int</span> rt;

    <span class="keywordflow">while</span> ( *ptr  != <span class="charliteral">&#39;@&#39;</span> ) {
       <span class="keywordflow">if</span> ( <a class="code" href="a00021.html#acce9ea7662290b5b285addb415153760">is_unreserved</a>( *ptr ) || *ptr == <span class="charliteral">&#39;;&#39;</span> || *ptr ==  <span class="charliteral">&#39;:&#39;</span> || *ptr ==  <span class="charliteral">&#39;&amp;&#39;</span> 
                || *ptr ==  <span class="charliteral">&#39;=&#39;</span> || *ptr ==  <span class="charliteral">&#39;+&#39;</span> || *ptr ==  <span class="charliteral">&#39;$&#39;</span> || *ptr ==  <span class="charliteral">&#39;,&#39;</span>) {
         <a class="code" href="a00021.html#a4b4396f507fe125c822b3ca4042a41da">ctx_add_escaped_char</a>( ctx, *ptr, 0 );
         ++ ptr;
         <span class="keywordflow">continue</span>;
       } 
       <span class="keywordflow">if</span> ((rt = <a class="code" href="a00021.html#a0b56a1f8c34732e7d34f6a26071196ff">parse_escaped</a>( ctx, ptr, next )) != 0) {
         <a class="code" href="a00021.html#a80e6ead0b8e5e18540ac5e23d60575b4">ctx_undo_escaped_string</a>( ctx );  
         *next = start;
         <span class="keywordflow">return</span> rt;
       }  
       ptr = *next;
    }

    ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#ada1006ea50c7792e3645fc5be0dc3a2d">userinfo_raw</a> = <a class="code" href="a00021.html#abde5e24e4ee019b871ebe2a5575e270d">ctx_copy_string_raw</a>(ctx, start, ptr );
    ctx-&gt;<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a>-&gt;<a class="code" href="a00012.html#afff11e0c3c453382ec37ea31aee23753">userinfo</a> =  <a class="code" href="a00021.html#a0ad56df073d2ba27ea027e41469b3f9c">ctx_finish_escaped_string</a>(ctx); 
    *next = ptr + 1;

    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 25 2011 01:10:43 for HTTP Parser and message builder / objects in plain C by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
