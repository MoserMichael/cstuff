<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HTTP Parser and message builder / objects in plain C: URI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HTTP Parser and message builder / objects in plain C&#160;<span id="projectnumber">Snapshot</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">URI</div>  </div>
</div>
<div class="contents">

<p>uri parser  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00012.html">tagURI</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga681056ca2fe0804b02c215e651dcbb2c">URI_FLAGS_PARSE_PARTS</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gafa8525689f71c3fcc360d66eb75b79ed">URI_FLAGS_IS_ABSOLUTE_URI</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gab18d910ab6fe32e5e2bd49e138f1f1e5">URI_FLAGS_IS_OPAQUE</a>&#160;&#160;&#160;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga88117f2de53ca60461fdbfc19195c5e6">URI_FLAGS_HOST_IPv4</a>&#160;&#160;&#160;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gabdb6298e0841c217c1799c247fd27e60">URI_FLAGS_HOST_IPv6</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gaa8b74e1e32f1bfcbdc1c35bc351d0c37">URI_FLAGS_HOST_HOSTNAME</a>&#160;&#160;&#160;32</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gae3a98cd8c957552df89bce7b42ad9692">URI_FLAGS_HAS_SCHEME</a>&#160;&#160;&#160;64</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00012.html">tagURI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga5297e3ae1364bb45d1ab31ecba29aeaf">URI</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga8ff72430ab547d0151fc8c58c8039825">URI_init</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gab9acb8adb11be6e657892d858f40e917">URI_parse</a> (<a class="el" href="a00012.html">URI</a> *url, char *line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gab82397c63ee9a3456c6bdb8e109a007a">URI_free</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gad25a20b072ea1273ceae9c415f60885a">URI_scheme</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga7e7b36dd5a61ed237af86b2f61f18afe">URI_userinfo_raw</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gac9ffe857583c93e3f670fe91386b5007">URI_userinfo</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga49cd1027b83d86b0fb2feaeb9a5512b6">URI_host</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga1e247e963b134702005b8594f1208229">URI_port</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga45df5100f7aaf9ff9b3a48a7e1b8058f">URI_path_raw</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gafc9b62fcf20ed6453067e40b73afda3e">URI_path</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gacb7e21082a7179b1c28b1790f5add72b">URI_query_raw</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gae515aeb08040a6457cc2e0100bd3be99">URI_query</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga622da4084e73a2c02abde7034f8ad6ea">URI_fragment_raw</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gae6489119ac652510ee30ed253635f8b6">URI_fragment</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#gaff48eba33becc19347ac38fcf53d98b7">URI_opaque_raw</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00029.html#ga773c3e4af0c6238a6412da8f6f59898f">URI_opaque</a> (<a class="el" href="a00012.html">URI</a> *url)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>uri parser </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gae3a98cd8c957552df89bce7b42ad9692"></a><!-- doxytag: member="uri.h::URI_FLAGS_HAS_SCHEME" ref="gae3a98cd8c957552df89bce7b42ad9692" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FLAGS_HAS_SCHEME&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00022">22</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa8b74e1e32f1bfcbdc1c35bc351d0c37"></a><!-- doxytag: member="uri.h::URI_FLAGS_HOST_HOSTNAME" ref="gaa8b74e1e32f1bfcbdc1c35bc351d0c37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FLAGS_HOST_HOSTNAME&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00021">21</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga88117f2de53ca60461fdbfc19195c5e6"></a><!-- doxytag: member="uri.h::URI_FLAGS_HOST_IPv4" ref="ga88117f2de53ca60461fdbfc19195c5e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FLAGS_HOST_IPv4&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00019">19</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabdb6298e0841c217c1799c247fd27e60"></a><!-- doxytag: member="uri.h::URI_FLAGS_HOST_IPv6" ref="gabdb6298e0841c217c1799c247fd27e60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FLAGS_HOST_IPv6&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00020">20</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafa8525689f71c3fcc360d66eb75b79ed"></a><!-- doxytag: member="uri.h::URI_FLAGS_IS_ABSOLUTE_URI" ref="gafa8525689f71c3fcc360d66eb75b79ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FLAGS_IS_ABSOLUTE_URI&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00017">17</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab18d910ab6fe32e5e2bd49e138f1f1e5"></a><!-- doxytag: member="uri.h::URI_FLAGS_IS_OPAQUE" ref="gab18d910ab6fe32e5e2bd49e138f1f1e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FLAGS_IS_OPAQUE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00018">18</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga681056ca2fe0804b02c215e651dcbb2c"></a><!-- doxytag: member="uri.h::URI_FLAGS_PARSE_PARTS" ref="ga681056ca2fe0804b02c215e651dcbb2c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FLAGS_PARSE_PARTS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00016">16</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga5297e3ae1364bb45d1ab31ecba29aeaf"></a><!-- doxytag: member="uri.h::URI" ref="ga5297e3ae1364bb45d1ab31ecba29aeaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00012.html">tagURI</a>  <a class="el" href="a00012.html">URI</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae6489119ac652510ee30ed253635f8b6"></a><!-- doxytag: member="uri.h::URI_fragment" ref="gae6489119ac652510ee30ed253635f8b6" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_fragment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00131">131</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#afb4b0def9276bead2a348bab74e1034e">fragment</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga622da4084e73a2c02abde7034f8ad6ea"></a><!-- doxytag: member="uri.h::URI_fragment_raw" ref="ga622da4084e73a2c02abde7034f8ad6ea" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_fragment_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00126">126</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a474ccc0167a309bffaa8339f55ba51ef">fragment_raw</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gab82397c63ee9a3456c6bdb8e109a007a"></a><!-- doxytag: member="uri.h::URI_free" ref="gab82397c63ee9a3456c6bdb8e109a007a" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE void URI_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00065">65</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
  <span class="keywordflow">if</span> (url-&gt;<a class="code" href="a00012.html#a11ae40e294bcabbeb21d210fbc324a16">cdata_raw</a>) {
    free( url-&gt;<a class="code" href="a00012.html#a11ae40e294bcabbeb21d210fbc324a16">cdata_raw</a> );
  }

  <span class="keywordflow">if</span> (url-&gt;<a class="code" href="a00012.html#acae695b7cb9d303ce4180e0fa0ab44e0">cdata</a>) {
    free(url-&gt;<a class="code" href="a00012.html#acae695b7cb9d303ce4180e0fa0ab44e0">cdata</a>);
  }

  <span class="keywordflow">if</span> ( url-&gt;<a class="code" href="a00012.html#a3dda8a91c57bac6e9db0edc60c0572e8">cdata_is_escaped</a> ) {
    free( url-&gt;<a class="code" href="a00012.html#a3dda8a91c57bac6e9db0edc60c0572e8">cdata_is_escaped</a> );
  }
  <a class="code" href="a00029.html#ga8ff72430ab547d0151fc8c58c8039825">URI_init</a>( url );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga49cd1027b83d86b0fb2feaeb9a5512b6"></a><!-- doxytag: member="uri.h::URI_host" ref="ga49cd1027b83d86b0fb2feaeb9a5512b6" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_host </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00095">95</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a7ec586c2aee51d79c245ffce344a6c18">host</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga8ff72430ab547d0151fc8c58c8039825"></a><!-- doxytag: member="uri.h::URI_init" ref="ga8ff72430ab547d0151fc8c58c8039825" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE void URI_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00055">55</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  memset( url, 0, <span class="keyword">sizeof</span>( <a class="code" href="a00012.html">URI</a> ) );
  url-&gt;<a class="code" href="a00012.html#a90106354cb3a73f8035dd377eed540d8">port</a> = -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga773c3e4af0c6238a6412da8f6f59898f"></a><!-- doxytag: member="uri.h::URI_opaque" ref="ga773c3e4af0c6238a6412da8f6f59898f" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_opaque </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00141">141</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a591b8403463e8028851a7a84068672cf">opaque</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gaff48eba33becc19347ac38fcf53d98b7"></a><!-- doxytag: member="uri.h::URI_opaque_raw" ref="gaff48eba33becc19347ac38fcf53d98b7" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_opaque_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00136">136</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a7dc74378d1a475a10d1528d7ad4dd968">opaque_raw</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gab9acb8adb11be6e657892d858f40e917"></a><!-- doxytag: member="uri.h::URI_parse" ref="gab9acb8adb11be6e657892d858f40e917" args="(URI *url, char *line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int URI_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00021_source.html#l00523">523</a> of file <a class="el" href="a00021_source.html">uri.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <a class="code" href="a00029.html#ga8ff72430ab547d0151fc8c58c8039825">URI_init</a>( url );
   <a class="code" href="a00013.html">URIPARSECTX</a> ctx;
   <span class="keywordtype">char</span> *ptr,*next;
   <span class="keywordtype">size_t</span> slen;

   ctx.<a class="code" href="a00013.html#a247f676f1f828f9573fab8b77d18a162">rep</a> = url;

   slen = strlen( line );
   url-&gt;<a class="code" href="a00012.html#acae695b7cb9d303ce4180e0fa0ab44e0">cdata</a> = (<span class="keywordtype">char</span> *) malloc( slen );
   <span class="keywordflow">if</span> (!url-&gt;<a class="code" href="a00012.html#acae695b7cb9d303ce4180e0fa0ab44e0">cdata</a>) {
     <span class="keywordflow">goto</span> err;
   }

   ctx.<a class="code" href="a00013.html#ab5eec79fbd87a3faddbe6c6e37da4e33">cdata_pos_off</a> = ctx.<a class="code" href="a00013.html#ab0bbce6c84fdc9b47d66720287845852">cdata_pos_start</a> = ctx.<a class="code" href="a00013.html#adb85398bbc31177e903ba48a431aabbd">cdata_pos</a> = url-&gt;<a class="code" href="a00012.html#acae695b7cb9d303ce4180e0fa0ab44e0">cdata</a>;

   url-&gt;<a class="code" href="a00012.html#a11ae40e294bcabbeb21d210fbc324a16">cdata_raw</a> = (<span class="keywordtype">char</span> *) malloc( slen );
   <span class="keywordflow">if</span> (!url-&gt;<a class="code" href="a00012.html#a11ae40e294bcabbeb21d210fbc324a16">cdata_raw</a>) {
     <span class="keywordflow">goto</span> err;
   }

   url-&gt;<a class="code" href="a00012.html#a3dda8a91c57bac6e9db0edc60c0572e8">cdata_is_escaped</a> = (<span class="keywordtype">char</span> *) malloc( slen );
   <span class="keywordflow">if</span> (!url-&gt;<a class="code" href="a00012.html#a3dda8a91c57bac6e9db0edc60c0572e8">cdata_is_escaped</a>) {
     <span class="keywordflow">goto</span> err;
   }
   memset( url-&gt;<a class="code" href="a00012.html#a3dda8a91c57bac6e9db0edc60c0572e8">cdata_is_escaped</a>, 0, slen );
   ctx.<a class="code" href="a00013.html#ab6c0fad059718b37ab69741ae5761f73">cdata_is_escaped_start</a> = url-&gt;<a class="code" href="a00012.html#a3dda8a91c57bac6e9db0edc60c0572e8">cdata_is_escaped</a>;

   ctx.<a class="code" href="a00013.html#aed0cfa54ff781d5f68562a02acbf3fba">cdata_raw_pos</a> = url-&gt;<a class="code" href="a00012.html#a11ae40e294bcabbeb21d210fbc324a16">cdata_raw</a>;


   ptr = line;
   <span class="keywordflow">if</span> (ptr[0] == <span class="charliteral">&#39;/&#39;</span>) {
        <span class="keywordflow">if</span> ( <a class="code" href="a00021.html#a329ed8214b110b4c294f413f49cb9635">parse_hier_part</a>( &amp;ctx, ptr, &amp;next, 0) ) {
          <span class="keywordflow">goto</span> err;
        }
   } <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span> (! <a class="code" href="a00021.html#a39e605f0073f009c55127a0e9bd21707">parse_scheme</a>( &amp;ctx, ptr, &amp;next )) {
            ptr = next;
            <span class="keywordflow">if</span> ( <a class="code" href="a00021.html#a329ed8214b110b4c294f413f49cb9635">parse_hier_part</a>( &amp;ctx, ptr, &amp;next, 1 ) ) {
              <span class="keywordflow">goto</span> err;
            }   
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">if</span> ( <a class="code" href="a00021.html#a54749645383feb12ffbe62e168c7d5fa">parse_authority</a>( &amp;ctx, ptr, &amp;next )) {
               <span class="keywordflow">goto</span> err;
            }
        }   
   }

  <span class="keywordflow">if</span> (*next == <span class="charliteral">&#39;\0&#39;</span>) {
    <span class="keywordflow">return</span> 0;
  }

err:
  <a class="code" href="a00029.html#gab82397c63ee9a3456c6bdb8e109a007a">URI_free</a>( url );
  <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gafc9b62fcf20ed6453067e40b73afda3e"></a><!-- doxytag: member="uri.h::URI_path" ref="gafc9b62fcf20ed6453067e40b73afda3e" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00111">111</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a8fb5ba5e6bb70ec1b3599bdcaf813093">path</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga45df5100f7aaf9ff9b3a48a7e1b8058f"></a><!-- doxytag: member="uri.h::URI_path_raw" ref="ga45df5100f7aaf9ff9b3a48a7e1b8058f" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_path_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00106">106</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a928a5e3c37023a0a884a703077924eeb">path_raw</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga1e247e963b134702005b8594f1208229"></a><!-- doxytag: member="uri.h::URI_port" ref="ga1e247e963b134702005b8594f1208229" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int URI_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00100">100</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a90106354cb3a73f8035dd377eed540d8">port</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gae515aeb08040a6457cc2e0100bd3be99"></a><!-- doxytag: member="uri.h::URI_query" ref="gae515aeb08040a6457cc2e0100bd3be99" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00121">121</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a398a57e4184218f02fc33b04da7819fa">query</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gacb7e21082a7179b1c28b1790f5add72b"></a><!-- doxytag: member="uri.h::URI_query_raw" ref="gacb7e21082a7179b1c28b1790f5add72b" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_query_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00116">116</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#a93e6702c354c94b3157df02701827a2c">query_raw</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gad25a20b072ea1273ceae9c415f60885a"></a><!-- doxytag: member="uri.h::URI_scheme" ref="gad25a20b072ea1273ceae9c415f60885a" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_scheme </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00080">80</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#ac943b7c7bd534ddc1a84db68fdb9dbed">scheme</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gac9ffe857583c93e3f670fe91386b5007"></a><!-- doxytag: member="uri.h::URI_userinfo" ref="gac9ffe857583c93e3f670fe91386b5007" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_userinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00090">90</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#afff11e0c3c453382ec37ea31aee23753">userinfo</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga7e7b36dd5a61ed237af86b2f61f18afe"></a><!-- doxytag: member="uri.h::URI_userinfo_raw" ref="ga7e7b36dd5a61ed237af86b2f61f18afe" args="(URI *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE const char* URI_userinfo_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00012.html">URI</a> *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00022_source.html#l00085">85</a> of file <a class="el" href="a00022_source.html">uri.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> url-&gt;<a class="code" href="a00012.html#ada1006ea50c7792e3645fc5be0dc3a2d">userinfo_raw</a>;
}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 25 2011 01:10:43 for HTTP Parser and message builder / objects in plain C by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
