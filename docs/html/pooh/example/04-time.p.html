<html>
<head>Pooh program example 04-time.p</title></head>
<body>
<h3>Test 04-time.p</h3>

<h4>Source of programm</h4>

<pre>
# get current date / time; functions: localtime, gmtime, currenttime

daysofweek = [ 'Sun', 'Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat' ]

ctime = currenttime()
println( ~msg 'The seconds passed since Jan 1 1970 UTC time [ ctime ] ' )

[ secs, mins, hour, dayofmonth, month, year, dayofweek, _ ] = localtime( ~epoch ctime )

println( ~msg 'UTC time: Today is [daysofweek[dayofweek+1]] the time is [hour]:[mins]:[secs]  [dayofmonth]/[month]/[year]' )
[ secs, mins, hour, dayofmonth, month, year, dayofweek, _ ] = gmtime( ~epoch ctime )

println( ~msg 'UTC time: Today is [daysofweek[dayofweek+1]] the time is [hour]:[mins]:[secs]  [dayofmonth]/[month]/[year]' )

</pre>

<h4>Trace output for 04-time.p</h4>

<pre>
003|daysofweek = [ 'Sun' , 'Mon' , 'Tue' , 'Wed' , 'Thur' , 'Fri' , 'Sat'] 
005|... = currenttime(  )...
005|ctime = currenttime(  ):1361979819
006|println( ~msg 'The seconds passed since Jan 1 1970 UTC time ' .. ctime:1361979819 .. ' ' )...
008|... = localtime( ~epoch ctime:1361979819 )...
008|[ secs:39 , mins:43 , hour:10 , dayofmonth:27 , month:1 , year:2013 , dayofweek:3 ,  ]  = localtime( ~epoch ctime:1361979819 ):[ 39, 43, 10, 27, 1, 2013, 3, 57, 0 ]
010|println( ~msg 'UTC time: Today is ' .. daysofweek[(dayofweek:3 + 1):4]:'Wed' .. ' the time is ' .. hour:10 .. ':' .. mins:43 .. ':' .. secs:39 .. '  ' .. dayofmonth:27 .. '/' .. month:1 .. '/' .. year:2013 .. '' )...
011|... = gmtime( ~epoch ctime:1361979819 )...
011|[ secs:39 , mins:43 , hour:15 , dayofmonth:27 , month:1 , year:2013 , dayofweek:3 ,  ]  = gmtime( ~epoch ctime:1361979819 ):[ 39, 43, 15, 27, 1, 2013, 3, 57, 0 ]
013|println( ~msg 'UTC time: Today is ' .. daysofweek[(dayofweek:3 + 1):4]:'Wed' .. ' the time is ' .. hour:15 .. ':' .. mins:43 .. ':' .. secs:39 .. '  ' .. dayofmonth:27 .. '/' .. month:1 .. '/' .. year:2013 .. '' )...
</pre>

<h3>Standard output for 04-time.p</h3>

<pre>
The seconds passed since Jan 1 1970 UTC time 1361979819 
UTC time: Today is Wed the time is 10:43:39  27/1/2013
UTC time: Today is Wed the time is 15:43:39  27/1/2013

</pre>
</html>
</body>
