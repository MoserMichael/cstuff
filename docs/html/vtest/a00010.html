<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Simple XUnit test library / objects in plain C: vtestrunner.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simple XUnit test library / objects in plain C&#160;<span id="projectnumber">Snapshot</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vtestrunner.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;sys/time.h&gt;</code><br/>
</div>
<p><a href="a00010_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html">tagVTEST_RUNNER_IMPL</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#a723f694d8b96fcb8021ac0fb346eef76">VTEST_RUNNER_report_suite_start</a> )(const char *suite_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#ad3a2da9e0d9fe0171c6f160ee9e6c2d4">VTEST_RUNNER_report_test_start</a> )(const char *suite_name, const char *test_name, int iteration, int maxiteration)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#a191dccb37a176ce012e4366367dc570d">VTEST_RUNNER_report_results</a> )(<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1">VTEST_STATUS</a> status, const char *suite_name, const char *test_name, struct timeval *duration, const char *fail_cond, const char *fail_file, int fail_line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#ab438f5d719eec3f97d51a0bc33416e3d">VTEST_RUNNER_report_wrapup</a> )(int suitesinitfailed, int suitesteardownfailed, int tests_passed, int tests_failed, int testnotrun)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00002.html">tagVTEST_RUNNER_IMPL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#a0f3c206df647b82d4aee79bad3a978f4">VTEST_RUNNER_IMPL</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1">VTEST_STATUS</a> { <br/>
&#160;&#160;<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a1c90df150f8ebaf0848650618c66bec7">VTEST_TEST_FAILED</a> =  0, 
<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a707418bf7b2400b7282f16af32769069">VTEST_TEST_OK</a>, 
<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a41eb9054c64f8662bd8303e861a1c986">VTEST_SUITE_SETUP_FAILED</a>, 
<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a5e7abc933e42bb5da70c90612652a8cc">VTEST_SUITE_SETUP_OK</a>, 
<br/>
&#160;&#160;<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1aead358466757d63f9ff64e91099729c6">VTEST_SUITE_TEARDOWN_FAILED</a>, 
<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1ac1a892989da91fd3d362008c3cd12f69">VTEST_SUITE_TEARDOWN_OK</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#aa417fd7f65b276ab08060848510399b4">VTEST_test_runner</a> (<a class="el" href="a00004.html">VTEST_TEST_SUITE</a> *suite, <a class="el" href="a00002.html">VTEST_RUNNER_IMPL</a> *impl)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">run all test suites.  <a href="#aa417fd7f65b276ab08060848510399b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#aa917b1c203ce5d52b924f3369956df93">VTEST_test_runner_cmdline</a> (<a class="el" href="a00004.html">VTEST_TEST_SUITE</a> *suite, <a class="el" href="a00002.html">VTEST_RUNNER_IMPL</a> *impl, int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">run selected list of suites and tests; selection is specified via command line  <a href="#aa917b1c203ce5d52b924f3369956df93"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html#aafd1fce2122fb39ccbc0afb612c59be3">VTEST_goto_next_suite</a> (const char *suite_name)</td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a0f3c206df647b82d4aee79bad3a978f4"></a><!-- doxytag: member="vtestrunner.h::VTEST_RUNNER_IMPL" ref="a0f3c206df647b82d4aee79bad3a978f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00002.html">tagVTEST_RUNNER_IMPL</a>  <a class="el" href="a00002.html">VTEST_RUNNER_IMPL</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a191dccb37a176ce012e4366367dc570d"></a><!-- doxytag: member="vtestrunner.h::VTEST_RUNNER_report_results" ref="a191dccb37a176ce012e4366367dc570d" args=")(VTEST_STATUS status, const char *suite_name, const char *test_name, struct timeval *duration, const char *fail_cond, const char *fail_file, int fail_line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="a00010.html#a191dccb37a176ce012e4366367dc570d">VTEST_RUNNER_report_results</a>)(<a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1">VTEST_STATUS</a> status, const char *suite_name, const char *test_name, struct timeval *duration, const char *fail_cond, const char *fail_file, int fail_line)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00010_source.html#l00030">30</a> of file <a class="el" href="a00010_source.html">vtestrunner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a723f694d8b96fcb8021ac0fb346eef76"></a><!-- doxytag: member="vtestrunner.h::VTEST_RUNNER_report_suite_start" ref="a723f694d8b96fcb8021ac0fb346eef76" args=")(const char *suite_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="a00010.html#a723f694d8b96fcb8021ac0fb346eef76">VTEST_RUNNER_report_suite_start</a>)(const char *suite_name)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00010_source.html#l00025">25</a> of file <a class="el" href="a00010_source.html">vtestrunner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad3a2da9e0d9fe0171c6f160ee9e6c2d4"></a><!-- doxytag: member="vtestrunner.h::VTEST_RUNNER_report_test_start" ref="ad3a2da9e0d9fe0171c6f160ee9e6c2d4" args=")(const char *suite_name, const char *test_name, int iteration, int maxiteration)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="a00010.html#ad3a2da9e0d9fe0171c6f160ee9e6c2d4">VTEST_RUNNER_report_test_start</a>)(const char *suite_name, const char *test_name, int iteration, int maxiteration)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00010_source.html#l00027">27</a> of file <a class="el" href="a00010_source.html">vtestrunner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab438f5d719eec3f97d51a0bc33416e3d"></a><!-- doxytag: member="vtestrunner.h::VTEST_RUNNER_report_wrapup" ref="ab438f5d719eec3f97d51a0bc33416e3d" args=")(int suitesinitfailed, int suitesteardownfailed, int tests_passed, int tests_failed, int testnotrun)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="a00010.html#ab438f5d719eec3f97d51a0bc33416e3d">VTEST_RUNNER_report_wrapup</a>)(int suitesinitfailed, int suitesteardownfailed, int tests_passed, int tests_failed, int testnotrun)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00010_source.html#l00035">35</a> of file <a class="el" href="a00010_source.html">vtestrunner.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a8e1ed97b5fce3b7a10ab01d202fdc8c1"></a><!-- doxytag: member="vtestrunner.h::VTEST_STATUS" ref="a8e1ed97b5fce3b7a10ab01d202fdc8c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1">VTEST_STATUS</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a8e1ed97b5fce3b7a10ab01d202fdc8c1a1c90df150f8ebaf0848650618c66bec7"></a><!-- doxytag: member="VTEST_TEST_FAILED" ref="a8e1ed97b5fce3b7a10ab01d202fdc8c1a1c90df150f8ebaf0848650618c66bec7" args="" -->VTEST_TEST_FAILED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8e1ed97b5fce3b7a10ab01d202fdc8c1a707418bf7b2400b7282f16af32769069"></a><!-- doxytag: member="VTEST_TEST_OK" ref="a8e1ed97b5fce3b7a10ab01d202fdc8c1a707418bf7b2400b7282f16af32769069" args="" -->VTEST_TEST_OK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8e1ed97b5fce3b7a10ab01d202fdc8c1a41eb9054c64f8662bd8303e861a1c986"></a><!-- doxytag: member="VTEST_SUITE_SETUP_FAILED" ref="a8e1ed97b5fce3b7a10ab01d202fdc8c1a41eb9054c64f8662bd8303e861a1c986" args="" -->VTEST_SUITE_SETUP_FAILED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8e1ed97b5fce3b7a10ab01d202fdc8c1a5e7abc933e42bb5da70c90612652a8cc"></a><!-- doxytag: member="VTEST_SUITE_SETUP_OK" ref="a8e1ed97b5fce3b7a10ab01d202fdc8c1a5e7abc933e42bb5da70c90612652a8cc" args="" -->VTEST_SUITE_SETUP_OK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8e1ed97b5fce3b7a10ab01d202fdc8c1aead358466757d63f9ff64e91099729c6"></a><!-- doxytag: member="VTEST_SUITE_TEARDOWN_FAILED" ref="a8e1ed97b5fce3b7a10ab01d202fdc8c1aead358466757d63f9ff64e91099729c6" args="" -->VTEST_SUITE_TEARDOWN_FAILED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8e1ed97b5fce3b7a10ab01d202fdc8c1ac1a892989da91fd3d362008c3cd12f69"></a><!-- doxytag: member="VTEST_SUITE_TEARDOWN_OK" ref="a8e1ed97b5fce3b7a10ab01d202fdc8c1ac1a892989da91fd3d362008c3cd12f69" args="" -->VTEST_SUITE_TEARDOWN_OK</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00010_source.html#l00012">12</a> of file <a class="el" href="a00010_source.html">vtestrunner.h</a>.</p>
<div class="fragment"><pre class="fragment">             {
  <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a1c90df150f8ebaf0848650618c66bec7">VTEST_TEST_FAILED</a> = 0,
  <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a707418bf7b2400b7282f16af32769069">VTEST_TEST_OK</a>,

  <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a41eb9054c64f8662bd8303e861a1c986">VTEST_SUITE_SETUP_FAILED</a>,
  <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a5e7abc933e42bb5da70c90612652a8cc">VTEST_SUITE_SETUP_OK</a>,

  <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1aead358466757d63f9ff64e91099729c6">VTEST_SUITE_TEARDOWN_FAILED</a>,
  <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1ac1a892989da91fd3d362008c3cd12f69">VTEST_SUITE_TEARDOWN_OK</a>,
  
}
</pre></div>
</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aafd1fce2122fb39ccbc0afb612c59be3"></a><!-- doxytag: member="vtestrunner.h::VTEST_goto_next_suite" ref="aafd1fce2122fb39ccbc0afb612c59be3" args="(const char *suite_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VTEST_goto_next_suite </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>suite_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00007_source.html#l00199">199</a> of file <a class="el" href="a00007_source.html">vtest.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">if</span> (suite_name) {
                <a class="code" href="a00007.html#a1fab7003576575cdfd86da7a19ae87a2">g_suite_name</a> = strdup(suite_name);
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa417fd7f65b276ab08060848510399b4"></a><!-- doxytag: member="vtestrunner.h::VTEST_test_runner" ref="aa417fd7f65b276ab08060848510399b4" args="(VTEST_TEST_SUITE *suite, VTEST_RUNNER_IMPL *impl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VTEST_test_runner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">VTEST_TEST_SUITE</a> *&#160;</td>
          <td class="paramname"><em>suite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00002.html">VTEST_RUNNER_IMPL</a> *&#160;</td>
          <td class="paramname"><em>impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>run all test suites. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">suite</td><td>(in) the first test suite out of a chain of test suites. </td></tr>
    <tr><td class="paramname">impl</td><td>(in) class that implements a test runner. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00007_source.html#l00408">408</a> of file <a class="el" href="a00007_source.html">vtest.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">return</span> <a class="code" href="a00007.html#aa917b1c203ce5d52b924f3369956df93" title="run selected list of suites and tests; selection is specified via command line">VTEST_test_runner_cmdline</a>(suite, impl,0,0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa917b1c203ce5d52b924f3369956df93"></a><!-- doxytag: member="vtestrunner.h::VTEST_test_runner_cmdline" ref="aa917b1c203ce5d52b924f3369956df93" args="(VTEST_TEST_SUITE *suite, VTEST_RUNNER_IMPL *impl, int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VTEST_test_runner_cmdline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00004.html">VTEST_TEST_SUITE</a> *&#160;</td>
          <td class="paramname"><em>suite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00002.html">VTEST_RUNNER_IMPL</a> *&#160;</td>
          <td class="paramname"><em>impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>run selected list of suites and tests; selection is specified via command line </p>
<p>run all test suites. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">suite</td><td>(in) the first test suite out of a chain of test suites. </td></tr>
    <tr><td class="paramname">impl</td><td>(in) class that implements a test runner. </td></tr>
    <tr><td class="paramname">argc</td><td>(in) number of strings in command line </td></tr>
    <tr><td class="paramname">argv</td><td>(in) command line strings.</td></tr>
  </table>
  </dd>
</dl>
<p>command line specified by arguments argv and argc.</p>
<p>&lt;cmd_line&gt; ::= &lt;cmd_line&gt; SPACE &lt;build_spec&gt; | &lt;build_spec&gt;</p>
<p>&lt;build_spec&gt; ::= SUITENAME | SUITENAME/&lt;test_list&gt;</p>
<p>&lt;test_list&gt; ::= &lt;test_list&gt;,TESTNAME | TESTNAME</p>
<p>SUITENAME name of a test suite TESTNAME name of a test suite.</p>
<p>If a SUITENAME or TESTNAME does not exist, then it does not match and is not run; (no error are reported for these conditions).</p>
<p>Explanation: Empty command line means - run all tests.</p>
<p>Test suites are always run in the order of their declaration.</p>
<p>Can select execution of individual suite, and suites with selected set of list. </p>

<p>Definition at line <a class="el" href="a00007_source.html#l00242">242</a> of file <a class="el" href="a00007_source.html">vtest.c</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">int</span> testsfailed = 0;
        <span class="keywordtype">int</span> testspassed = 0;
        <span class="keywordtype">int</span> testnotrun  = 0;
        <span class="keywordtype">int</span> suitesinitfailed = 0;
        <span class="keywordtype">int</span> suitesteardownfailed = 0;
        <a class="code" href="a00004.html">VTEST_TEST_SUITE</a> *first_suite = suite;
<span class="preprocessor">#ifdef TIME_TEST_GETTIMEOFDAY</span>
<span class="preprocessor"></span>        <span class="keyword">struct </span>timeval start, end, duration;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>


        <span class="keywordtype">int</span> i,suite_ok;

        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a> = impl;

        <span class="keywordflow">for</span>(;suite; suite = suite-&gt;<a class="code" href="a00004.html#a56e5e719928172615641f316d5144401">next_suite</a>) {
                <a class="code" href="a00003.html">VTEST_TEST</a> *test;

                <span class="keywordflow">if</span> (<a class="code" href="a00007.html#a1fab7003576575cdfd86da7a19ae87a2">g_suite_name</a>) {
                        <a class="code" href="a00004.html">VTEST_TEST_SUITE</a> *next;

                        next = <a class="code" href="a00007.html#a526d7e5ae684f37a5eecacf20fcba6a5">find_suite_by_name</a>(first_suite, <a class="code" href="a00007.html#a1fab7003576575cdfd86da7a19ae87a2">g_suite_name</a>);
                        free(<a class="code" href="a00007.html#a1fab7003576575cdfd86da7a19ae87a2">g_suite_name</a>);
                        <a class="code" href="a00007.html#a1fab7003576575cdfd86da7a19ae87a2">g_suite_name</a> = 0;
                        
                        <span class="keywordflow">if</span> (next) {
                                suite = next;
                        }                       
                }

                <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a82335d40bafedf6ed3df5bb2c2ca63a7">suite</a> = suite;
                <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#ad9a7903a319ed14b62fb2de303e6f5b9">test</a> = 0;


                <span class="keywordflow">if</span> (!<a class="code" href="a00007.html#ab8c1dd9c6da0bf795cc70a1feeef6292">VTEST_is_run_suite</a>(suite-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>, argv, argc)) {
                        <span class="keywordflow">continue</span>;
                }

                <span class="keywordflow">if</span> (impl-&gt;<a class="code" href="a00002.html#a84275152b2efc400e37d05a3e2cae229">suite_start</a>) {
                  impl-&gt;<a class="code" href="a00002.html#a84275152b2efc400e37d05a3e2cae229">suite_start</a>(suite-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>);
                }

                suite_ok = 1;

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>                <span class="keywordflow">if</span> (suite-&gt;<a class="code" href="a00004.html#a73c6b953e3b1c5f39b34d02ae9b693ee">setUp</a>) {
                        
                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a> = 1; 
                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a90804fc11deef7b08763e47e01a9e6d2">scope_fail</a> = <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a41eb9054c64f8662bd8303e861a1c986">VTEST_SUITE_SETUP_FAILED</a>;

                        suite-&gt;<a class="code" href="a00004.html#a73c6b953e3b1c5f39b34d02ae9b693ee">setUp</a>();

                        <span class="keywordflow">if</span> (!<a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a>) {
                                suite_ok = 0;   
                        }
                }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                <span class="keywordflow">if</span> (suite_ok)  {

                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a2242678dd75ca03df88bb28f311ea17a">results</a>( <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a5e7abc933e42bb5da70c90612652a8cc">VTEST_SUITE_SETUP_OK</a>, suite-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>, 0, 0, 0, 0, 0);
                
                        <span class="keywordflow">for</span>(test = suite-&gt;<a class="code" href="a00004.html#ae6efa9c269cc192393aa2dfd3ce83d38">test_cases</a>; test-&gt;<a class="code" href="a00003.html#aedbd326bc39dd559d329cb4610da93d4">name</a> != 0; test++) {

                           <span class="keywordflow">if</span> (!<a class="code" href="a00007.html#a2578781a977cfd9eeb86039c8818a42c">VTEST_is_run_test</a>(suite-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>, test-&gt;<a class="code" href="a00003.html#aedbd326bc39dd559d329cb4610da93d4">name</a>, argv, argc)) {
                                <span class="keywordflow">continue</span>;
                           }


                           <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#ad9a7903a319ed14b62fb2de303e6f5b9">test</a> = test;


                                
                           <span class="keywordflow">for</span>(i = 0; i &lt; test-&gt;<a class="code" href="a00003.html#ae67a002d03792b660e181c0d370e6ea3">repeat</a> <span class="comment">/*&amp;&amp; !g_suite_name*/</span> ; i++) {

                                   impl-&gt;<a class="code" href="a00002.html#a2d98ba63d74c6cfab28598a800985d46">test_start</a>( suite-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>, test-&gt;<a class="code" href="a00003.html#aedbd326bc39dd559d329cb4610da93d4">name</a>, i+1, test-&gt;<a class="code" href="a00003.html#ae67a002d03792b660e181c0d370e6ea3">repeat</a>);

                                   <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a> = 1; 


<span class="preprocessor">#ifdef TIME_TEST_GETTIMEOFDAY</span>
<span class="preprocessor"></span>                                   gettimeofday( &amp;start, 0 );
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                                   
                                   <span class="keywordflow">if</span> (suite-&gt;<a class="code" href="a00004.html#a73c6b953e3b1c5f39b34d02ae9b693ee">setUp</a>) {
                                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a90804fc11deef7b08763e47e01a9e6d2">scope_fail</a> = <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a41eb9054c64f8662bd8303e861a1c986">VTEST_SUITE_SETUP_FAILED</a>;
                                        suite-&gt;<a class="code" href="a00004.html#a73c6b953e3b1c5f39b34d02ae9b693ee">setUp</a>();
                                   
                                   }

                                   <span class="keywordflow">if</span> (<a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a>) {
                                     <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a90804fc11deef7b08763e47e01a9e6d2">scope_fail</a> = <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a1c90df150f8ebaf0848650618c66bec7">VTEST_TEST_FAILED</a>;
                                     test-&gt;<a class="code" href="a00003.html#aab90c5c247a2c1db1b525927425466c6">function</a>();
                                   }


                                   <span class="keywordflow">if</span> (<a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a> &amp;&amp; suite-&gt;<a class="code" href="a00004.html#a4963995b80ce16dd826c2e9db46be15a">tearDown</a>) {
                                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a90804fc11deef7b08763e47e01a9e6d2">scope_fail</a> = <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1aead358466757d63f9ff64e91099729c6">VTEST_SUITE_TEARDOWN_FAILED</a>;
                                        suite-&gt;<a class="code" href="a00004.html#a4963995b80ce16dd826c2e9db46be15a">tearDown</a>();
                                   }


                                   <span class="keywordflow">if</span> (<a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a>) {
<span class="preprocessor">#ifdef TIME_TEST_GETTIMEOFDAY</span>
<span class="preprocessor"></span>                                          gettimeofday( &amp;end, 0 );
                                          <a class="code" href="a00007.html#aa27119f0dfe5abbd5fcb21a0bdca24d8">timersub_timeval</a>( &amp;end, &amp;start, &amp;duration );

                                          <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a2242678dd75ca03df88bb28f311ea17a">results</a>( <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a707418bf7b2400b7282f16af32769069">VTEST_TEST_OK</a>, 
                                                                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a82335d40bafedf6ed3df5bb2c2ca63a7">suite</a>-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>, 
                                                                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#ad9a7903a319ed14b62fb2de303e6f5b9">test</a>-&gt;<a class="code" href="a00003.html#aedbd326bc39dd559d329cb4610da93d4">name</a>, 
                                                                        &amp;duration,
                                                                        0, 0, 0);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>                                          <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a2242678dd75ca03df88bb28f311ea17a">results</a>( <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1a707418bf7b2400b7282f16af32769069">VTEST_TEST_OK</a>,
                                                                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a82335d40bafedf6ed3df5bb2c2ca63a7">suite</a>-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>, 
                                                                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#ad9a7903a319ed14b62fb2de303e6f5b9">test</a>-&gt;<a class="code" href="a00003.html#aedbd326bc39dd559d329cb4610da93d4">name</a>, 
                                                                        0,
                                                                        0, 0, 0);
<span class="preprocessor">#endif                             </span>
<span class="preprocessor"></span>                                   }
                                   <span class="keywordflow">if</span> (<a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a>) {
                                           testspassed++;
                                   } <span class="keywordflow">else</span> {
                                           testsfailed++;
                                   }
                           } <span class="comment">// eof test</span>
                           
                        } <span class="comment">// eof suite</span>

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>                        <span class="keywordflow">if</span> (suite-&gt;<a class="code" href="a00004.html#a4963995b80ce16dd826c2e9db46be15a">tearDown</a>) {

                                <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a> = 1; 
                                <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a90804fc11deef7b08763e47e01a9e6d2">scope_fail</a> = <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1aead358466757d63f9ff64e91099729c6">VTEST_SUITE_TEARDOWN_FAILED</a>;
                                <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#ad9a7903a319ed14b62fb2de303e6f5b9">test</a> = 0;

                                suite-&gt;<a class="code" href="a00004.html#a4963995b80ce16dd826c2e9db46be15a">tearDown</a>();

                        
                                <span class="keywordflow">if</span> (<a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a85901f9cda6b2b7ce0a101cda31d9974">current_test_state</a>) {
                                        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a2242678dd75ca03df88bb28f311ea17a">results</a>( <a class="code" href="a00010.html#a8e1ed97b5fce3b7a10ab01d202fdc8c1ac1a892989da91fd3d362008c3cd12f69">VTEST_SUITE_TEARDOWN_OK</a>, suite-&gt;<a class="code" href="a00004.html#a606e0fc75c44a092aeb4ce79dc66da4c">name</a>, 0, 0, 0, 0);
                                        
                                } <span class="keywordflow">else</span> {
                                        suitesteardownfailed++;
                                }
                        }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                } <span class="keywordflow">else</span> {
                        <span class="comment">/*test setup failed*/</span>
                        <span class="keywordflow">for</span>(test = suite-&gt;<a class="code" href="a00004.html#ae6efa9c269cc192393aa2dfd3ce83d38">test_cases</a>;test-&gt;<a class="code" href="a00003.html#aedbd326bc39dd559d329cb4610da93d4">name</a> != 0;test++) {
                                testnotrun ++;
                        }
                        suitesinitfailed ++;
                }
                
        }

        <a class="code" href="a00007.html#a53a3558c2850ac9d96eeb795fbfc70c0">vtest_impl</a>-&gt;<a class="code" href="a00002.html#a1363985c7632864c794d5366453becc2">wrapup</a>( suitesinitfailed, suitesteardownfailed,
                                            testspassed, testsfailed, testnotrun);

        <span class="keywordflow">return</span> suitesinitfailed == 0 &amp;&amp; suitesteardownfailed == 0 &amp;&amp; testspassed == 0 &amp;&amp; testsfailed == 0;
}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Sep 14 2011 20:05:46 for Simple XUnit test library / objects in plain C by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
