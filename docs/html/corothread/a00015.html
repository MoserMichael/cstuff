<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Simple coroutine library / objects in plain C: VALUES</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simple coroutine library / objects in plain C&#160;<span id="projectnumber">Snapshot</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">VALUES</div>  </div>
</div>
<div class="contents">

<p>A class for conveniently passing of typed tuple of values.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00005.html">tagVALUES</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00005.html">tagVALUES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#ga2990e408ffc5d0b655cfcdd44baf79bb">VALUES</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#ga9b48cbc8019459edddc6e3460bbddec7">VALUES_init</a> (<a class="el" href="a00005.html">VALUES</a> *val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initialises a typed tuple of values object  <a href="#ga9b48cbc8019459edddc6e3460bbddec7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#gadc81d8388676be48c37a79d13285d034">VALUES_free</a> (<a class="el" href="a00005.html">VALUES</a> *val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">frees a typed tuple of values object  <a href="#gadc81d8388676be48c37a79d13285d034"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#gac97baad2ae0049269577a1e3b9cbd712">VALUES_printv</a> (<a class="el" href="a00005.html">VALUES</a> *val, const char *format, va_list ap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">insert typed tuple of values  <a href="#gac97baad2ae0049269577a1e3b9cbd712"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#gacf930ac221512e68a70858baa1273e10">VALUES_scanv</a> (<a class="el" href="a00005.html">VALUES</a> *val, const char *format, va_list ap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve typed tuple of values; like scanf receives varying number of arguments  <a href="#gacf930ac221512e68a70858baa1273e10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#ga18d04f292268912e84754bfca00c2686">VALUES_print</a> (<a class="el" href="a00005.html">VALUES</a> *val, const char *format,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">set typed tuple of values; like prinf receives varying number of arguments  <a href="#ga18d04f292268912e84754bfca00c2686"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#gae0a7832c96995771845826d07e7bf2b8">VALUES_scan</a> (<a class="el" href="a00005.html">VALUES</a> *val, const char *format,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve typed tuple of values; like scanf receives varying number of arguments  <a href="#gae0a7832c96995771845826d07e7bf2b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE <a class="el" href="a00004.html">VAL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#gaa5df08c3e318179f452927579127b54a">VALUES_at</a> (<a class="el" href="a00005.html">VALUES</a> *val, size_t pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html#gad1cd0e6163b14a422130a779c122dce5">VALUES_size</a> (<a class="el" href="a00005.html">VALUES</a> *val)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>A class for conveniently passing of typed tuple of values. </p>
<p>A typed tuple of values is stored into the VALUES object by a printf like function.</p>
<p>VALUES_print( values, "%hhu%hd%d%qd%s", n8, n16, n32, n64, sval );</p>
<p>Once inserted, the values can be retrieved back, also by a scanf like function</p>
<p>VALUES_scan( &amp;val, "%hhu%hd%d%qd%s", &amp;_n8, &amp;_n16, &amp;_n32, &amp;_n64, &amp;_sval );</p>
<p>Note that the type specifiers of values retrieved must be strictly the same as that of the values inserted previously.</p>
<p>Type specifiers:</p>
<p>hhd - signed byte (int8_t) hhu - unsigned byte (uint8_t) hd - signed short (int16_t) hhu - unsigned short (uint16_t) d - signed integer (int32_t) u - unsigned integer (uint32_t) qd - signed long long (int64_t) qu - unsiend long long (uint64_t s - null terminated string pointer p - void pointer. </p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga2990e408ffc5d0b655cfcdd44baf79bb"></a><!-- doxytag: member="val.h::VALUES" ref="ga2990e408ffc5d0b655cfcdd44baf79bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00005.html">tagVALUES</a>  <a class="el" href="a00005.html">VALUES</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaa5df08c3e318179f452927579127b54a"></a><!-- doxytag: member="val.h::VALUES_at" ref="gaa5df08c3e318179f452927579127b54a" args="(VALUES *val, size_t pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE <a class="el" href="a00004.html">VAL</a>* VALUES_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00011_source.html#l00142">142</a> of file <a class="el" href="a00011_source.html">val.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> (<a class="code" href="a00004.html">VAL</a> *) ARRAY_at( &amp;val-&gt;<a class="code" href="a00005.html#ad1003384c7cf54a9b66725070203c987">values</a>, pos );
}
</pre></div>
</div>
</div>
<a class="anchor" id="gadc81d8388676be48c37a79d13285d034"></a><!-- doxytag: member="val.h::VALUES_free" ref="gadc81d8388676be48c37a79d13285d034" args="(VALUES *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE void VALUES_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>frees a typed tuple of values object </p>

<p>Definition at line <a class="el" href="a00011_source.html#l00096">96</a> of file <a class="el" href="a00011_source.html">val.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  ARRAY_free( &amp;val-&gt;<a class="code" href="a00005.html#ad1003384c7cf54a9b66725070203c987">values</a> );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga9b48cbc8019459edddc6e3460bbddec7"></a><!-- doxytag: member="val.h::VALUES_init" ref="ga9b48cbc8019459edddc6e3460bbddec7" args="(VALUES *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int VALUES_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initialises a typed tuple of values object </p>

<p>Definition at line <a class="el" href="a00011_source.html#l00088">88</a> of file <a class="el" href="a00011_source.html">val.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> ARRAY_init( &amp;val-&gt;<a class="code" href="a00005.html#ad1003384c7cf54a9b66725070203c987">values</a>, <span class="keyword">sizeof</span>(<a class="code" href="a00004.html">VAL</a>), 10);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga18d04f292268912e84754bfca00c2686"></a><!-- doxytag: member="val.h::VALUES_print" ref="ga18d04f292268912e84754bfca00c2686" args="(VALUES *val, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int VALUES_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set typed tuple of values; like prinf receives varying number of arguments </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>- the VALUES object that is modified </td></tr>
    <tr><td class="paramname">format</td><td>- Format specifier (for details see documentation of VALUES class) </td></tr>
    <tr><td class="paramname">ap</td><td>- va_list - pointer to stack frame of variadic function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00011_source.html#l00123">123</a> of file <a class="el" href="a00011_source.html">val.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  va_list vlist;
  va_start( vlist, format );
  <span class="keywordflow">return</span> <a class="code" href="a00015.html#gac97baad2ae0049269577a1e3b9cbd712" title="insert typed tuple of values">VALUES_printv</a>( val,  format, vlist );
}
</pre></div>
</div>
</div>
<a class="anchor" id="gac97baad2ae0049269577a1e3b9cbd712"></a><!-- doxytag: member="val.h::VALUES_printv" ref="gac97baad2ae0049269577a1e3b9cbd712" args="(VALUES *val, const char *format, va_list ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VALUES_printv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>insert typed tuple of values </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>- the VALUES object that is modified </td></tr>
    <tr><td class="paramname">format</td><td>- Format specifier (for details see documentation of VALUES class) </td></tr>
    <tr><td class="paramname">ap</td><td>- </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00010_source.html#l00062">62</a> of file <a class="el" href="a00010_source.html">val.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <span class="keywordtype">char</span> *pos;
  <a class="code" href="a00014.html#gad60b9d9384dafef239bf9aff56b6b8cf">VAL_TYPE</a> type;
  <a class="code" href="a00004.html">VAL</a> val;
  <span class="keywordtype">int</span> rt;
  ARRAY_reset( &amp;values-&gt;values );
  
  pos = format;
  <span class="keywordflow">while</span>( (rt = <a class="code" href="a00010.html#a4361d4689213b4e2b078af83f09c3c4c">parse_spec</a>( &amp;pos, &amp;type ) ) == 0 ) {
    val.<a class="code" href="a00004.html#a900c6f814256f1ba3de6ab942807dc05">type</a> = type;
    <span class="keywordflow">switch</span>( type ) {
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa0394878f389741aea4dd627aa8b3faa8">VAL_TYPE_UINT8</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#aa54ef308a3753d33deb971f8061433c7">u8</a> = (uint8_t) va_arg( ap, int32_t );
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfaf117dcf63c83f11c1cfe600a49cd4e73">VAL_TYPE_INT8</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a18e29adbc81e4990e15f2d8f7791bd88">n8</a> = (int8_t) va_arg( ap, int32_t );
         <span class="keywordflow">break</span>;
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfaaa861170a753d8e5ddb1c41343d0fcff">VAL_TYPE_UINT16</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a816dfd495b2517dc5d037c4d370de457">u16</a> = (uint16_t) va_arg( ap, uint32_t );
         <span class="keywordflow">break</span>;
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfab5e169eb252afe4e048ef9969a5030ba">VAL_TYPE_INT16</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#ac74553150e8554674e3f5322b0be7ae8">n16</a> = (int16_t) va_arg( ap, int32_t );
         <span class="keywordflow">break</span>;
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfac873843d8b66555659b515e71e658772">VAL_TYPE_UINT32</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a280d9f195ebe18535613ab9b2b2dc42f">u32</a> = va_arg( ap, uint32_t );
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfaa4edd5ed053121eb09c6643c53e9f768">VAL_TYPE_INT32</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a87de29ba193bc4e23d48585c94a59cff">n32</a> = va_arg( ap, int32_t );
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa7b80609b03c65b1fd48258c2425f19e9">VAL_TYPE_UINT64</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a2a096a58138d1a614d09fa1ca83c7a0c">u64</a> = va_arg( ap, uint64_t );
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa6ea0bec1fd493066251491cd7cce2421">VAL_TYPE_INT64</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a293e232cb95fb63855aac36d83e6fc89">n64</a> = va_arg( ap, int64_t );
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa468708e875bee305f8d5953fd2bfa0a1">VAL_TYPE_STRING</a>:
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa1d77ae25806cfe41125cdadb7e79312d">VAL_TYPE_PTR</a>:
         val.<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#aa21f46693fb94f3db15b77e6c3ffc4e4">pval</a> = va_arg( ap, <span class="keywordtype">void</span> *  );
         <span class="keywordflow">break</span>;
     }
     ARRAY_push_back( &amp;values-&gt;values, &amp;val, <span class="keyword">sizeof</span>(val) );
  }
  va_end( ap );
  
  <span class="keywordflow">if</span> (rt == -1) {
    <span class="keywordflow">return</span> -1;
  }
  <span class="keywordflow">return</span> 0; 
}
</pre></div>
</div>
</div>
<a class="anchor" id="gae0a7832c96995771845826d07e7bf2b8"></a><!-- doxytag: member="val.h::VALUES_scan" ref="gae0a7832c96995771845826d07e7bf2b8" args="(VALUES *val, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int VALUES_scan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>retrieve typed tuple of values; like scanf receives varying number of arguments </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>- the VALUES object that is modified </td></tr>
    <tr><td class="paramname">format</td><td>- Format specifier (for details see documentation of VALUES class) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00011_source.html#l00135">135</a> of file <a class="el" href="a00011_source.html">val.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  va_list vlist;
  va_start( vlist, format );
  <span class="keywordflow">return</span> <a class="code" href="a00015.html#gacf930ac221512e68a70858baa1273e10" title="retrieve typed tuple of values; like scanf receives varying number of arguments">VALUES_scanv</a>( val, format, vlist );
}
</pre></div>
</div>
</div>
<a class="anchor" id="gacf930ac221512e68a70858baa1273e10"></a><!-- doxytag: member="val.h::VALUES_scanv" ref="gacf930ac221512e68a70858baa1273e10" args="(VALUES *val, const char *format, va_list ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VALUES_scanv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>retrieve typed tuple of values; like scanf receives varying number of arguments </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>- the VALUES object that is modified </td></tr>
    <tr><td class="paramname">format</td><td>- Format specifier (for details see documentation of VALUES class) </td></tr>
    <tr><td class="paramname">ap</td><td>- va_list - pointer to stack frame of variadic function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00010_source.html#l00113">113</a> of file <a class="el" href="a00010_source.html">val.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00014.html#gad60b9d9384dafef239bf9aff56b6b8cf">VAL_TYPE</a> type;
  <a class="code" href="a00004.html">VAL</a> *val;
  <span class="keywordtype">size_t</span> i;
  <span class="keyword">const</span> <span class="keywordtype">char</span> *pos;
  <span class="keywordtype">void</span> *ptr;
  <span class="keywordtype">int</span> rt;

  pos = format;
  <span class="keywordflow">for</span>(i = 0; i &lt; ARRAY_size(&amp;values-&gt;values) &amp;&amp; (rt = <a class="code" href="a00010.html#a4361d4689213b4e2b078af83f09c3c4c">parse_spec</a>( &amp;pos, &amp;type )) == 0; i++ ) {
     val = <a class="code" href="a00015.html#gaa5df08c3e318179f452927579127b54a">VALUES_at</a>( values, i );

     <span class="keywordflow">if</span> (val-&gt;<a class="code" href="a00004.html#a900c6f814256f1ba3de6ab942807dc05">type</a> != type) {
       va_end(ap);
       <span class="keywordflow">return</span> -1;
     }

     ptr = va_arg( ap, <span class="keywordtype">void</span> *);

     <span class="keywordflow">switch</span>( type ) {
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa0394878f389741aea4dd627aa8b3faa8">VAL_TYPE_UINT8</a>: 
         * ((uint8_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#aa54ef308a3753d33deb971f8061433c7">u8</a>;
         <span class="keywordflow">break</span>;
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfaf117dcf63c83f11c1cfe600a49cd4e73">VAL_TYPE_INT8</a>:
         * ((int8_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a18e29adbc81e4990e15f2d8f7791bd88">n8</a>;
         <span class="keywordflow">break</span>;
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfaaa861170a753d8e5ddb1c41343d0fcff">VAL_TYPE_UINT16</a>:
         * ((uint16_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a816dfd495b2517dc5d037c4d370de457">u16</a>;
         <span class="keywordflow">break</span>;
       <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfab5e169eb252afe4e048ef9969a5030ba">VAL_TYPE_INT16</a>:
         * ((int16_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#ac74553150e8554674e3f5322b0be7ae8">n16</a>;
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfac873843d8b66555659b515e71e658772">VAL_TYPE_UINT32</a>:
         * ((uint32_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a280d9f195ebe18535613ab9b2b2dc42f">u32</a>;
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfaa4edd5ed053121eb09c6643c53e9f768">VAL_TYPE_INT32</a>:
         * ((int32_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a87de29ba193bc4e23d48585c94a59cff">n32</a>;
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa7b80609b03c65b1fd48258c2425f19e9">VAL_TYPE_UINT64</a>:
         * ((uint64_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a2a096a58138d1a614d09fa1ca83c7a0c">u64</a>;
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa6ea0bec1fd493066251491cd7cce2421">VAL_TYPE_INT64</a>:
         * ((int64_t *) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a293e232cb95fb63855aac36d83e6fc89">n64</a>;
         <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa468708e875bee305f8d5953fd2bfa0a1">VAL_TYPE_STRING</a>:
      <span class="keywordflow">case</span> <a class="code" href="a00014.html#ggad60b9d9384dafef239bf9aff56b6b8cfa1d77ae25806cfe41125cdadb7e79312d">VAL_TYPE_PTR</a>:
         * ((<span class="keywordtype">char</span> **) ptr) = val-&gt;<a class="code" href="a00004.html#a454ea739dc282feb406302263e3da22a">u</a>.<a class="code" href="a00004.html#a4d77a5b848264725ecaaa1e7ff49153c">sval</a>;
         <span class="keywordflow">break</span>;
     }
  }
  va_end( ap );

  <span class="keywordflow">if</span> (rt == -1) {
    <span class="keywordflow">return</span> -1;
  }
  <span class="keywordflow">if</span> (*pos != <span class="charliteral">&#39;\0&#39;</span>) {
    <span class="keywordflow">return</span> -1;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gad1cd0e6163b14a422130a779c122dce5"></a><!-- doxytag: member="val.h::VALUES_size" ref="gad1cd0e6163b14a422130a779c122dce5" args="(VALUES *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE size_t VALUES_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00005.html">VALUES</a> *&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00011_source.html#l00148">148</a> of file <a class="el" href="a00011_source.html">val.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> ARRAY_size( &amp;val-&gt;<a class="code" href="a00005.html#ad1003384c7cf54a9b66725070203c987">values</a> );
}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 25 2011 01:10:42 for Simple coroutine library / objects in plain C by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
