<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WEBBY - the embedded web server with many faces / objects in plain C: HTTP_FILTER</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">WEBBY - the embedded web server with many faces / objects in plain C&#160;<span id="projectnumber">Snapshot</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HTTP_FILTER</div>  </div>
</div>
<div class="contents">

<p>HTTP_FILTER - a filter implements a stage of processing the HTTP request / response.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00005.html">tagFILTER_CONTEXT</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">structure is passed to filter function as argument.  <a href="a00005.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html">RDATA</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00006.html">tagHTTP_FILTER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">http filter definition  <a href="a00006.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00005.html">tagFILTER_CONTEXT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga84c94eac8d6cfb5184937e3047eed77f">FILTER_CONTEXT</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">structure is passed to filter function as argument.  <a href="#ga84c94eac8d6cfb5184937e3047eed77f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga074df44cd12ded4ad916672d381edaca">HTTP_FILTER_INIT</a> )(struct <a class="el" href="a00006.html">tagHTTP_FILTER</a> *filter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gaaed8d741f1f3f1f7d16153f48df23e7d">HTTP_FILTER_FREE</a> )(struct <a class="el" href="a00006.html">tagHTTP_FILTER</a> *filter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga27407d3eb9a137407a8432603325b5b0">HTTP_FILTER_REQUEST_HEADER_PARSED</a> )(HTTP_REQUEST *request, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">filter callback: a http request header has been parsed, now the request header is passed through the filter chain.  <a href="#ga27407d3eb9a137407a8432603325b5b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga07fb25acde5fb71c0bbcad748331e462">HTTP_FILTER_REQUEST_DATA</a> )(HTTP_REQUEST *request, void *data, size_t data_size, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">filter callback: a buffer that is part of the request data has been received.  <a href="#ga07fb25acde5fb71c0bbcad748331e462"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gaf6f5ee2b34c30cd71ddeccf8a8cc98c8">HTTP_FILTER_REQUEST_COMPLETED</a> )(HTTP_REQUEST *request, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">filter callback: the http request has been parsed completely, and all request data has already been processed.  <a href="#gaf6f5ee2b34c30cd71ddeccf8a8cc98c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gace404adfffdcfe00660631c1b74d141e">HTTP_FILTER_RESPONSE_HEADER</a> )(HTTP_RESPONSE *response, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">filter callback: a response header has now passed through the filter.  <a href="#gace404adfffdcfe00660631c1b74d141e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga3fc7467c414925853cc55e085bef5ddc">HTTP_FILTER_RESPONSE_DATA</a> )(HTTP_RESPONSE *response, int is_chunk, <a class="el" href="a00001.html">RDATA</a> rdata, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">filter callback: a buffer that is part of the response data has now passed through the filter  <a href="#ga3fc7467c414925853cc55e085bef5ddc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga3424cf82a3e72ff1a900de9383c52e61">HTTP_FILTER_RESPONSE_COMPLETED</a> )(HTTP_RESPONSE *response, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">filter callback: a http response has now passed completely through the filter, all response data has already been sent.  <a href="#ga3424cf82a3e72ff1a900de9383c52e61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga1f024d51ed2b1422159315f06fb051d8">HTTP_FILTER_CONNECTION_CLOSE</a> )(<a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">filter callback: called when a connection has been closed, the filter should free the connection context data, if any of it has been allocated.  <a href="#ga1f024d51ed2b1422159315f06fb051d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00006.html">tagHTTP_FILTER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga11cd4e823ff1b0e53cd2b74efc0713b6">HTTP_FILTER</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">http filter definition  <a href="#ga11cd4e823ff1b0e53cd2b74efc0713b6"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gaa72af13e42b9712dcd6651373796ebdc">call_next_filter_request_header_parsed</a> (HTTP_REQUEST *request, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">called by implementaiton of HTTP_FILTER_REQUEST_HEADER_PARSED filter callback, calls the next filter in the chain  <a href="#gaa72af13e42b9712dcd6651373796ebdc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga039bb80f347f613afb853cfd74478630">call_next_filter_request_data</a> (HTTP_REQUEST *request, void *data, size_t data_size, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">called by implementaiton of HTTP_FILTER_REQUEST_DATA filter callback, calls the next filter in the chain  <a href="#ga039bb80f347f613afb853cfd74478630"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga0640b7d009a7e522d8ca1482f521a453">call_next_filter_request_completed</a> (HTTP_REQUEST *request, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">called by implementaiton of HTTP_FILTER_REQUEST_COMPLETED filter callback, calls the next filter in the chain  <a href="#ga0640b7d009a7e522d8ca1482f521a453"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga32fc8cf13fe1f891d2dcbb7e50f3b3a7">call_next_filter_response_header</a> (HTTP_RESPONSE *response, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">called by implementaiton of HTTP_FILTER_RESPONSE_HEADER filter callback, calls the next filter in the chain  <a href="#ga32fc8cf13fe1f891d2dcbb7e50f3b3a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga9f0f204b55f36f27c0fb680faf7e1305">call_next_filter_response_data</a> (HTTP_RESPONSE *response, int is_chunk, <a class="el" href="a00001.html">RDATA</a> rdata, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">called by implementaiton of HTTP_FILTER_RESPONSE_DATA filter callback, calls the next filter in the chain  <a href="#ga9f0f204b55f36f27c0fb680faf7e1305"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">M_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga4418cb00f29e45e927ca4b428358f288">call_next_filter_response_completed</a> (HTTP_RESPONSE *response, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">called by implementaiton of HTTP_FILTER_RESPONSE_COMPLETED filter callback, calls the next filter in the chain  <a href="#ga4418cb00f29e45e927ca4b428358f288"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>HTTP_FILTER - a filter implements a stage of processing the HTTP request / response. </p>
<p>A filter can modify either one of the following aspects, as they are processed.</p>
<ul>
<li>http request header</li>
<li>http request data</li>
<li>http response header</li>
<li>http response data </li>
</ul>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga84c94eac8d6cfb5184937e3047eed77f"></a><!-- doxytag: member="webby.h::FILTER_CONTEXT" ref="ga84c94eac8d6cfb5184937e3047eed77f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00005.html">tagFILTER_CONTEXT</a>  <a class="el" href="a00005.html">FILTER_CONTEXT</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>structure is passed to filter function as argument. </p>

</div>
</div>
<a class="anchor" id="ga11cd4e823ff1b0e53cd2b74efc0713b6"></a><!-- doxytag: member="webby.h::HTTP_FILTER" ref="ga11cd4e823ff1b0e53cd2b74efc0713b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00006.html">tagHTTP_FILTER</a>  <a class="el" href="a00006.html">HTTP_FILTER</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>http filter definition </p>

</div>
</div>
<a class="anchor" id="ga1f024d51ed2b1422159315f06fb051d8"></a><!-- doxytag: member="webby.h::HTTP_FILTER_CONNECTION_CLOSE" ref="ga1f024d51ed2b1422159315f06fb051d8" args=")(FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#ga1f024d51ed2b1422159315f06fb051d8">HTTP_FILTER_CONNECTION_CLOSE</a>)(<a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>filter callback: called when a connection has been closed, the filter should free the connection context data, if any of it has been allocated. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>- filter context, we need it to call the next filter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00132">132</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaaed8d741f1f3f1f7d16153f48df23e7d"></a><!-- doxytag: member="webby.h::HTTP_FILTER_FREE" ref="gaaed8d741f1f3f1f7d16153f48df23e7d" args=")(struct tagHTTP_FILTER *filter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#gaaed8d741f1f3f1f7d16153f48df23e7d">HTTP_FILTER_FREE</a>)(struct <a class="el" href="a00006.html">tagHTTP_FILTER</a> *filter)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00046">46</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga074df44cd12ded4ad916672d381edaca"></a><!-- doxytag: member="webby.h::HTTP_FILTER_INIT" ref="ga074df44cd12ded4ad916672d381edaca" args=")(struct tagHTTP_FILTER *filter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#ga074df44cd12ded4ad916672d381edaca">HTTP_FILTER_INIT</a>)(struct <a class="el" href="a00006.html">tagHTTP_FILTER</a> *filter)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00017_source.html#l00043">43</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf6f5ee2b34c30cd71ddeccf8a8cc98c8"></a><!-- doxytag: member="webby.h::HTTP_FILTER_REQUEST_COMPLETED" ref="gaf6f5ee2b34c30cd71ddeccf8a8cc98c8" args=")(HTTP_REQUEST *request, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#gaf6f5ee2b34c30cd71ddeccf8a8cc98c8">HTTP_FILTER_REQUEST_COMPLETED</a>)(HTTP_REQUEST *request, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>filter callback: the http request has been parsed completely, and all request data has already been processed. </p>
<p>request - the http request header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>- filter context, we need it to call the next filter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00073">73</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga07fb25acde5fb71c0bbcad748331e462"></a><!-- doxytag: member="webby.h::HTTP_FILTER_REQUEST_DATA" ref="ga07fb25acde5fb71c0bbcad748331e462" args=")(HTTP_REQUEST *request, void *data, size_t data_size, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#ga07fb25acde5fb71c0bbcad748331e462">HTTP_FILTER_REQUEST_DATA</a>)(HTTP_REQUEST *request, void *data, size_t data_size, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>filter callback: a buffer that is part of the request data has been received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>- the http request header </td></tr>
    <tr><td class="paramname">data</td><td>- request data, if request data is chunked then this is after parsing of chunk (no chunk headers included) </td></tr>
    <tr><td class="paramname">data_size</td><td>- size of request data </td></tr>
    <tr><td class="paramname">context</td><td>- filter context, we need it to call the next filter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00065">65</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga27407d3eb9a137407a8432603325b5b0"></a><!-- doxytag: member="webby.h::HTTP_FILTER_REQUEST_HEADER_PARSED" ref="ga27407d3eb9a137407a8432603325b5b0" args=")(HTTP_REQUEST *request, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#ga27407d3eb9a137407a8432603325b5b0">HTTP_FILTER_REQUEST_HEADER_PARSED</a>)(HTTP_REQUEST *request, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>filter callback: a http request header has been parsed, now the request header is passed through the filter chain. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>- the http request header </td></tr>
    <tr><td class="paramname">context</td><td>- filter context, we need it to call the next filter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00055">55</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3424cf82a3e72ff1a900de9383c52e61"></a><!-- doxytag: member="webby.h::HTTP_FILTER_RESPONSE_COMPLETED" ref="ga3424cf82a3e72ff1a900de9383c52e61" args=")(HTTP_RESPONSE *response, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#ga3424cf82a3e72ff1a900de9383c52e61">HTTP_FILTER_RESPONSE_COMPLETED</a>)(HTTP_RESPONSE *response, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>filter callback: a http response has now passed completely through the filter, all response data has already been sent. </p>
<p>response - the http response header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>- filter context, we need it to call the next filter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00125">125</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3fc7467c414925853cc55e085bef5ddc"></a><!-- doxytag: member="webby.h::HTTP_FILTER_RESPONSE_DATA" ref="ga3fc7467c414925853cc55e085bef5ddc" args=")(HTTP_RESPONSE *response, int is_chunk, RDATA rdata, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#ga3fc7467c414925853cc55e085bef5ddc">HTTP_FILTER_RESPONSE_DATA</a>)(HTTP_RESPONSE *response, int is_chunk, <a class="el" href="a00001.html">RDATA</a> rdata, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>filter callback: a buffer that is part of the response data has now passed through the filter </p>
<p>There are two situations - the response uses 'chunks', the response does not use chunks.</p>
<p>If the response is chunked then a buffer object (BF) is used, which reserves space for chunk header before the start of the buffer.</p>
<p>The case of chunks: is_chunk != 0 rdata.chunk.bf - the chunk buffer (zero for the last chunk) rdata.chunk.chunk_no - the number of the chunk (starts with zero).</p>
<p>The case of no chunks: rdata.no_chunk.data - response data rdata.no_chunk.data_size - size of response data.</p>
<p>response - the http response header. is_chunk - not zero if response is chunked rdata - union that holds data for both chunked and not chunked case; </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>- filter context, we need it to call the next filter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00117">117</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<a class="anchor" id="gace404adfffdcfe00660631c1b74d141e"></a><!-- doxytag: member="webby.h::HTTP_FILTER_RESPONSE_HEADER" ref="gace404adfffdcfe00660631c1b74d141e" args=")(HTTP_RESPONSE *response, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="a00019.html#gace404adfffdcfe00660631c1b74d141e">HTTP_FILTER_RESPONSE_HEADER</a>)(HTTP_RESPONSE *response, <a class="el" href="a00005.html">FILTER_CONTEXT</a> *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>filter callback: a response header has now passed through the filter. </p>
<p>response - the http response header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>- filter context, we need it to call the next filter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00017_source.html#l00081">81</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0640b7d009a7e522d8ca1482f521a453"></a><!-- doxytag: member="webby.h::call_next_filter_request_completed" ref="ga0640b7d009a7e522d8ca1482f521a453" args="(HTTP_REQUEST *request, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int call_next_filter_request_completed </td>
          <td>(</td>
          <td class="paramtype">HTTP_REQUEST *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00005.html">FILTER_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by implementaiton of HTTP_FILTER_REQUEST_COMPLETED filter callback, calls the next filter in the chain </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00186">186</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00005.html" title="structure is passed to filter function as argument.">FILTER_CONTEXT</a> *next = context +  context-&gt;<a class="code" href="a00005.html#aee0b58f4f4d1647af8f01e19a046cdf5">next_request_filter_idx</a>;
  <span class="keywordflow">if</span> (next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a> == 0) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a>-&gt;<a class="code" href="a00006.html#ac171b2bcad117337da86aa482089ca8e">on_request_completed</a>( request,  next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga039bb80f347f613afb853cfd74478630"></a><!-- doxytag: member="webby.h::call_next_filter_request_data" ref="ga039bb80f347f613afb853cfd74478630" args="(HTTP_REQUEST *request, void *data, size_t data_size, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int call_next_filter_request_data </td>
          <td>(</td>
          <td class="paramtype">HTTP_REQUEST *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00005.html">FILTER_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by implementaiton of HTTP_FILTER_REQUEST_DATA filter callback, calls the next filter in the chain </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00174">174</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00005.html" title="structure is passed to filter function as argument.">FILTER_CONTEXT</a> *next = context + context-&gt;<a class="code" href="a00005.html#aee0b58f4f4d1647af8f01e19a046cdf5">next_request_filter_idx</a>;
  <span class="keywordflow">if</span> (next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a> == 0) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a>-&gt;<a class="code" href="a00006.html#a6acb030789968d9a75fb32f3305c7a3c">on_request_data</a>( request, data, data_size, next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="gaa72af13e42b9712dcd6651373796ebdc"></a><!-- doxytag: member="webby.h::call_next_filter_request_header_parsed" ref="gaa72af13e42b9712dcd6651373796ebdc" args="(HTTP_REQUEST *request, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int call_next_filter_request_header_parsed </td>
          <td>(</td>
          <td class="paramtype">HTTP_REQUEST *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00005.html">FILTER_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by implementaiton of HTTP_FILTER_REQUEST_HEADER_PARSED filter callback, calls the next filter in the chain </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00162">162</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00005.html" title="structure is passed to filter function as argument.">FILTER_CONTEXT</a> *next = context + context-&gt;<a class="code" href="a00005.html#aee0b58f4f4d1647af8f01e19a046cdf5">next_request_filter_idx</a>;
  <span class="keywordflow">if</span> (next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a> == 0) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a>-&gt;<a class="code" href="a00006.html#a680109fd10e4d352a38426fb3832154d">on_request_header_parsed</a>( request, next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga4418cb00f29e45e927ca4b428358f288"></a><!-- doxytag: member="webby.h::call_next_filter_response_completed" ref="ga4418cb00f29e45e927ca4b428358f288" args="(HTTP_RESPONSE *response, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int call_next_filter_response_completed </td>
          <td>(</td>
          <td class="paramtype">HTTP_RESPONSE *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00005.html">FILTER_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by implementaiton of HTTP_FILTER_RESPONSE_COMPLETED filter callback, calls the next filter in the chain </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00222">222</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00005.html" title="structure is passed to filter function as argument.">FILTER_CONTEXT</a> *next = context -  context-&gt;<a class="code" href="a00005.html#a6ca4c6974a625c100a13adfdb710acc4">next_response_filter_idx</a>;
  <span class="keywordflow">if</span> (next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a> == 0) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a>-&gt;<a class="code" href="a00006.html#a68eb80c5a6751584f37e7c57bea85798">on_response_completed</a>( response, next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga9f0f204b55f36f27c0fb680faf7e1305"></a><!-- doxytag: member="webby.h::call_next_filter_response_data" ref="ga9f0f204b55f36f27c0fb680faf7e1305" args="(HTTP_RESPONSE *response, int is_chunk, RDATA rdata, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int call_next_filter_response_data </td>
          <td>(</td>
          <td class="paramtype">HTTP_RESPONSE *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00001.html">RDATA</a>&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00005.html">FILTER_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by implementaiton of HTTP_FILTER_RESPONSE_DATA filter callback, calls the next filter in the chain </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00210">210</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00005.html" title="structure is passed to filter function as argument.">FILTER_CONTEXT</a> *next = context -  context-&gt;<a class="code" href="a00005.html#a6ca4c6974a625c100a13adfdb710acc4">next_response_filter_idx</a>;
  <span class="keywordflow">if</span> (next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a> == 0) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a>-&gt;<a class="code" href="a00006.html#a7505d786cec72de0641211b0da6b5b75">on_response_data</a>( response, is_chunk, rdata, next );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga32fc8cf13fe1f891d2dcbb7e50f3b3a7"></a><!-- doxytag: member="webby.h::call_next_filter_response_header" ref="ga32fc8cf13fe1f891d2dcbb7e50f3b3a7" args="(HTTP_RESPONSE *response, FILTER_CONTEXT *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_INLINE int call_next_filter_response_header </td>
          <td>(</td>
          <td class="paramtype">HTTP_RESPONSE *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00005.html">FILTER_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by implementaiton of HTTP_FILTER_RESPONSE_HEADER filter callback, calls the next filter in the chain </p>

<p>Definition at line <a class="el" href="a00017_source.html#l00198">198</a> of file <a class="el" href="a00017_source.html">webby.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="a00005.html" title="structure is passed to filter function as argument.">FILTER_CONTEXT</a> *next = context - context-&gt;<a class="code" href="a00005.html#a6ca4c6974a625c100a13adfdb710acc4">next_response_filter_idx</a>;
  <span class="keywordflow">if</span> (next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a> == 0) {
    <span class="keywordflow">return</span> 0;
  }
  <span class="keywordflow">return</span> next-&gt;<a class="code" href="a00005.html#ae9d9ee39035e778d3716187778febf40">filter</a>-&gt;<a class="code" href="a00006.html#a9e06479f6878202fa0b7c47adeed5030">on_response_header</a>( response, next );
}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 25 2011 00:52:52 for WEBBY - the embedded web server with many faces / objects in plain C by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
